/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=ot.type(e);return"function"===i||ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(ot.isFunction(t))return ot.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ot.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(dt.test(t))return ot.filter(t,e,i);t=ot.filter(t,e)}return ot.grep(e,function(e){return ot.inArray(e,t)>=0!==i})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=wt[e]={};return ot.each(e.match(bt)||[],function(e,i){t[i]=!0}),t}function s(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(pt.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(s(),ot.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace($t,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Tt.test(i)?ot.parseJSON(i):i}catch(o){}ot.data(e,t,i)}else i=void 0}return i}function u(e){var t;for(t in e)if(("data"!==t||!ot.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,i,n){if(ot.acceptData(e)){var o,r,s=ot.expando,a=e.nodeType,l=a?ot.cache:e,u=a?e[s]:e[s]&&s;if(u&&l[u]&&(n||l[u].data)||void 0!==i||"string"!=typeof t)return u||(u=a?e[s]=G.pop()||ot.guid++:s),l[u]||(l[u]=a?{}:{toJSON:ot.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[u]=ot.extend(l[u],t):l[u].data=ot.extend(l[u].data,t)),r=l[u],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[ot.camelCase(t)]=i),"string"==typeof t?(o=r[t],null==o&&(o=r[ot.camelCase(t)])):o=r,o}}function h(e,t,i){if(ot.acceptData(e)){var n,o,r=e.nodeType,s=r?ot.cache:e,a=r?e[ot.expando]:ot.expando;if(s[a]){if(t&&(n=i?s[a]:s[a].data)){ot.isArray(t)?t=t.concat(ot.map(t,ot.camelCase)):t in n?t=[t]:(t=ot.camelCase(t),t=t in n?[t]:t.split(" ")),o=t.length;for(;o--;)delete n[t[o]];if(i?!u(n):!ot.isEmptyObject(n))return}(i||(delete s[a].data,u(s[a])))&&(r?ot.cleanData([e],!0):it.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function f(){return!1}function p(){try{return pt.activeElement}catch(e){}}function g(e){var t=Ht.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function m(e,t){var i,n,o=0,r=typeof e.getElementsByTagName!==kt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==kt?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[o]);o++)!t||ot.nodeName(n,t)?r.push(n):ot.merge(r,m(n,t));return void 0===t||t&&ot.nodeName(e,t)?ot.merge([e],r):r}function v(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ot.nodeName(e,"table")&&ot.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ot.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Xt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,n=0;null!=(i=e[n]);n++)ot._data(i,"globalEval",!t||ot._data(t[n],"globalEval"))}function C(e,t){if(1===t.nodeType&&ot.hasData(e)){var i,n,o,r=ot._data(e),s=ot._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)ot.event.add(t,i,a[i][n])}s.data&&(s.data=ot.extend({},s.data))}}function k(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[ot.expando]){o=ot._data(t);for(n in o.events)ot.removeEvent(t,n,o.handle);t.removeAttribute(ot.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!ot.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function T(t,i){var n,o=ot(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(o[0]))?n.display:ot.css(o[0],"display");return o.detach(),r}function $(e){var t=pt,i=Zt[e];return i||(i=T(e,t),"none"!==i&&i||(Qt=(Qt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Qt[0].contentWindow||Qt[0].contentDocument).document,t.write(),t.close(),i=T(e,t),Qt.detach()),Zt[e]=i),i}function S(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function L(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=di.length;o--;)if(t=di[o]+i,t in e)return t;return n}function _(e,t){for(var i,n,o,r=[],s=0,a=e.length;a>s;s++)n=e[s],n.style&&(r[s]=ot._data(n,"olddisplay"),i=n.style.display,t?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&_t(n)&&(r[s]=ot._data(n,"olddisplay",$(n.nodeName)))):(o=_t(n),(i&&"none"!==i||!o)&&ot._data(n,"olddisplay",o?i:ot.css(n,"display"))));for(s=0;a>s;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[s]||"":"none"));return e}function M(e,t,i){var n=li.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function E(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=ot.css(e,i+Lt[r],!0,o)),n?("content"===i&&(s-=ot.css(e,"padding"+Lt[r],!0,o)),"margin"!==i&&(s-=ot.css(e,"border"+Lt[r]+"Width",!0,o))):(s+=ot.css(e,"padding"+Lt[r],!0,o),"padding"!==i&&(s+=ot.css(e,"border"+Lt[r]+"Width",!0,o)));return s}function N(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=ei(e),s=it.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=ti(e,t,r),(0>o||null==o)&&(o=e.style[t]),ni.test(o))return o;n=s&&(it.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+E(e,t,i||(s?"border":"content"),n,r)+"px"}function D(e,t,i,n,o){return new D.prototype.init(e,t,i,n,o)}function A(){return setTimeout(function(){fi=void 0}),fi=ot.now()}function z(e,t){var i,n={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i=Lt[o],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function P(e,t,i){for(var n,o=(bi[t]||[]).concat(bi["*"]),r=0,s=o.length;s>r;r++)if(n=o[r].call(i,t,e))return n}function H(e,t,i){var n,o,r,s,a,l,u,c,h=this,d={},f=e.style,p=e.nodeType&&_t(e),g=ot._data(e,"fxshow");i.queue||(a=ot._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ot.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],u=ot.css(e,"display"),c="none"===u?ot._data(e,"olddisplay")||$(e.nodeName):u,"inline"===c&&"none"===ot.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==$(e.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",it.shrinkWrapBlocks()||h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],gi.exec(o)){if(delete t[n],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;p=!0}d[n]=g&&g[n]||ot.style(e,n)}else u=void 0;if(ot.isEmptyObject(d))"inline"===("none"===u?$(e.nodeName):u)&&(f.display=u);else{g?"hidden"in g&&(p=g.hidden):g=ot._data(e,"fxshow",{}),r&&(g.hidden=!p),p?ot(e).show():h.done(function(){ot(e).hide()}),h.done(function(){var t;ot._removeData(e,"fxshow");for(t in d)ot.style(e,t,d[t])});for(n in d)s=P(p?g[n]:0,n,h),n in g||(g[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function O(e,t){var i,n,o,r,s;for(i in e)if(n=ot.camelCase(i),o=t[n],r=e[i],ot.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),s=ot.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=o)}else t[n]=o}function W(e,t,i){var n,o,r=0,s=yi.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=fi||A(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,r=1-n,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(r);return a.notifyWith(e,[u,r,i]),1>r&&l?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:fi||A(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ot.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)u.tweens[i].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);s>r;r++)if(n=yi[r].call(u,e,c,u.opts))return n;return ot.map(c,P,u),ot.isFunction(u.opts.start)&&u.opts.start.call(e,u),ot.fx.timer(ot.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function F(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(bt)||[];if(ot.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function I(e,t,i,n){function o(a){var l;return r[a]=!0,ot.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var r={},s=e===Bi;return o(t.dataTypes[0])||!r["*"]&&o("*")}function R(e,t){var i,n,o=ot.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&ot.extend(!0,e,i),e}function j(e,t,i){for(var n,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}n||(n=s)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function B(e,t,i,n){var o,r,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=u[l+" "+r]||u["* "+r],!s)for(o in u)if(a=o.split(" "),a[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[o]:u[o]!==!0&&(r=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function q(e,t,i,n){var o;if(ot.isArray(t))ot.each(t,function(t,o){i||Xi.test(e)?n(e,o):q(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==ot.type(t))n(e,t);else for(o in t)q(e+"["+o+"]",t[o],i,n)}function V(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function X(e){return ot.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],Y=G.slice,J=G.concat,K=G.push,Q=G.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,it={},nt="1.11.1",ot=function(e,t){return new ot.fn.init(e,t)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};ot.fn=ot.prototype={jquery:nt,constructor:ot,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},map:function(e){return this.pushStack(ot.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:G.sort,splice:G.splice},ot.extend=ot.fn.extend=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(o=arguments[a]))for(n in o)e=s[n],i=o[n],s!==i&&(u&&i&&(ot.isPlainObject(i)||(t=ot.isArray(i)))?(t?(t=!1,r=e&&ot.isArray(e)?e:[]):r=e&&ot.isPlainObject(e)?e:{},s[n]=ot.extend(u,r,i)):void 0!==i&&(s[n]=i));return s},ot.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray||function(e){return"array"===ot.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ot.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&ot.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(at,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,r=0,s=e.length,a=i(e);if(n){if(a)for(;s>r&&(o=t.apply(e[r],n),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],n),o===!1)break}else if(a)for(;s>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(rt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ot.merge(n,"string"==typeof e?[e]:e):K.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(Q)return Q.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;i>n;)e[o++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],r=0,s=e.length,a=!i;s>r;r++)n=!t(e[r],r),n!==a&&o.push(e[r]);return o},map:function(e,t,n){var o,r=0,s=e.length,a=i(e),l=[];if(a)for(;s>r;r++)o=t(e[r],r,n),null!=o&&l.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&l.push(o);return J.apply([],l)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(o=e[t],t=e,e=o),ot.isFunction(e)?(i=Y.call(arguments,2),n=function(){return e.apply(t||this,i.concat(Y.call(arguments)))},n.guid=e.guid=e.guid||ot.guid++,n):void 0},now:function(){return+new Date},support:it}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ut=/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */
function(e){function t(e,t,i,n){var o,r,s,a,l,u,h,f,p,g;if((t?t.ownerDocument||t:I)!==D&&N(t),t=t||D,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(z&&!n){if(o=yt.exec(e))if(s=o[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return i;if(r.id===s)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&W(t,r)&&r.id===s)return i.push(r),i}else{if(o[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((s=o[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(s)),i}if(x.qsa&&(!P||!P.test(e))){if(f=h=F,p=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=$(e),(h=t.getAttribute("id"))?f=h.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+d(u[l]);p=bt.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return Z.apply(i,p.querySelectorAll(g)),i}catch(m){}finally{h||t.removeAttribute("id")}}}return L(e.replace(lt,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>C.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[F]=!0,e}function o(e){var t=D.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)C.attrHandle[i[n]]=t}function s(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return n(function(t){return t=+t,n(function(i,n){for(var o,r=e([],i.length,t),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function c(e){return e&&typeof e.getElementsByTagName!==X&&e}function h(){}function d(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,o=i&&"parentNode"===n,r=j++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r)}:function(t,i,s){var a,l,u=[R,r];if(s){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,s))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(l=t[F]||(t[F]={}),(a=l[n])&&a[0]===R&&a[1]===r)return u[2]=a[2];if(l[n]=u,u[2]=e(t,i,s))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var o=0,r=i.length;r>o;o++)t(e,i[o],n);return n}function m(e,t,i,n,o){for(var r,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(r=e[a])&&(!i||i(r,n,o))&&(s.push(r),u&&t.push(a));return s}function v(e,t,i,o,r,s){return o&&!o[F]&&(o=v(o)),r&&!r[F]&&(r=v(r,s)),n(function(n,s,a,l){var u,c,h,d=[],f=[],p=s.length,v=n||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!n&&t?v:m(v,d,e,a,l),b=i?r||(n?e:p||o)?[]:s:y;if(i&&i(y,b,a,l),o)for(u=m(b,f),o(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(y[f[c]]=h));if(n){if(r||e){if(r){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);r(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=r?tt.call(n,h):d[c])>-1&&(n[u]=!(s[u]=h))}}else b=m(b===s?b.splice(p,b.length):b),r?r(null,s,b,l):Z.apply(s,b)})}function y(e){for(var t,i,n,o=e.length,r=C.relative[e[0].type],s=r||C.relative[" "],a=r?1:0,l=f(function(e){return e===t},s,!0),u=f(function(e){return tt.call(t,e)>-1},s,!0),c=[function(e,i,n){return!r&&(n||i!==_)||((t=i).nodeType?l(e,i,n):u(e,i,n))}];o>a;a++)if(i=C.relative[e[a].type])c=[f(p(c),i)];else{if(i=C.filter[e[a].type].apply(null,e[a].matches),i[F]){for(n=++a;o>n&&!C.relative[e[n].type];n++);return v(a>1&&p(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),i,n>a&&y(e.slice(a,n)),o>n&&y(e=e.slice(n)),o>n&&d(e))}c.push(i)}return p(c)}function b(e,i){var o=i.length>0,r=e.length>0,s=function(n,s,a,l,u){var c,h,d,f=0,p="0",g=n&&[],v=[],y=_,b=n||r&&C.find.TAG("*",u),w=R+=null==y?1:Math.random()||.1,x=b.length;for(u&&(_=s!==D&&s);p!==x&&null!=(c=b[p]);p++){if(r&&c){for(h=0;d=e[h++];)if(d(c,s,a)){l.push(c);break}u&&(R=w)}o&&((c=!d&&c)&&f--,n&&g.push(c))}if(f+=p,o&&p!==f){for(h=0;d=i[h++];)d(g,v,s,a);if(n){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}Z.apply(l,v),u&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}return u&&(R=w,_=y),g};return o?n(s):s}var w,x,C,k,T,$,S,L,_,M,E,N,D,A,z,P,H,O,W,F="sizzle"+-new Date,I=e.document,R=0,j=0,B=i(),q=i(),V=i(),U=function(e,t){return e===t&&(E=!0),0},X="undefined",G=1<<31,Y={}.hasOwnProperty,J=[],K=J.pop,Q=J.push,Z=J.push,et=J.slice,tt=J.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=ot.replace("w","w#"),st="\\["+nt+"*("+ot+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",at=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(at),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(J=et.call(I.childNodes),I.childNodes),J[I.childNodes.length].nodeType}catch(kt){Z={apply:J.length?function(e,t){Q.apply(e,et.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:I,n=i.defaultView;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,A=i.documentElement,z=!T(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){N()},!1):n.attachEvent&&n.attachEvent("onunload",function(){N()})),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(i.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=o(function(e){return A.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),x.getById?(C.find.ID=function(e,t){if(typeof t.getElementById!==X&&z){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){var i=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},C.find.CLASS=x.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&z?t.getElementsByClassName(e):void 0},H=[],P=[],(x.qsa=vt.test(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=vt.test(O=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(e){x.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),H.push("!=",at)}),P=P.length&&new RegExp(P.join("|")),H=H.length&&new RegExp(H.join("|")),t=vt.test(A.compareDocumentPosition),W=t||vt.test(A.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===I&&W(I,e)?-1:t===i||t.ownerDocument===I&&W(I,t)?1:M?tt.call(M,e)-tt.call(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,o=0,r=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!r||!a)return e===i?-1:t===i?1:r?-1:a?1:M?tt.call(M,e)-tt.call(M,t):0;if(r===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[o]===u[o];)o++;return o?s(l[o],u[o]):l[o]===I?-1:u[o]===I?1:0},i):D},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==D&&N(e),i=i.replace(ht,"='$1']"),!(!x.matchesSelector||!z||H&&H.test(i)||P&&P.test(i)))try{var n=O.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return t(i,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&N(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&N(e);var i=C.attrHandle[t.toLowerCase()],n=i&&Y.call(C.attrHandle,t.toLowerCase())?i(e,t,!z):void 0;return void 0!==n?n:x.attributes||!z?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(E=!x.detectDuplicates,M=!x.sortStable&&e.slice(0),e.sort(U),E){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return M=null,e},k=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},C=t.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Ct),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&dt.test(i)&&(t=$(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,d,f,p,g=r!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(r){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(c=m[F]||(m[F]={}),u=c[e]||[],f=u[0]===R&&u[1],d=u[0]===R&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[R,f,d];break}}else if(y&&(u=(t[F]||(t[F]={}))[e])&&u[0]===R)d=u[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[F]||(h[F]={}))[e]=[R,d]),h!==t)););return d-=o,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,i){var o,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[F]?r(i):r.length>1?(o=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=r(e,i),s=o.length;s--;)n=tt.call(e,o[s]),e[n]=!(t[n]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=S(e.replace(lt,"$1"));return o[F]?n(function(e,t,i,n){for(var r,s=o(e,null,n,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,Ct).toLowerCase(),function(t){var i;do if(i=z?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,$=t.tokenize=function(e,i){var n,o,r,s,a,l,u,c=q[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],u=C.preFilter;a;){(!n||(o=ut.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=ct.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(lt," ")}),a=a.slice(n.length));for(s in C.filter)!(o=pt[s].exec(a))||u[s]&&!(o=u[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):q(e,l).slice(0)},S=t.compile=function(e,t){var i,n=[],o=[],r=V[e+" "];if(!r){for(t||(t=$(e)),i=t.length;i--;)r=y(t[i]),r[F]?n.push(r):o.push(r);r=V(e,b(o,n)),r.selector=e}return r},L=t.select=function(e,t,i,n){var o,r,s,a,l,u="function"==typeof e&&e,h=!n&&$(e=u.selector||e);if(i=i||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&x.getById&&9===t.nodeType&&z&&C.relative[r[1].type]){if(t=(C.find.ID(s.matches[0].replace(xt,Ct),t)||[])[0],!t)return i;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=pt.needsContext.test(e)?0:r.length;o--&&(s=r[o],!C.relative[a=s.type]);)if((l=C.find[a])&&(n=l(s.matches[0].replace(xt,Ct),bt.test(r[0].type)&&c(t.parentNode)||t))){if(r.splice(o,1),e=n.length&&d(r),!e)return Z.apply(i,n),i;break}}return(u||S(e,h))(n,t,!z,i,bt.test(e)&&c(t.parentNode)||t),i},x.sortStable=F.split("").sort(U).join("")===F,x.detectDuplicates=!!E,N(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(it,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ot.find=ut,ot.expr=ut.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ut.uniqueSort,ot.text=ut.getText,ot.isXMLDoc=ut.isXML,ot.contains=ut.contains;var ct=ot.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;ot.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ot.find.matchesSelector(n,e)?[n]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},ot.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;o>t;t++)if(ot.contains(n[t],this))return!0}));for(t=0;o>t;t++)ot.find(e,n[t],i);return i=this.pushStack(o>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ct.test(e)?ot(e):e||[],!1).length}});var ft,pt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=ot.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ot?t[0]:t,ot.merge(this,ot.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),ht.test(i[1])&&ot.isPlainObject(t))for(i in t)ot.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=pt.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ft.find(e);this.length=1,this[0]=n}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(ot):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))};mt.prototype=ot.fn,ft=ot(pt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(e,t,i){for(var n=[],o=e[t];o&&9!==o.nodeType&&(void 0===i||1!==o.nodeType||!ot(o).is(i));)1===o.nodeType&&n.push(o),o=o[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),ot.fn.extend({has:function(e){var t,i=ot(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ot.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],s=ct.test(e)||"string"!=typeof e?ot(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ot.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?ot.unique(r):r)},index:function(e){return e?"string"==typeof e?ot.inArray(this[0],ot(e)):ot.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ot.unique(ot.merge(this.get(),ot(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ot.dir(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ot.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ot.dir(e,"previousSibling",i)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return ot.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(i,n){var o=ot.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ot.filter(n,o)),this.length>1&&(yt[e]||(o=ot.unique(o)),vt.test(e)&&(o=o.reverse())),this.pushStack(o)}});var bt=/\S+/g,wt={};ot.Callbacks=function(e){e="string"==typeof e?wt[e]||r(e):ot.extend({},e);var t,i,n,o,s,a,l=[],u=!e.once&&[],c=function(r){for(i=e.memory&&r,n=!0,s=a||0,a=0,o=l.length,t=!0;l&&o>s;s++)if(l[s].apply(r[0],r[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):i?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function r(t){ot.each(t,function(t,i){var n=ot.type(i);"function"===n?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),t?o=l.length:i&&(a=n,c(i))}return this},remove:function(){return l&&ot.each(arguments,function(e,i){for(var n;(n=ot.inArray(i,l,n))>-1;)l.splice(n,1),t&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?ot.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=i=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,i||h.disable(),this},locked:function(){return!u},fireWith:function(e,i){return!l||n&&!u||(i=i||[],i=[e,i.slice?i.slice():i],t?u.push(i):c(i)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(i){ot.each(t,function(t,r){var s=ot.isFunction(e[t])&&e[t];o[r[1]](function(){var e=s&&s.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,n):n}},o={};return n.pipe=n.then,ot.each(t,function(e,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,r=Y.call(arguments),s=r.length,a=1!==s||e&&ot.isFunction(e.promise)?s:0,l=1===a?e:ot.Deferred(),u=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?Y.call(arguments):o,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);s>o;o++)r[o]&&ot.isFunction(r[o].promise)?r[o].promise().done(u(o,n,r)).fail(l.reject).progress(u(o,i,t)):--a;return a||l.resolveWith(n,r),l.promise()}});var xt;ot.fn.ready=function(e){return ot.ready.promise().done(e),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){if(e===!0?!--ot.readyWait:!ot.isReady){if(!pt.body)return setTimeout(ot.ready);ot.isReady=!0,e!==!0&&--ot.readyWait>0||(xt.resolveWith(pt,[ot]),ot.fn.triggerHandler&&(ot(pt).triggerHandler("ready"),ot(pt).off("ready")))}}}),ot.ready.promise=function(t){if(!xt)if(xt=ot.Deferred(),"complete"===pt.readyState)setTimeout(ot.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{pt.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&pt.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!ot.isReady){try{i.doScroll("left")}catch(e){return setTimeout(o,50)}s(),ot.ready()}}()}return xt.promise(t)};var Ct,kt="undefined";for(Ct in ot(it))break;it.ownLast="0"!==Ct,it.inlineBlockNeedsLayout=!1,ot(function(){var e,t,i,n;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=pt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),ot.acceptData=function(e){var t=ot.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ot.cache[e[ot.expando]]:e[ot.expando],!!e&&!u(e)},data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return h(e,t)},_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){return h(e,t,!0)}}),ot.fn.extend({data:function(e,t){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=ot.data(r),1===r.nodeType&&!ot._data(r,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=ot.camelCase(n.slice(5)),l(r,n,o[n])));ot._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ot.data(this,e)}):arguments.length>1?this.each(function(){ot.data(this,e,t)}):r?l(r,e,ot.data(r,e)):void 0},removeData:function(e){return this.each(function(){ot.removeData(this,e)})}}),ot.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=ot._data(e,t),i&&(!n||ot.isArray(i)?n=ot._data(e,t,ot.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=ot.queue(e,t),n=i.length,o=i.shift(),r=ot._queueHooks(e,t),s=function(){ot.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ot._data(e,i)||ot._data(e,i,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(e,t+"queue"),ot._removeData(e,i)})})}}),ot.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ot.queue(this[0],e):void 0===t?this:this.each(function(){var i=ot.queue(this,e,t);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=ot.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)i=ot._data(r[s],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=["Top","Right","Bottom","Left"],_t=function(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)},Mt=ot.access=function(e,t,i,n,o,r,s){var a=0,l=e.length,u=null==i;if("object"===ot.type(i)){o=!0;for(a in i)ot.access(e,t,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,ot.isFunction(n)||(s=!0),u&&(s?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(ot(e),i)})),t))for(;l>a;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return o?e:u?t.call(e):l?t(e[0],i):r},Et=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),i=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),it.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(n){it.deleteExpando=!1}}}(),function(){var t,i,n=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(it[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),it[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Nt=/^(?:input|select|textarea)$/i,Dt=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,zt=/^(?:focusinfocus|focusoutblur)$/,Pt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,t,i,n,o){var r,s,a,l,u,c,h,d,f,p,g,m=ot._data(e);if(m){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=ot.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||(c=m.handle=function(e){return typeof ot===kt||e&&ot.event.triggered===e.type?void 0:ot.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(bt)||[""],a=t.length;a--;)r=Pt.exec(t[a])||[],f=g=r[1],p=(r[2]||"").split(".").sort(),f&&(u=ot.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ot.event.special[f]||{},h=ot.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:p.join(".")},l),(d=s[f])||(d=s[f]=[],d.delegateCount=0,u.setup&&u.setup.call(e,n,p,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),ot.event.global[f]=!0);e=null}},remove:function(e,t,i,n,o){var r,s,a,l,u,c,h,d,f,p,g,m=ot.hasData(e)&&ot._data(e);if(m&&(c=m.events)){for(t=(t||"").match(bt)||[""],u=t.length;u--;)if(a=Pt.exec(t[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=ot.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=c[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)s=d[r],!o&&g!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(r,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));l&&!d.length&&(h.teardown&&h.teardown.call(e,p,m.handle)!==!1||ot.removeEvent(e,f,m.handle),delete c[f])}else for(f in c)ot.event.remove(e,f+t[u],i,n,!0);ot.isEmptyObject(c)&&(delete m.handle,ot._removeData(e,"events"))}},trigger:function(t,i,n,o){var r,s,a,l,u,c,h,d=[n||pt],f=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||pt,3!==n.nodeType&&8!==n.nodeType&&!zt.test(f+ot.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,t=t[ot.expando]?t:new ot.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:ot.makeArray(i,[t]),u=ot.event.special[f]||{},o||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!o&&!u.noBubble&&!ot.isWindow(n)){for(l=u.delegateType||f,zt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;
c===(n.ownerDocument||pt)&&d.push(c.defaultView||c.parentWindow||e)}for(h=0;(a=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:u.bindType||f,r=(ot._data(a,"events")||{})[t.type]&&ot._data(a,"handle"),r&&r.apply(a,i),r=s&&a[s],r&&r.apply&&ot.acceptData(a)&&(t.result=r.apply(a,i),t.result===!1&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),i)===!1)&&ot.acceptData(n)&&s&&n[f]&&!ot.isWindow(n)){c=n[s],c&&(n[s]=null),ot.event.triggered=f;try{n[f]()}catch(g){}ot.event.triggered=void 0,c&&(n[s]=c)}return t.result}},dispatch:function(e){e=ot.event.fix(e);var t,i,n,o,r,s=[],a=Y.call(arguments),l=(ot._data(this,"events")||{})[e.type]||[],u=ot.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ot.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(n=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((ot.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],r=0;a>r;r++)n=t[r],i=n.selector+" ",void 0===o[i]&&(o[i]=n.needsContext?ot(i,this).index(l)>=0:ot.find(i,this,null,[l]).length),o[i]&&o.push(n);o.length&&s.push({elem:l,handlers:o})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[ot.expando])return e;var t,i,n,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=At.test(o)?this.mouseHooks:Dt.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new ot.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||pt,o=n.documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=ot.extend(new ot.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ot.event.trigger(o,null,t):ot.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},ot.removeEvent=pt.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===kt&&(e[n]=null),e.detachEvent(n,i))},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:f):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==n&&!ot.contains(n,o))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),it.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=ot.nodeName(t,"input")||ot.nodeName(t,"button")?t.form:void 0;i&&!ot._data(i,"submitBubbles")&&(ot.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ot._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ot.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),it.changeBubbles||(ot.event.special.change={setup:function(){return Nt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,e,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(e){var t=e.target;Nt.test(t.nodeName)&&!ot._data(t,"changeBubbles")&&(ot.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ot.event.simulate("change",this.parentNode,e,!0)}),ot._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!Nt.test(this.nodeName)}}),it.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=ot._data(n,t);o||n.addEventListener(e,i,!0),ot._data(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=ot._data(n,t)-1;o?ot._data(n,t,o):(n.removeEventListener(e,i,!0),ot._removeData(n,t))}}}),ot.fn.extend({on:function(e,t,i,n,o){var r,s;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=f;else if(!n)return this;return 1===o&&(s=n,n=function(e){return ot().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ot(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=f),this.each(function(){ot.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?ot.event.trigger(e,t,i,!0):void 0}});var Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Wt=new RegExp("<(?:"+Ht+")[\\s/>]","i"),Ft=/^\s+/,It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,jt=/<tbody/i,Bt=/<|&#?\w+;/,qt=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Xt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Jt=g(pt),Kt=Jt.appendChild(pt.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,ot.extend({clone:function(e,t,i){var n,o,r,s,a,l=ot.contains(e.ownerDocument,e);if(it.html5Clone||ot.isXMLDoc(e)||!Wt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(r=Kt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(n=m(r),a=m(e),s=0;null!=(o=a[s]);++s)n[s]&&k(o,n[s]);if(t)if(i)for(a=a||m(e),n=n||m(r),s=0;null!=(o=a[s]);s++)C(o,n[s]);else C(e,r);return n=m(r,"script"),n.length>0&&x(n,!l&&m(e,"script")),n=a=o=null,r},buildFragment:function(e,t,i,n){for(var o,r,s,a,l,u,c,h=e.length,d=g(t),f=[],p=0;h>p;p++)if(r=e[p],r||0===r)if("object"===ot.type(r))ot.merge(f,r.nodeType?[r]:r);else if(Bt.test(r)){for(a=a||d.appendChild(t.createElement("div")),l=(Rt.exec(r)||["",""])[1].toLowerCase(),c=Yt[l]||Yt._default,a.innerHTML=c[1]+r.replace(It,"<$1></$2>")+c[2],o=c[0];o--;)a=a.lastChild;if(!it.leadingWhitespace&&Ft.test(r)&&f.push(t.createTextNode(Ft.exec(r)[0])),!it.tbody)for(r="table"!==l||jt.test(r)?"<table>"!==c[1]||jt.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)ot.nodeName(u=r.childNodes[o],"tbody")&&!u.childNodes.length&&r.removeChild(u);for(ot.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(t.createTextNode(r));for(a&&d.removeChild(a),it.appendChecked||ot.grep(m(f,"input"),v),p=0;r=f[p++];)if((!n||-1===ot.inArray(r,n))&&(s=ot.contains(r.ownerDocument,r),a=m(d.appendChild(r),"script"),s&&x(a),i))for(o=0;r=a[o++];)Ut.test(r.type||"")&&i.push(r);return a=null,d},cleanData:function(e,t){for(var i,n,o,r,s=0,a=ot.expando,l=ot.cache,u=it.deleteExpando,c=ot.event.special;null!=(i=e[s]);s++)if((t||ot.acceptData(i))&&(o=i[a],r=o&&l[o])){if(r.events)for(n in r.events)c[n]?ot.event.remove(i,n):ot.removeEvent(i,n,r.handle);l[o]&&(delete l[o],u?delete i[a]:typeof i.removeAttribute!==kt?i.removeAttribute(a):i[a]=null,G.push(o))}}}),ot.fn.extend({text:function(e){return Mt(this,function(e){return void 0===e?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ot.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||ot.cleanData(m(i)),i.parentNode&&(t&&ot.contains(i.ownerDocument,i)&&x(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ot.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ot.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return Mt(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof e||qt.test(e)||!it.htmlSerialize&&Wt.test(e)||!it.leadingWhitespace&&Ft.test(e)||Yt[(Rt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(It,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(ot.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ot.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var i,n,o,r,s,a,l=0,u=this.length,c=this,h=u-1,d=e[0],f=ot.isFunction(d);if(f||u>1&&"string"==typeof d&&!it.checkClone&&Vt.test(d))return this.each(function(i){var n=c.eq(i);f&&(e[0]=d.call(this,i,n.html())),n.domManip(e,t)});if(u&&(a=ot.buildFragment(e,this[0].ownerDocument,!1,this),i=a.firstChild,1===a.childNodes.length&&(a=i),i)){for(r=ot.map(m(a,"script"),b),o=r.length;u>l;l++)n=a,l!==h&&(n=ot.clone(n,!0,!0),o&&ot.merge(r,m(n,"script"))),t.call(this[l],n,l);if(o)for(s=r[r.length-1].ownerDocument,ot.map(r,w),l=0;o>l;l++)n=r[l],Ut.test(n.type||"")&&!ot._data(n,"globalEval")&&ot.contains(s,n)&&(n.src?ot._evalUrl&&ot._evalUrl(n.src):ot.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Gt,"")));a=i=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var i,n=0,o=[],r=ot(e),s=r.length-1;s>=n;n++)i=n===s?this:this.clone(!0),ot(r[n])[t](i),K.apply(o,i.get());return this.pushStack(o)}});var Qt,Zt={};!function(){var e;it.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=pt.getElementsByTagName("body")[0],i&&i.style?(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var ei,ti,ii=/^margin/,ni=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),oi=/^(top|right|bottom|left)$/;e.getComputedStyle?(ei=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},ti=function(e,t,i){var n,o,r,s,a=e.style;return i=i||ei(e),s=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==s||ot.contains(e.ownerDocument,e)||(s=ot.style(e,t)),ni.test(s)&&ii.test(t)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0===s?s:s+""}):pt.documentElement.currentStyle&&(ei=function(e){return e.currentStyle},ti=function(e,t,i){var n,o,r,s,a=e.style;return i=i||ei(e),s=i?i[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),ni.test(s)&&!oi.test(t)&&(n=a.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=n,r&&(o.left=r)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,i,n,o;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=s=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(pt.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===o[0].offsetHeight,a&&(o[0].style.display="",o[1].style.display="none",a=0===o[0].offsetHeight),i.removeChild(n))}var i,n,o,r,s,a,l;i=pt.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=i.getElementsByTagName("a")[0],n=o&&o.style,n&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,ot.extend(it,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ot.swap=function(e,t,i,n){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=s[r];return o};var ri=/alpha\([^)]*\)/i,si=/opacity\s*=\s*([^)]*)/,ai=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+St+")(.*)$","i"),ui=new RegExp("^([+-])=("+St+")","i"),ci={position:"absolute",visibility:"hidden",display:"block"},hi={letterSpacing:"0",fontWeight:"400"},di=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ti(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=ot.camelCase(t),l=e.style;if(t=ot.cssProps[a]||(ot.cssProps[a]=L(l,a)),s=ot.cssHooks[t]||ot.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(e,!1,n))?o:l[t];if(r=typeof i,"string"===r&&(o=ui.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ot.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||ot.cssNumber[a]||(i+="px"),it.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(e,i,n)))))try{l[t]=i}catch(u){}}},css:function(e,t,i,n){var o,r,s,a=ot.camelCase(t);return t=ot.cssProps[a]||(ot.cssProps[a]=L(e.style,a)),s=ot.cssHooks[t]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,i)),void 0===r&&(r=ti(e,t,n)),"normal"===r&&t in hi&&(r=hi[t]),""===i||i?(o=parseFloat(r),i===!0||ot.isNumeric(o)?o||0:r):r}}),ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,i,n){return i?ai.test(ot.css(e,"display"))&&0===e.offsetWidth?ot.swap(e,ci,function(){return N(e,t,n)}):N(e,t,n):void 0},set:function(e,i,n){var o=n&&ei(e);return M(e,i,n?E(e,t,n,it.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,o),o):0)}}}),it.opacity||(ot.cssHooks.opacity={get:function(e,t){return si.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=ot.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ot.trim(r.replace(ri,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ri.test(r)?r.replace(ri,o):r+" "+o)}}),ot.cssHooks.marginRight=S(it.reliableMarginRight,function(e,t){return t?ot.swap(e,{display:"inline-block"},ti,[e,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+Lt[n]+t]=r[n]||r[n-2]||r[0];return o}},ii.test(e)||(ot.cssHooks[e+t].set=M)}),ot.fn.extend({css:function(e,t){return Mt(this,function(e,t,i){var n,o,r={},s=0;if(ot.isArray(t)){for(n=ei(e),o=t.length;o>s;s++)r[t[s]]=ot.css(e,t[s],!1,n);return r}return void 0!==i?ot.style(e,t,i):ot.css(e,t)},e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_t(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=D,D.prototype={constructor:D,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(ot.cssNumber[i]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,i=D.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.fx=D.prototype.init,ot.fx.step={};var fi,pi,gi=/^(?:toggle|show|hide)$/,mi=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),vi=/queueHooks$/,yi=[H],bi={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=mi.exec(t),r=o&&o[3]||(ot.cssNumber[e]?"":"px"),s=(ot.cssNumber[e]||"px"!==r&&+n)&&mi.exec(ot.css(i.elem,e)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+n||1;do a=a||".5",s/=a,ot.style(i.elem,e,s+r);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(s=i.start=+s||+n||0,i.unit=r,i.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),i}]};ot.Animation=ot.extend(W,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],bi[i]=bi[i]||[],bi[i].unshift(t)},prefilter:function(e,t){t?yi.unshift(e):yi.push(e)}}),ot.speed=function(e,t,i){var n=e&&"object"==typeof e?ot.extend({},e):{complete:i||!i&&t||ot.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ot.isFunction(t)&&t};return n.duration=ot.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ot.fx.speeds?ot.fx.speeds[n.duration]:ot.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ot.isFunction(n.old)&&n.old.call(this),n.queue&&ot.dequeue(this,n.queue)},n},ot.fn.extend({fadeTo:function(e,t,i,n){return this.filter(_t).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=ot.isEmptyObject(e),r=ot.speed(t,i,n),s=function(){var t=W(this,ot.extend({},e),r);(o||ot._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ot.timers,s=ot._data(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&vi.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));(t||!i)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ot._data(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=ot.timers,s=n?n.length:0;for(i.finish=!0,ot.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ot.each(["toggle","show","hide"],function(e,t){var i=ot.fn[t];ot.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(z(t,!0),e,n,o)}}),ot.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ot.timers=[],ot.fx.tick=function(){var e,t=ot.timers,i=0;for(fi=ot.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||ot.fx.stop(),fi=void 0},ot.fx.timer=function(e){ot.timers.push(e),e()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){pi||(pi=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(pi),pi=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,o;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=pt.createElement("select"),o=i.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==t.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!e.value,it.optSelected=o.selected,it.enctype=!!pt.createElement("form").enctype,i.disabled=!0,it.optDisabled=!o.disabled,e=pt.createElement("input"),e.setAttribute("value",""),it.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),it.radioValue="t"===e.value}();var wi=/\r/g;ot.fn.extend({val:function(e){var t,i,n,o=this[0];{if(arguments.length)return n=ot.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,ot(this).val()):e,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(e){return null==e?"":e+""})),t=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(wi,""):null==i?"":i)}}}),ot.extend({valHooks:{option:{get:function(e){var t=ot.find.attr(e,"value");return null!=t?t:ot.trim(ot.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,s=r?null:[],a=r?o+1:n.length,l=0>o?a:r?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(it.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ot.nodeName(i.parentNode,"optgroup"))){if(t=ot(i).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var i,n,o=e.options,r=ot.makeArray(t),s=o.length;s--;)if(n=o[s],ot.inArray(ot.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},it.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xi,Ci,ki=ot.expr.attrHandle,Ti=/^(?:checked|selected)$/i,$i=it.getSetAttribute,Si=it.input;ot.fn.extend({attr:function(e,t){return Mt(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})}}),ot.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===kt?ot.prop(e,t,i):(1===r&&ot.isXMLDoc(e)||(t=t.toLowerCase(),n=ot.attrHooks[t]||(ot.expr.match.bool.test(t)?Ci:xi)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:(o=ot.find.attr(e,t),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void ot.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(bt);if(r&&1===e.nodeType)for(;i=r[o++];)n=ot.propFix[i]||i,ot.expr.match.bool.test(i)?Si&&$i||!Ti.test(i)?e[n]=!1:e[ot.camelCase("default-"+i)]=e[n]=!1:ot.attr(e,i,""),e.removeAttribute($i?i:n)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ci={set:function(e,t,i){return t===!1?ot.removeAttr(e,i):Si&&$i||!Ti.test(i)?e.setAttribute(!$i&&ot.propFix[i]||i,i):e[ot.camelCase("default-"+i)]=e[i]=!0,i}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ki[t]||ot.find.attr;ki[t]=Si&&$i||!Ti.test(t)?function(e,t,n){var o,r;return n||(r=ki[t],ki[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,ki[t]=r),o}:function(e,t,i){return i?void 0:e[ot.camelCase("default-"+t)]?t.toLowerCase():null}}),Si&&$i||(ot.attrHooks.value={set:function(e,t,i){return ot.nodeName(e,"input")?void(e.defaultValue=t):xi&&xi.set(e,t,i)}}),$i||(xi={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},ki.id=ki.name=ki.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},ot.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xi.set},ot.attrHooks.contenteditable={set:function(e,t,i){xi.set(e,""===t?!1:t,i)}},ot.each(["width","height"],function(e,t){ot.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),it.style||(ot.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Li=/^(?:input|select|textarea|button|object)$/i,_i=/^(?:a|area)$/i;ot.fn.extend({prop:function(e,t){return Mt(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ot.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,o,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return r=1!==s||!ot.isXMLDoc(e),r&&(t=ot.propFix[t]||t,o=ot.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ot.find.attr(e,"tabindex");return t?parseInt(t,10):Li.test(e.nodeName)||_i.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||ot.each(["href","src"],function(e,t){ot.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),it.enctype||(ot.propFix.enctype="encoding");var Mi=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(e){var t,i,n,o,r,s,a=0,l=this.length,u="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(bt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Mi," "):" ")){for(r=0;o=t[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=ot.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(e){var t,i,n,o,r,s,a=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(bt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Mi," "):"")){for(r=0;o=t[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");s=e?ot.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(ot.isFunction(e)?function(i){ot(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,o=ot(this),r=e.match(bt)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===kt||"boolean"===i)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ot._data(this,"__className__")||"")
})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Mi," ").indexOf(t)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Ei=ot.now(),Ni=/\?/,Di=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,o=ot.trim(t+"");return o&&!ot.trim(o.replace(Di,function(e,t,o,r){return i&&t&&(n=0),0===n?e:(i=o||t,n+=!r-!o,"")}))?Function("return "+o)():ot.error("Invalid JSON: "+t)},ot.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(o){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),i};var Ai,zi,Pi=/#.*$/,Hi=/([?&])_=[^&]*/,Oi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fi=/^(?:GET|HEAD)$/,Ii=/^\/\//,Ri=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ji={},Bi={},qi="*/".concat("*");try{zi=location.href}catch(Vi){zi=pt.createElement("a"),zi.href="",zi=zi.href}Ai=Ri.exec(zi.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zi,type:"GET",isLocal:Wi.test(Ai[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,ot.ajaxSettings),t):R(ot.ajaxSettings,e)},ajaxPrefilter:F(ji),ajaxTransport:F(Bi),ajax:function(e,t){function i(e,t,i,n){var o,c,v,y,w,C=t;2!==b&&(b=2,a&&clearTimeout(a),u=void 0,s=n||"",x.readyState=e>0?4:0,o=e>=200&&300>e||304===e,i&&(y=j(h,x,i)),y=B(h,y,x,o),o?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ot.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(ot.etag[r]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=y.state,c=y.data,v=y.error,o=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",o?p.resolveWith(d,[c,C,x]):p.rejectWith(d,[x,C,v]),x.statusCode(m),m=void 0,l&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?c:v]),g.fireWith(d,[x,C]),l&&(f.trigger("ajaxComplete",[x,h]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,r,s,a,l,u,c,h=ot.ajaxSetup({},t),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?ot(d):ot.event,p=ot.Deferred(),g=ot.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Oi.exec(s);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),i(0,t),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||zi)+"").replace(Pi,"").replace(Ii,Ai[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=ot.trim(h.dataType||"*").toLowerCase().match(bt)||[""],null==h.crossDomain&&(n=Ri.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===Ai[1]&&n[2]===Ai[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ai[3]||("http:"===Ai[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ot.param(h.data,h.traditional)),I(ji,h,t,x),2===b)return x;l=h.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Fi.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Ni.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Hi.test(r)?r.replace(Hi,"$1_="+Ei++):r+(Ni.test(r)?"&":"?")+"_="+Ei++)),h.ifModified&&(ot.lastModified[r]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[r]),ot.etag[r]&&x.setRequestHeader("If-None-Match",ot.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+qi+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(u=I(Bi,h,t,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,u.send(v,i)}catch(C){if(!(2>b))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return ot.get(e,t,i,"json")},getScript:function(e,t){return ot.get(e,void 0,t,"script")}}),ot.each(["get","post"],function(e,t){ot[t]=function(e,i,n,o){return ot.isFunction(i)&&(o=o||n,n=i,i=void 0),ot.ajax({url:e,type:t,dataType:o,data:i,success:n})}}),ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot._evalUrl=function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ot.isFunction(e)?function(t){ot(this).wrapInner(e.call(this,t))}:function(){var t=ot(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(i){ot(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ot.css(e,"display"))},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)};var Ui=/%20/g,Xi=/\[\]$/,Gi=/\r?\n/g,Yi=/^(?:submit|button|image|reset|file)$/i,Ji=/^(?:input|select|textarea|keygen)/i;ot.param=function(e,t){var i,n=[],o=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){o(this.name,this.value)});else for(i in e)q(i,e[i],t,o);return n.join("&").replace(Ui,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&Ji.test(this.nodeName)&&!Yi.test(e)&&(this.checked||!Et.test(e))}).map(function(e,t){var i=ot(this).val();return null==i?null:ot.isArray(i)?ot.map(i,function(e){return{name:t.name,value:e.replace(Gi,"\r\n")}}):{name:t.name,value:i.replace(Gi,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&V()||U()}:V;var Ki=0,Qi={},Zi=ot.ajaxSettings.xhr();e.ActiveXObject&&ot(e).on("unload",function(){for(var e in Qi)Qi[e](void 0,!0)}),it.cors=!!Zi&&"withCredentials"in Zi,Zi=it.ajax=!!Zi,Zi&&ot.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(i,n){var o,r=e.xhr(),s=++Ki;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&r.setRequestHeader(o,i[o]+"");r.send(e.hasContent&&e.data||null),t=function(i,o){var a,l,u;if(t&&(o||4===r.readyState))if(delete Qi[s],t=void 0,r.onreadystatechange=ot.noop,o)4!==r.readyState&&r.abort();else{u={},a=r.status,"string"==typeof r.responseText&&(u.text=r.responseText);try{l=r.statusText}catch(c){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=u.text?200:404}u&&n(a,l,u,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Qi[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=pt.head||ot("head")[0]||pt.documentElement;return{send:function(n,o){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||o(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ot.expando+"_"+Ei++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,s,a=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=ot.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(tn,"$1"+o):t.jsonp!==!1&&(t.url+=(Ni.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||ot.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},n.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,en.push(o)),s&&ot.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),ot.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||pt;var n=ht.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=ot.buildFragment([e],t,o),o&&o.length&&ot(o).remove(),ot.merge([],n.childNodes))};var nn=ot.fn.load;ot.fn.load=function(e,t,i){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var n,o,r,s=this,a=e.indexOf(" ");return a>=0&&(n=ot.trim(e.slice(a,e.length)),e=e.slice(0,a)),ot.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&ot.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?ot("<div>").append(ot.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){s.each(i,o||[e.responseText,t,e])}),this},ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length};var on=e.document.documentElement;ot.offset={setOffset:function(e,t,i){var n,o,r,s,a,l,u,c=ot.css(e,"position"),h=ot(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),r=ot.css(e,"top"),l=ot.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ot.inArray("auto",[r,l])>-1,u?(n=h.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ot.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):h.css(d)}},ot.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return t=r.documentElement,ot.contains(t,o)?(typeof o.getBoundingClientRect!==kt&&(n=o.getBoundingClientRect()),i=X(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ot.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(i=e.offset()),i.top+=ot.css(e[0],"borderTopWidth",!0),i.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ot.css(n,"marginTop",!0),left:t.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||on;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||on})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);ot.fn[e]=function(n){return Mt(this,function(e,n,o){var r=X(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[n]:e[n]:void(r?r.scrollTo(i?ot(r).scrollLeft():o,i?o:ot(r).scrollTop()):e[n]=o)},e,n,arguments.length,null)}}),ot.each(["top","left"],function(e,t){ot.cssHooks[t]=S(it.pixelPosition,function(e,i){return i?(i=ti(e,t),ni.test(i)?ot(e).position()[t]+"px":i):void 0})}),ot.each({Height:"height",Width:"width"},function(e,t){ot.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){ot.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||o===!0?"margin":"border");return Mt(this,function(t,i,n){var o;return ot.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?ot.css(t,i,s):ot.style(t,i,n,s)},t,r?n:void 0,r,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var rn=e.jQuery,sn=e.$;return ot.noConflict=function(t){return e.$===ot&&(e.$=sn),t&&e.jQuery===ot&&(e.jQuery=rn),ot},typeof t===kt&&(e.jQuery=e.$=ot),ot}),/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function i(t,i){var o,r,s,a=t.nodeName.toLowerCase();return"area"===a?(o=t.parentNode,r=o.name,t.href&&r&&"map"===o.nodeName.toLowerCase()?(s=e("img[usemap=#"+r+"]")[0],!!s&&n(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,o,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function o(t,i,n,o){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(s,o(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(s,o(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var o,r=e.ui[t].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(e,t,i){var n,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0?!0:(t[n]=1,o=t[n]>0,t[n]=0,o)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(r){}o(t)},e.widget=function(t,i,n){var o,r,s,a,l={},u=t.split(".")[0];t=t.split(".")[1],o=u+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[u]=e[u]||{},r=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}()):void(l[t]=n)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(i){for(var o,r,s=n.call(arguments,1),a=0,l=s.length;l>a;a++)for(o in s[a])r=s[a][o],s[a].hasOwnProperty(o)&&r!==t&&(i[o]=e.isPlainObject(r)?e.isPlainObject(i[o])?e.widget.extend({},i[o],r):e.widget.extend({},r):r);return i},e.widget.bridge=function(i,o){var r=o.prototype.widgetFullName||i;e.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),u=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,this.each(a?function(){var n,o=e.data(this,r);return o?e.isFunction(o[s])&&"_"!==s.charAt(0)?(n=o[s].apply(o,l),n!==o&&n!==t?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+s+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}:function(){var t=e.data(this,r);t?t.option(s||{})._init():e.data(this,r,new o(s,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var o,r,s,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(r=a[i]=e.widget.extend({},this.options[i]),s=0;s<o.length-1;s++)r[o[s]]=r[o[s]]||{},r=r[o[s]];if(i=o.pop(),n===t)return r[i]===t?null:r[i];r[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,s){function a(){return t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?o.delegate(c,u,a):i.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,r,s=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),s=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}})}(jQuery),/*!
 * jQuery UI Button 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){var t,i,n,o,r="ui-button ui-widget ui-state-default ui-corner-all",s="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,a=this.options,c="checkbox"===this.type||"radio"===this.type,h=c?"":"ui-state-active",d="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){s.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){s.buttonElement.removeClass(d)}),c&&(this.element.bind("change"+this.eventNamespace,function(){o||s.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){a.disabled||(o=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){a.disabled||(i!==e.pageX||n!==e.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled||o?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||o)return!1;e(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var t=s.element[0];u(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void s.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return a.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" "+s+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?void(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(a),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),/*!
 * jQuery UI Mouse 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,r="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Draggable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=e(o.containment),n=i[0],void(n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,o,r,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,u=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),o=n.options,r=e.extend({},i,{item:n.element});n.sortables=[],e(o.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i){var n=e(this).data("ui-draggable"),o=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,i){var n=e(this).data("ui-draggable"),o=this;e.each(n.sortables,function(){var r=!1,s=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,o,r,s,a,l,u,c,h,d,f=e(this).data("ui-draggable"),p=f.options,g=p.snapTolerance,m=i.offset.left,v=m+f.helperProportions.width,y=i.offset.top,b=y+f.helperProportions.height;for(h=f.snapElements.length-1;h>=0;h--)a=f.snapElements[h].left,l=a+f.snapElements[h].width,u=f.snapElements[h].top,c=u+f.snapElements[h].height,a-g>v||m>l+g||u-g>b||y>c+g||!e.contains(f.snapElements[h].item.ownerDocument,f.snapElements[h].item)?(f.snapElements[h].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[h].item})),f.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(u-b)<=g,o=Math.abs(c-y)<=g,r=Math.abs(a-v)<=g,s=Math.abs(l-m)<=g,n&&(i.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top-f.margins.top),o&&(i.position.top=f._convertPositionTo("relative",{top:c,left:0}).top-f.margins.top),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a-f.helperProportions.width}).left-f.margins.left),s&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l}).left-f.margins.left)),d=n||o||r||s,"outer"!==p.snapMode&&(n=Math.abs(u-y)<=g,o=Math.abs(c-b)<=g,r=Math.abs(a-m)<=g,s=Math.abs(l-v)<=g,n&&(i.position.top=f._convertPositionTo("relative",{top:u,left:0}).top-f.margins.top),o&&(i.position.top=f._convertPositionTo("relative",{top:c-f.helperProportions.height,left:0}).top-f.margins.top),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a}).left-f.margins.left),s&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[h].snapping&&(n||o||r||s||d)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[h].item})),f.snapElements[h].snapping=n||o||r||s||d)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),/*!
 * jQuery UI Position 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(e,t){function i(e,t,i){return[parseFloat(e[0])*(f.test(e[0])?t/100:1),parseFloat(e[1])*(f.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function o(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,s=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(r!==t)return r;var i,n,o=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=o.children()[0];return e("body").append(o),i=s.offsetWidth,o.css("overflow","scroll"),n=s.offsetWidth,i===n&&(n=o[0].clientWidth),o.remove(),r=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,r="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var r,f,g,m,v,y,b=e(t.of),w=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(w),C=(t.collision||"flip").split(" "),k={};return y=o(b),b[0].preventDefault&&(t.at="left top"),f=y.width,g=y.height,m=y.offset,v=e.extend({},m),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=h.exec(n[0]),i=h.exec(n[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===t.at[0]?v.left+=f:"center"===t.at[0]&&(v.left+=f/2),"bottom"===t.at[1]?v.top+=g:"center"===t.at[1]&&(v.top+=g/2),r=i(k.at,f,g),v.left+=r[0],v.top+=r[1],this.each(function(){var o,u,c=e(this),h=c.outerWidth(),d=c.outerHeight(),p=n(this,"marginLeft"),y=n(this,"marginTop"),T=h+p+n(this,"marginRight")+x.width,$=d+y+n(this,"marginBottom")+x.height,S=e.extend({},v),L=i(k.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?S.left-=h:"center"===t.my[0]&&(S.left-=h/2),"bottom"===t.my[1]?S.top-=d:"center"===t.my[1]&&(S.top-=d/2),S.left+=L[0],S.top+=L[1],e.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),o={marginLeft:p,marginTop:y},e.each(["left","top"],function(i,n){e.ui.position[C[i]]&&e.ui.position[C[i]][n](S,{targetWidth:f,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:o,collisionWidth:T,collisionHeight:$,offset:[r[0]+L[0],r[1]+L[1]],my:t.my,at:t.at,within:w,elem:c})}),t.using&&(u=function(e){var i=m.left-S.left,n=i+f-h,o=m.top-S.top,r=o+g-d,l={target:{element:b,left:m.left,top:m.top,width:f,height:g},element:{element:c,left:S.left,top:S.top,width:h,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>r?"top":o>0?"bottom":"middle"};h>f&&a(i+n)<f&&(l.horizontal="center"),d>g&&a(o+r)<g&&(l.vertical="middle"),l.important=s(a(i),a(n))>s(a(o),a(r))?"horizontal":"vertical",t.using.call(this,e,l)}),c.offset(e.extend(S,{using:u}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,u=a+t.collisionWidth-r-o;t.collisionWidth>r?l>0&&0>=u?(i=e.left+l+t.collisionWidth-r-o,e.left+=l-i):e.left=u>0&&0>=l?o:l>u?o+r-t.collisionWidth:o:l>0?e.left+=l:u>0?e.left-=u:e.left=s(e.left-a,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,u=a+t.collisionHeight-r-o;t.collisionHeight>r?l>0&&0>=u?(i=e.top+l+t.collisionHeight-r-o,e.top+=l-i):e.top=u>0&&0>=l?o:l>u?o+r-t.collisionHeight:o:l>0?e.top+=l:u>0?e.top-=u:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,h=u+t.collisionWidth-s-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>c?(i=e.left+d+f+p+t.collisionWidth-s-r,(0>i||i<a(c))&&(e.left+=d+f+p)):h>0&&(n=e.left-t.collisionPosition.marginLeft+d+f+p-l,(n>0||a(n)<h)&&(e.left+=d+f+p))},top:function(e,t){var i,n,o=t.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,h=u+t.collisionHeight-s-l,d="top"===t.my[1],f=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>c?(n=e.top+f+p+g+t.collisionHeight-s-r,e.top+f+p+g>c&&(0>n||n<a(c))&&(e.top+=f+p+g)):h>0&&(i=e.top-t.collisionPosition.marginTop+f+p+g-l,e.top+f+p+g>h&&(i>0||a(i)<h)&&(e.top+=f+p+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,r,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in n)t.style[r]=n[r];t.appendChild(a),i=s||document.documentElement,i.insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",o=e(a).offset().left,e.support.offsetFractions=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()}(jQuery),/*!
 * jQuery UI Resizable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,o,r,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),r="ui-resizable-"+n,o=e("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,r;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,r),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(i){var n,o,r,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=t(this.helper.css("left")),o=t(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,o+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,o={},r=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,u=this.size.width,c=this.size.height,h=t.pageX-r.left||0,d=t.pageY-r.top||0,f=this._change[s];return f?(i=f.apply(this,[t,h,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==a&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==u&&(o.width=this.size.width+"px"),this.size.height!==c&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(o)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,o,r,s,a,l,u=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&e.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,s={width:c.helper.width()-r,height:c.helper.height()-o},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,o,r,s,a=this.options;s={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,o=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),o>s.minHeight&&(s.minHeight=o),n<s.maxWidth&&(s.maxWidth=n),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,o=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===o&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===o&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,o=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=i(e.width)&&t.minWidth&&t.minWidth>e.width,a=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),o&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),s&&c&&(e.left=l-t.minWidth),o&&c&&(e.left=l-t.maxWidth),a&&h&&(e.top=u-t.minHeight),r&&h&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,o,r=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);o.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&e.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,o,r,s,a,l,u=e(this).data("ui-resizable"),c=u.options,h=u.element,d=c.containment,f=d instanceof e?d.get(0):/parent/.test(d)?h.parent().get(0):d;f&&(u.containerElement=e(f),/document/.test(d)||d===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(f),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,o){n[e]=t(i.css("padding"+o))}),u.containerOffset=i.offset(),u.containerPosition=i.position(),u.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},o=u.containerOffset,r=u.containerSize.height,s=u.containerSize.width,a=e.ui.hasScroll(f,"left")?f.scrollWidth:s,l=e.ui.hasScroll(f)?f.scrollHeight:r,u.parentData={element:f,left:o.left,top:o.top,width:a,height:l}))},resize:function(t){var i,n,o,r,s=e(this).data("ui-resizable"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,h={top:0,left:0},d=s.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,i=Math.abs((s._helper?s.offset.left-h.left:s.offset.left-h.left)+s.sizeDiff.width),n=Math.abs((s._helper?s.offset.top-h.top:s.offset.top-l.top)+s.sizeDiff.height),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r&&(i-=s.parentData.left),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,c&&(s.size.height=s.size.width/s.aspectRatio)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,c&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,o=t.containerPosition,r=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:u}),t._helper&&!i.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),o=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(t,n){e(t).each(function(){var t=e(this),o=e(this).data("ui-resizable-alsoresize"),r={},s=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(o[t]||0)+(a[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,o=t.originalSize,r=t.originalPosition,s=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,u=a[1]||1,c=Math.round((n.width-o.width)/l)*l,h=Math.round((n.height-o.height)/u)*u,d=o.width+c,f=o.height+h,p=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<f,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>f;i.grid=a,m&&(d+=l),v&&(f+=u),p&&(d-=l),g&&(f-=u),/^(se|s|e)$/.test(s)?(t.size.width=d,t.size.height=f):/^(ne)$/.test(s)?(t.size.width=d,t.size.height=f,t.position.top=r.top-h):/^(sw)$/.test(s)?(t.size.width=d,t.size.height=f,t.position.left=r.left-c):(t.size.width=d,t.size.height=f,t.position.top=r.top-h,t.position.left=r.left-c)}})}(jQuery),/*!
 * jQuery UI Dialog 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(o.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var o,r;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(t.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(r).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(o))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(o,r){n.position=[r.position.left-i.document.scrollLeft(),r.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,t(r))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,o=n.resizable,r=this.uiDialog.css("position"),s="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,o){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(o))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(o,r){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,t(r))}}).css("position",r)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var o=this,r=!1,s={};e.each(n,function(e,n){o._setOption(e,n),e in t&&(r=!0),e in i&&(s[e]=n)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var i,n,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],o=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(o[e]=n[e],n[e]=t)}),i={my:n[0]+(o[0]<0?o[0]:"+"+o[0])+" "+n[1]+(o[1]<0?o[1]:"+"+o[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(jQuery),/* TinySort 1.4.29
* Copyright (c) 2008-2012 Ron Valstar http://www.sjeiti.com/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/
function(e){function t(e){return e&&e.toLowerCase?e.toLowerCase():e}function i(e,t){for(var i=0,o=e.length;o>i;i++)if(e[i]==t)return!n;return n}var n=!1,o=null,r=parseFloat,s=Math.min,a=/(-?\d+\.?\d*)$/g,l=[],u=[];e.tinysort={id:"TinySort",version:"1.4.29",copyright:"Copyright (c) 2008-2012 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(e,t){l.push(e),u.push(t)},defaults:{order:"asc",attr:o,data:o,useVal:n,place:"start",returns:n,cases:n,forceStrings:n,sortFunction:o}},e.fn.extend({tinysort:function(c,h){c&&"string"!=typeof c&&(h=c,c=o);var d,f=e.extend({},e.tinysort.defaults,h),p=this,g=e(this).length,m={},v=!(!c||""==c),y=!(f.attr===o||""==f.attr),b=f.data!==o,w=v&&":"==c[0],x=w?p.filter(c):p,C=f.sortFunction,k="asc"==f.order?1:-1,T=[];e.each(l,function(e,t){t.call(t,f)}),C||(C="rand"==f.order?function(){return Math.random()<.5?1:-1}:function(i,o){var s=n,l=f.cases?i.s:t(i.s),c=f.cases?o.s:t(o.s);if(!f.forceStrings){var h=l&&l.match(a),d=c&&c.match(a);if(h&&d){var p=l.substr(0,l.length-h[0].length),g=c.substr(0,c.length-d[0].length);p==g&&(s=!n,l=r(h[0]),c=r(d[0]))}}var m=k*(c>l?-1:l>c?1:0);return e.each(u,function(e,t){m=t.call(t,s,l,c,m)}),m}),p.each(function(t,i){var n=e(i),o=v?w?x.filter(i):n.find(c):n,r=b?""+o.data(f.data):y?o.attr(f.attr):f.useVal?o.val():o.text(),s=n.parent();m[s]||(m[s]={s:[],n:[]}),o.length>0?m[s].s.push({s:r,e:n,n:t}):m[s].n.push({e:n,n:t})});for(d in m)m[d].s.sort(C);for(d in m){var $,S=m[d],L=[],_=g,M=[0,0];switch(f.place){case"first":e.each(S.s,function(e,t){_=s(_,t.n)});break;case"org":e.each(S.s,function(e,t){L.push(t.n)});break;case"end":_=S.n.length;break;default:_=0}for($=0;g>$;$++){var E=i(L,$)?!n:$>=_&&$<_+S.s.length,N=(E?S.s:S.n)[M[E?0:1]].e;N.parent().append(N),(E||!f.returns)&&T.push(N.get(0)),M[E?0:1]++}}return p.length=0,Array.prototype.push.apply(p,T),p}}),e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort}(jQuery),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var i=e.scrollTo=function(t,i,n){e(window).scrollTo(t,i,n)};i.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},e.fn.scrollTo=function(n,o,r){return"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"==n&&(n=9e9),r=e.extend({},i.defaults,r),o=o||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(o/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function s(e){u.animate(h,o,r.easing,e&&function(){e.call(this,n,r)})}if(null!=n){var a,l=this,u=e(l),c=n,h={},d=u.is("html,body");switch(typeof c){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(c)){c=t(c);break}if(c=e(c,this),!c.length)return;case"object":(c.is||c.style)&&(a=(c=e(c)).offset())}e.each(r.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",o=n.toLowerCase(),f="scroll"+n,p=l[f],g=i.max(l,t);if(a)h[f]=a[o]+(d?0:p-u.offset()[o]),r.margin&&(h[f]-=parseInt(c.css("margin"+n))||0,h[f]-=parseInt(c.css("border"+n+"Width"))||0),h[f]+=r.offset[o]||0,r.over[o]&&(h[f]+=c["x"==t?"width":"height"]()*r.over[o]);else{var m=c[o];h[f]=m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*g:m}r.limit&&/^\d+$/.test(h[f])&&(h[f]=h[f]<=0?0:Math.min(h[f],g)),!e&&r.queue&&(p!=h[f]&&s(r.onAfterFirst),delete h[f])}),s(r.onAfter)}}).end()},i.max=function(t,i){var n="x"==i?"Width":"Height",o="scroll"+n;if(!e(t).is("html,body"))return t[o]-e(t)[n.toLowerCase()]();var r="client"+n,s=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(s[o],a[o])-Math.min(s[r],a[r])}}(jQuery),$(function(){var e="",t=0,i=[],n=0,o=null;jQuery.fn.highlight=function(r,s){function a(e,t){var r,s,u,c=0;if(t=t.toLowerCase(),3===e.nodeType){var h=e.data,d=h;"\n"===h.charAt(0)&&(d=h.replace(/^\s\s*/,""));var f=new RegExp(t,"i");if(u=d.search(f),s=h.search(f),-1==s&&null!==o&&(mergedPos=(o.data.toUpperCase()+h).indexOf(t),mergedPos>=0&&(s=0)),s>=0){if(null!==o){var p=document.createElement("span");p.className="search-hit",p.id=l.attr("id")+"-hit-"+i.length+"a";var g=o.cloneNode(!0);p.appendChild(g),o.parentNode.replaceChild(p,o)}var m=document.createElement("span");m.className="search-hit",m.id=l.attr("id")+"-hit-"+i.length,i.push({id:m.id,pos:n+u-1}),n+=u+t.length;var v=e.splitText(s);v.splitText(null===o?t.length:t.length-1);var y=v.cloneNode(!0);m.appendChild(y),v.parentNode.replaceChild(m,v),c=1,priorTxt=""}else $(e.parentElement).hasClass("page-break")===!1&&$(e.parentElement).hasClass("line-number")===!1&&(n+=d.length),o=null,1==d.length&&$(e).parent().hasClass("heatmap")&&(o=e)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for("br"===e.localName&&(n+=1),r=0;r<e.childNodes.length;++r)r+=a(e.childNodes[r],t);return c}s="undefined"!=typeof s?+s:-1;var l=null;if(r!==e){if(this.removeHighlight(),e=r,n=0,this.each(function(){l=$(this),a(this,r.toUpperCase())}),!(i.length>0))return void window.parent.showMessagePopup("Not found","'"+r+"' was not found in this document");s>-1?$.each(i,function(e,t){return Math.abs(t.pos-s)<=1?($("#"+t.id).addClass("lit-search-hit"),$("#"+t.id+"a").addClass("lit-search-hit"),!1):void 0}):($("#"+i[t].id).addClass("lit-search-hit"),$("#"+i[t].id+"a").addClass("lit-search-hit"))}else{if(!(i.length>0))return void window.parent.showMessagePopup("Not found","'"+r+"' was not found in this document");t++,t>=i.length&&(t=0),this.find(".lit-search-hit").removeClass("lit-search-hit"),$("#"+i[t].id).addClass("lit-search-hit"),$("#"+i[t].id+"a").addClass("lit-search-hit")}if($(this).hasClass("scroller")===!1){var u=$(this).closest(".scroller");if(u[0].scrollHeight>u.height()){var c=u.height()/2;u.scrollTo($(".lit-search-hit"),100,{offset:-c})}}else{var u=$(this).closest(".scroller");if(u[0].scrollHeight>u.height()){var c=$(this).height()/2;$(this).scrollTo($(".lit-search-hit"),100,{offset:-c})}}},jQuery.fn.removeHighlight=function(){function n(e){var t,i,o;for(t=0,i=e.childNodes,o=i.length;o>t;t++){var r=i[t];if(1!==r.nodeType){if(3===r.nodeType){var s=r.nextSibling;if(null!==s&&3===s.nodeType){var a=r.nodeValue+s.nodeValue,l=e.ownerDocument.createTextNode(a);e.insertBefore(l,r),e.removeChild(r),e.removeChild(s),t--,o--}}}else n(r)}}return t=0,i=[],e="",this.find("span.search-hit").each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),n(e)}).end()}}),window.Juxta||(window.Juxta={}),window.Juxta.Search||(window.Juxta.Search={}),$(function(){var e=[],t=-1,i=function(){this.posFrom=this.posTo=this.query=null,this.marked=null},n=function(e){return e._searchState||(e._searchState=new i)},o=function(e,t,i){return e.getSearchCursor(t,i,"string"==typeof t&&t==t.toLowerCase())},r=function(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);return t?new RegExp(t[1],-1===t[2].indexOf("i")?"":"i"):e},s=function(e,t){e.operation(function(){var i=n(e),r=o(e,i.query,t?i.posFrom:i.posTo);(r.find(t)||(r=o(e,i.query,t?{line:e.lineCount()-1}:{line:0,ch:0}),r.find(t)))&&(e.setSelection(r.from(),r.to()),null!==i.marked&&i.marked.clear(),i.marked=e.markText(r.from(),r.to(),{className:"lit-search-hit",inclusiveLeft:!0,atomic:!0}),i.posFrom=r.from(),i.posTo=r.to())})},a=function(e){e.operation(function(){var t=n(e);t.query&&(t.query=null,null!==t.marked&&(t.marked.clear(),t.marked=null))})},l=function(e,t){var i=$("#search-text").data("hitMark");null!==i&&(i.clear(),$("#search-text").data("hitMark",null));var o=n(e);o.query=r(t),o.posFrom=o.posTo=e.getCursor(),s(e)},u=function(e){var t=function(){$("#results-scroller .result-src-link").on("click",function(){showWaitPopup(!0),$("#content-frame").attr("src","/sources/"+$(this).attr("juxta:id"))}),$("#results-scroller .result-wit-link").on("click",function(){showWaitPopup(!0),$("#content-frame").attr("src","/witnesses/"+$(this).attr("juxta:id"))}),$("#results-scroller .src-hit-link").on("click",function(){showWaitPopup(!0),$("#content-frame").attr("src","/sources/"+$(this).attr("juxta:id")+"?hit="+$(this).attr("juxta:range")+"&q="+e.q)}),$("#results-scroller .wit-hit-link").on("click",function(){showWaitPopup(!0),$("#content-frame").attr("src","/witnesses/"+$(this).attr("juxta:id")+"?hit="+$(this).attr("juxta:range")+"&q="+e.q)})};if($("#search-results").exists()===!1){var i=$('<div id="search-results"><div id="results-scroller"></div></div>',window.parent.document);$("<body>",window.parent.document).append(i),i.dialog({modal:!1,resizable:!1,height:400,width:500,title:"Top Search Results",show:"fade",hide:"fade",position:{my:"right top",at:"right bottom",of:"#size-bar"},open:function(){$("#results-scroller").append(e.html),t()},close:function(){$(this).dialog("destroy").remove()}})}else $("#results-scroller").empty(),$("#results-scroller").append(e.html),t()},c=function(e){return 0===e.length?void showMessagePopup("Error","Please enter some text to be used in the search."):void $.ajax({url:"/search?q="+encodeURIComponent(e),type:"GET",async:!1,success:function(t){return 0===t.html.length?void window.parent.showMessagePopup("No Matches","No matches were found for the search query '"+e+"'"):void u(t)}})};window.Juxta.Search.initCodeMirror=function(e){a(e),$("#search-text").data("hitMark",null),0===$("#search-scope option[value='document']").length&&$("#search-scope").append("<option value='document'>Current Document</option>"),$("#search-scope").val("document"),$("#search-btn").off(),$("#search-btn").on("click",function(){"document"===$("#search-scope").val()?l(e,$("#search-text").val()):c($("#search-text").val())}),$("#clear-search-btn").off(),$("#clear-search-btn").on("click",function(){a(e),$("#search-text").val("")}),$("#search-text").off(),$("#search-text").on("keyup",function(t){t.keyCode===$.ui.keyCode.ENTER?"document"===$("#search-scope").val()?l(e,$("#search-text").val()):c($("#search-text").val()):0==$("#search-text").val().length&&a(e)})};var h=function(e,t,i){function n(e){var t=[];if(3==e.nodeType)t.push(e);else for(var i=e.childNodes,o=0,r=i.length;r>o;++o)t.push.apply(t,n(i[o]));return t}var o=e[0];if(o.ownerDocument.createRange&&o.ownerDocument.getSelection){var r=o.ownerDocument.createRange();r.selectNodeContents(o);for(var s,a,l=n(o),u=!1,c=0,h=0;a=l[h++];){if(s=c+a.length,!u&&t>=c&&(s>t||t==s&&h<l.length)&&(r.setStart(a,t-c),u=!0),u&&s>=i){r.setEnd(a,i-c);break}c=s}var d=o.ownerDocument.getSelection();d.removeAllRanges(),d.addRange(r);var f=r.getBoundingClientRect().top,p=e.offset().top;if(e.hasClass("scroller")===!1){var g=e.closest(".scroller");g[0].scrollHeight>g.height()&&$(g[0]).scrollTop(f-p)}else if(e[0].scrollHeight>e.height()){var m=f-p,v=e.scrollTop();e.scrollTop(v+m)}}else{var y=o.ownerDocument.body.createTextRange();y.moveToElementText(o),y.collapse(!0),y.moveEnd("character",i),y.moveStart("character",t),y.select()}},d=function(i){if(e.length>0)t+=1,t>=e.length&&(t=0),h(e[t].ele,e[t].pos,e[t].pos+$("#search-text").val().length);else{var n,o,r=new RegExp($("#search-text").val(),"ig");for(n=0;n<i.length;n+=1)o=$(i[n]).text(),$.each(o.regexIndexesOf(r,0,o.length),function(t,o){e.push({ele:$(i[n]),pos:o})});e.length>0?(t=0,h(e[0].ele,e[0].pos,e[0].pos+$("#search-text").val().length)):window.parent.showMessagePopup("Not found","'"+$("#search-text").val()+"' was not found in this document.")}},f=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}return e},p=function(){return 8==f()};window.Juxta.Search.initElement=function(i){e=[],t=-1,0===$("#search-scope option[value='document']").length&&$("#search-scope").append("<option value='document'>Current Document</option>"),$("#search-scope").val("document"),$("#search-btn").off(),$("#search-btn").on("click",function(){"document"===$("#search-scope").val()?p()||!i.hasClass("heatmap-text")&&!i.hasClass("witness-text")?i.highlight($("#search-text").val()):d(i):c($("#search-text").val())}),$("#clear-search-btn").off(),$("#clear-search-btn").on("click",function(){i.removeHighlight(),e=[],t=-1,$("#search-text").val(""),p()||i[0].ownerDocument.getSelection().removeAllRanges()}),$("#search-text").off(),$("#search-text").on("keyup",function(n){n.keyCode===$.ui.keyCode.ENTER?"document"===$("#search-scope").val()?p()||!i.hasClass("heatmap-text")&&!i.hasClass("witness-text")?i.highlight($("#search-text").val()):d(i):c($("#search-text").val()):(i.removeHighlight(),e=[],t=-1)})},window.Juxta.Search.initShared=function(e){$("#search-scope option[value='library']").remove(),window.Juxta.Search.initElement(e)},window.Juxta.Search.initGlobal=function(){$("#search-btn").off(),$("#search-scope").val("library"),$("#search-scope option[value='document']").remove(),$("#clear-search-btn").off(),$("#clear-search-btn").on("click",function(){$("#search-text").val("")}),$("#search-text").off(),$("#search-text").on("keyup",function(e){e.keyCode===$.ui.keyCode.ENTER&&c($("#search-text").val())}),$("#search-btn").off(),$("#search-btn").on("click",function(){c($("#search-text").val())})}}),$.fn.exists=function(){return 0!==this.length};var awaitTask=function(e,t,i,n,o){"undefined"==typeof n&&(n=!1),"undefined"==typeof o&&(o=null);var r=window.document;$("#wait-popup").exists()===!1&&(r=window.parent.document),$("#wait-msg",r).text(""),$("#wait-msg",r).hide();var s="/task/"+e+"/status";null!==o&&(s+="?workspace="+encodeURIComponent(o));var a=2e3,l=setInterval(function(){$.getJSON(s,function(e){"COMPLETE"===e.status?(clearInterval(l),t()):"FAILED"===e.status||"UNAVAILABLE"===e.status?(clearInterval(l),i(e.note)):n&&e.note.length>0&&"null"!==e.note&&($("#wait-msg",r).text(e.note),$("#wait-msg",r).show())}).error(function(e){clearInterval(l),i(e.responseText)})},a);return l},getHeatmapScrollPercent=function(e){var t,i,n;return"undefined"==typeof e?(t=$("#heatmap-scroller").scrollTop(),i=$("#heatmap-scroller")[0].scrollHeight,n=t/i):(t=e.find("#heatmap-scroller").scrollTop(),i=e.find("#heatmap-scroller")[0].scrollHeight,n=t/i),n},getSideBySideScrollPercent=function(e){var t,i,n;return"undefined"==typeof e?(t=$("#left-witness-text").scrollTop(),i=$("#left-witness-text")[0].scrollHeight,n=t/i):(t=e.find("#left-witness-text").scrollTop(),i=e.find("#left-witness-text")[0].scrollHeight,n=t/i),n};String.prototype.regexIndexesOf=function(e,t,i){var n=t;"undefined"==typeof n&&(n=0);for(var o=[],r=!1,s=this.substring(n);!r;){var a=s.search(e);if(-1===a)r=!0;else{var l=s.match(e)[0];o.push(n+a),s=s.substring(a+l.length),n+a>=i&&(r=!0),n=n+a+l.length}}return o},String.prototype.regexIndexOf=function(e,t){var i=this.substring(t).search(e);return i>-1?i+t:-1};var blurPopupButtons=function(){$(".ui-button").each(function(){$(this).blur()})},hideSearch=function(){var e=window.document;$("#searchbar").exists()===!1&&(e=window.parent.document),$("#searchbar",e).hide()},searchCodeMirror=function(e){Juxta.Search.initCodeMirror(e)},searchElement=function(e){Juxta.Search.initElement(e)},searchGlobal=function(){Juxta.Search.initGlobal()},getUsageReport=function(e,t){$.ajax({url:e.baseUrl+e.id+"/usage",type:"GET",async:!1,success:function(e){t(e)},error:function(){var e=[];t(e)}})},renderLibraryRow=function(e,t,i){$.ajax({url:"/"+e+"/"+t+"/library_row",type:"GET",async:!1,success:function(e){i(e)}})},addLibraryRow=function(e,t,i){if("undefined"==typeof t)return void showMessagePopup("Error","Add "+e+" failed.<br/>Please try again layer. If the problem persists,<br/>contact us at <a href='mailto:technologies@nines.org'>technologies@nines.org</a>");i="undefined"!=typeof i?i:!1,t=t.replace("<table>","").replace("<tbody>","").replace("</table>","").replace("</tbody>",""),t=t.replace("<TABLE>","").replace("<TBODY>","").replace("</TABLE>","").replace("</TBODY>","");var n=$("#"+e+"-data-table").find(".item-title").width(),o=t.indexOf("<p ");-1===o&&(o=t.indexOf("<P "));var r=t.substring(0,o+2),s=t.substring(o+2);t=r+' style="width:'+n+'px"'+s,$("#"+e+"-data-table > tbody > tr").length>0?($("#"+e+"-data-table > tbody > tr:first").before(t),$("#"+e+"-column").find(".column-content").scrollTop(0)):$("#"+e+"-data-table").append(t);var a=$("#"+e+"-column").find(".column-content").height();$("#"+e+"-data-table").height()>a&&$("#"+e+"-column").find(".column-content").css("overflow-y","scroll"),initDragAndDrop(),"set"===e&&undiscloseAll(),initMetadataTips();var l=$("input[name="+e+"-sort-by]:radio:checked").val(),u=$("input[name="+e+"-sort]:radio:checked").val();$("#"+e+"-column").find(".data-row").tsort("name"===l?{order:u}:{order:u,attr:"juxta:date"}),o=t.indexOf('id="row-'+e+"-")+'id="'.length;var c=t.indexOf('"',o),h=t.substring(o,c),d=$("#"+e+"-column .column-content");if(d.animate({scrollTop:$("#"+h).offset().top-d.offset().top+d.scrollTop()}),i===!1){var f=function(e){$("#"+e).animate({backgroundColor:"#afa"},500,function(){$("#"+e).animate({backgroundColor:"white"},700,function(){$("#"+e).css("background-color","")})})};f(h);var p=0,g=setInterval(function(){f(h),p+=1,2===p&&clearInterval(g)},1200)}else $("#"+h).addClass("related");return h.substring(("row-"+e+"-").length)},showWaitPopupWithMessage=function(e,t){t="undefined"!=typeof t?t:!0;var i=window.document;$("#wait-popup").exists()===!1&&(i=window.parent.document),$("#dim-overlay",i).show(),$("#wait-spinner",i).hide(),t===!0&&$("#wait-spinner",i).show(),$("#wait-msg",i).text(e),$("#wait-msg",i).show(),$("#wait-popup",i).show()},changeWaitMessage=function(e){var t=window.document;$("#wait-popup").exists()===!1&&(t=window.parent.document),$("#wait-msg",t).text(e),$("#wait-msg",t).show()},showWaitPopup=function(e,t){e="undefined"!=typeof e?e:!1,t="undefined"!=typeof t?t:"Please Wait...";var i=window.document;$("#wait-popup").exists()===!1&&(i=window.parent.document),$("#dim-overlay",i).hide(),e&&$("#dim-overlay",i).show(),$("#wait-msg",i).hide(),$("#wait-spinner",i).show(),$("#wait-popup",i).show(),$("#wait-title",i).text(t)},hideWaitPopup=function(){$("#wait-popup").exists()?($("#dim-overlay").hide(),$("#wait-popup").hide()):($("#dim-overlay",window.parent.document).hide(),$("#wait-popup",window.parent.document).hide())},showMessagePopup=function(e,t){$("#message-pop-msg").html(t),$("#message-popup").dialog("option","title",e),$("#message-popup").dialog("open")},showChoicePopup=function(e,t,i,n,o,r){$("#yes-no-msg").html(t),$("#yes-no-popup").dialog("option","title",e),$("#yes-no-popup").dialog("option","buttons",[{text:o,click:function(){$(this).dialog("close"),hideWaitPopup(),r()}},{text:i,click:function(){$(this).dialog("close"),n()}}]),$("#yes-no-popup").dialog("open")},showYesNoPopup=function(e,t,i,n){n="undefined"!=typeof n?n:null,$("#yes-no-msg").html(t),$("#yes-no-popup").dialog("option","title",e),$("#yes-no-popup").dialog("option","buttons",{No:function(){$(this).dialog("close"),hideWaitPopup(),null!==n&&n()},Yes:function(){$(this).dialog("close"),i()}}),$("#yes-no-popup").dialog("open")},hideYesNoPopup=function(){$("#yes-no-popup").dialog("close")},isValidURL=function(e){return/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)?!0:!1},downloadItem=function(e,t){showWaitPopup(!0);var i=(new Date).getTime();window.location=t.indexOf("?")>-1?"/"+e+"/"+t+"&download&token="+i:"/"+e+"/"+t+"?download&token="+i;var n=10,o=setInterval(function(){var e=$.cookie("fileDownloadToken");n-=1,(e==i||0>=n)&&(hideWaitPopup(),clearInterval(o))},1e3)},waitForCookie=function(e,t){var i=120,n=setInterval(function(){var o=$.cookie(e);i-=1,(o==t||0>=i)&&(hideWaitPopup(),clearInterval(n))},1e3)};$(document).ajaxComplete(function(e,t){t.status;if(401===t.status)location="/login?expired";else if(200!==t.status&&0!=t.status){hideWaitPopup();var i=t.responseText.replace("\n","<br/>");$("#message-popup").exists()===!1?window.parent.showMessagePopup("Request Failed",i):showMessagePopup("Request Failed",i)}}),window.Juxta||(window.Juxta={}),window.Juxta.Histogram||(window.Juxta.Histogram={}),$(function(){var e=null,t=[],i=null,n=!1,o=function(e,t){var i=$("#histogram-panel").height(),n=t/i,o=null,r=0;if(isHeatmap())o=$("#heatmap-scroller"),r=o.height(),o.scrollTop($("#heatmap-scroller")[0].scrollHeight*n-.5*r);else{var s=$("#left-witness-text")[0].scrollHeight;o=$("#left-witness-text"),r=o.height(),o.scrollTop(s*n-.5*r)}},r=function(){var t,n={stroke:"#999","stroke-width":.5,fill:"#ebebeb"},o=0,r=0,s=0;isHeatmap()?(o=$("#heatmap-scroller")[0].scrollHeight,t=$("#heatmap-scroller").height(),r=$("#heatmap-scroller").scrollTop(),s=r+t):(o=$("#left-witness-text")[0].scrollHeight,t=$("#left-witness-text").height(),r=$("#left-witness-text").scrollTop(),s=r+t);var a=r/o,l=s/o,u=$("#histogram-panel").height()*a,c=$("#histogram-panel").height()*l;i=e.rect(0,u,$("#histogram-panel").width(),c-u),i.attr(n)},s=function(){if(null!==i){var e=0,t=0;isHeatmap()?(e=$("#heatmap-scroller").scrollTop(),t=$("#heatmap-scroller")[0].scrollHeight):(t=$("#left-witness-text")[0].scrollHeight,e=$("#left-witness-text").scrollTop());var n=e/t,o=$("#histogram-panel").height()*n,r=i.attr();r.y=o,i.attr(r)}},a=function(){var e=-1;$.each(t,function(t,i){i>e&&(e=i)}),$.each(t,function(i,n){var o=n/e;t[i]=o}),$("#histogram-dialog").dialog("open"),hideWaitPopup()},l=function(){t=[];for(var e=0;100>e;)t[e]=0,e+=1;var i,n,o,r,s,l,u,c,h=0;if(isHeatmap())for(i=$("#heatmap-text").outerHeight(!0),l=$("#heatmap-scroller").scrollTop()-$("#heatmap-scroller").position().top,c=$(".heatmap");h<c.length;){for(u=c[h],n=l+$(u).position().top,o=n/i,r=Math.round(100*o),o=(n+$(u).height())/i,s=Math.round(100*o),e=r;s>=e;e++)t[e]+=Math.max(5,$(u).text().length)*parseInt($(u).attr("juxta:diff-freq"),10);h+=1}else for(i=$("#left-witness-text")[0].scrollHeight,l=$("#left-witness-text").scrollTop()-$("#left-witness-text").position().top,c=$("#left-witness-text .diff");h<c.length;){for(u=c[h],n=l+$(u).position().top,o=n/i,r=Math.round(100*o),o=(n+$(u).height())/i,s=Math.round(100*o),e=r;s>=e;e++)t[e]+=Math.max(5,$(u).text().length);h+=1}a()},u=function(){var i=$("#histogram-panel");null===e?(e=new Raphael("histogram-panel",i.width(),i.height()),$("#histogram-panel svg").css("top","0"),$("#histogram-panel svg").css("left","0")):e.clear(),r();var n,o=$("#histogram-panel").height(),s=$("#histogram-panel").width(),a=o/t.length,l={stroke:"#0037B3","stroke-width":.25,fill:"#75B7C5"},u=0,c=0;$.each(t,function(t,i){c=i*s,c>0&&(n=e.rect(0,u+.5,c,a-.5),n.attr(l)),u+=a})},c=function(){var e=$("#histogram-button").hasClass("pressed");e===!1?($("#histogram-button").addClass("pressed"),0===t.length?(showWaitPopup(!0),setTimeout(function(){l()},100)):$("#histogram-dialog").dialog("open")):($("#histogram-dialog").dialog("close"),$("#histogram-button").removeClass("pressed"))},h=function(){u()},d=function(){var t=$("#histogram-panel");null!==e&&(e.setSize(t.width(),t.height()),u())};window.Juxta.Histogram.autoOpen=function(){c()},window.Juxta.Histogram.init=function(){$("#histogram-button").on("click",function(){c()}),isHeatmap()?$("#heatmap-scroller").scroll(function(){s()}):$("#left-witness-text").scroll(function(){s()}),$("#histogram-dialog").dialog({autoOpen:!1,width:130,height:360,resizeStop:function(){d()},open:function(){h()},close:function(){$("#histogram-button").removeClass("pressed")},buttons:{}}),$("#histogram-panel").on("mousedown",function(e){var t=$(this).parent().offset(),i=e.pageX-t.left,r=e.pageY-t.top;o(i,r),n=!0}),$("#histogram-panel").on("mouseup",function(){n=!1}),$("#histogram-panel").on("mouseleave",function(){n=!1}),$("#histogram-panel").on("mousemove",function(e){if(n){e.preventDefault();var t=$(this).parent().offset(),i=e.pageX-t.left,r=e.pageY-t.top;o(i,r)}})},window.Juxta.Histogram.condensedMode=function(){$("#ui-dialog-title-histogram-dialog").css("font-size","0.85em"),$("#histogram-dialog").dialog("option","width",100),$("#histogram-dialog").dialog("option","height",300),$("#histogram-button").on("click",function(){c()})}}),window.CodeMirror=function(){"use strict";function e(i,n){if(!(this instanceof e))return new e(i,n);this.options=n=n||{};for(var o in Xo)!n.hasOwnProperty(o)&&Xo.hasOwnProperty(o)&&(n[o]=Xo[o]);d(n);var r="string"==typeof n.value?0:n.value.first,s=this.display=t(i,r);s.wrapper.CodeMirror=this,u(this),n.autofocus&&!Mo&&ut(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new In},a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var l=n.value;"string"==typeof l&&(l=new rr(n.value,n.mode)),tt(this,ln)(this,l),mo&&setTimeout(Yn(lt,this,!0),20),ht(this);var c;try{c=document.activeElement==s.input}catch(h){}c||n.autofocus&&!Mo?setTimeout(Yn(Lt,this),20):_t(this),tt(this,function(){for(var e in Uo)Uo.propertyIsEnumerable(e)&&Uo[e](this,n[e],Go);for(var t=0;t<Qo.length;++t)Qo[t](this)})()}function t(e,t){var i={},n=i.input=Qn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");bo?n.style.width="1000px":n.setAttribute("wrap","off"),_o&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),i.inputDiv=Qn("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),i.scrollbarH=Qn("div",[Qn("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),i.scrollbarV=Qn("div",[Qn("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),i.scrollbarFiller=Qn("div",null,"CodeMirror-scrollbar-filler"),i.lineDiv=Qn("div"),i.selectionDiv=Qn("div",null,null,"position: relative; z-index: 1"),i.cursor=Qn("div","\xa0","CodeMirror-cursor"),i.otherCursor=Qn("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"),i.measure=Qn("div",null,"CodeMirror-measure"),i.lineSpace=Qn("div",[i.measure,i.selectionDiv,i.lineDiv,i.cursor,i.otherCursor],null,"position: relative; outline: none"),i.mover=Qn("div",[Qn("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Qn("div",[i.mover],"CodeMirror-sizer"),i.heightForcer=Qn("div",null,null,"position: absolute; height: "+cr+"px; width: 1px;"),i.gutters=Qn("div",null,"CodeMirror-gutters"),i.lineGutter=null;var o=Qn("div",[i.sizer,i.heightForcer,i.gutters],null,"position: relative; min-height: 100%");return i.scroller=Qn("div",[o],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Qn("div",[i.inputDiv,i.scrollbarH,i.scrollbarV,i.scrollbarFiller,i.scroller],"CodeMirror"),vo&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),e.appendChild?e.appendChild(i.wrapper):e(i.wrapper),_o&&(n.style.width="0px"),bo||(i.scroller.draggable=!0),To?(i.inputDiv.style.height="1px",i.inputDiv.style.position="absolute"):vo&&(i.scrollbarH.style.minWidth=i.scrollbarV.style.minWidth="18px"),i.viewOffset=i.lastSizeC=0,i.showingFrom=i.showingTo=t,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.prevInput="",i.alignWidgets=!1,i.pollingFast=!1,i.poll=new In,i.draggingText=!1,i.cachedCharWidth=i.cachedTextHeight=null,i.measureLineCache=[],i.measureLineCachePos=0,i.inaccurateSelection=!1,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i}function i(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.frontier=t.doc.first,N(t,100),t.state.modeGen++,t.curOp&&ot(t)}function n(e){e.options.lineWrapping?(e.display.wrapper.className+=" CodeMirror-wrap",e.display.sizer.style.minWidth=""):(e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),h(e)),r(e),ot(e),B(e),setTimeout(function(){f(e.display,e.doc.height)},100)}function o(e){var t=K(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/Q(e.display)-3);return function(o){return Hi(e.doc,o)?0:i?(Math.ceil(o.text.length/n)||1)*t:t}}function r(e){var t=e.doc,i=o(e);t.iter(function(e){var t=i(e);t!=e.height&&dn(e,t)})}function s(e){var t=er[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),B(e)}function l(e){u(e),ot(e)}function u(e){var t=e.display.gutters,i=e.options.gutters;Zn(t);for(var n=0;n<i.length;++n){var o=i[n],r=t.appendChild(Qn("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(e.display.lineGutter=r,r.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none"}function c(e,t){if(0==t.height)return 0;for(var i,n=t.text.length,o=t;i=Ai(o);){var r=i.find();o=un(e,r.from.line),n+=r.from.ch-r.to.ch}for(o=t;i=zi(o);){var r=i.find();n-=o.text.length-r.from.ch,o=un(e,r.to.line),n+=o.text.length-r.to.ch}return n}function h(e){var t=e.display,i=e.doc;t.maxLine=un(i,i.first),t.maxLineLength=c(i,t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var n=c(i,e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function d(e){for(var t=!1,i=0;i<e.gutters.length;++i)"CodeMirror-linenumbers"==e.gutters[i]&&(e.lineNumbers?t=!0:e.gutters.splice(i--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function f(e,t){var i=t+H(e);e.sizer.style.minHeight=e.heightForcer.style.top=i+"px";var n=Math.max(i,e.scroller.scrollHeight),o=e.scroller.scrollWidth>e.scroller.clientWidth,r=n>e.scroller.clientHeight;r?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=o?no(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=n-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",o?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=r?no(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",o&&r?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=no(e.measure)+"px"):e.scrollbarFiller.style.display="",$o&&0===no(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=So?"18px":"12px")}function p(e,t,i){var n=e.scroller.scrollTop,o=e.wrapper.clientHeight;"number"==typeof i?n=i:i&&(n=i.top,o=i.bottom-i.top),n=Math.floor(n-P(e));var r=Math.ceil(n+o);return{from:pn(t,n),to:pn(t,r)}}function g(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=y(t)-t.scroller.scrollLeft+e.doc.scrollLeft,n=t.gutters.offsetWidth,o=i+"px",r=t.lineDiv.firstChild;r;r=r.nextSibling)if(r.alignable)for(var s=0,a=r.alignable;s<a.length;++s)a[s].style.left=o;e.options.fixedGutter&&(t.gutters.style.left=i+n+"px")}}function m(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=v(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var o=n.measure.appendChild(Qn("div",[Qn("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=o.firstChild.offsetWidth,s=o.offsetWidth-r;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(r,n.lineGutter.offsetWidth-s),n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0
}return!1}function v(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function y(e){return io(e.scroller).left-io(e.sizer).left}function b(e,t,i){var n=e.display.showingFrom,o=e.display.showingTo,r=w(e,t,i);return r&&(On(e,"update",e),(e.display.showingFrom!=n||e.display.showingTo!=o)&&On(e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),L(e),f(e.display,e.doc.height),r}function w(e,t,i){var n=e.display,o=e.doc;if(!n.wrapper.clientWidth)return n.showingFrom=n.showingTo=o.first,void(n.viewOffset=0);var r=p(n,o,i);if(!(0==t.length&&r.from>n.showingFrom&&r.to<n.showingTo)){m(e)&&(t=[{from:o.first,to:o.first+o.size}]);var s=n.sizer.style.marginLeft=n.gutters.offsetWidth+"px";n.scrollbarH.style.left=e.options.fixedGutter?s:"0";var a=1/0;if(e.options.lineNumbers)for(var l=0;l<t.length;++l)if(t[l].diff){a=t[l].from;break}var u=o.first+o.size,c=Math.max(r.from-e.options.viewportMargin,o.first),h=Math.min(u,r.to+e.options.viewportMargin);if(n.showingFrom<c&&c-n.showingFrom<20&&(c=Math.max(o.first,n.showingFrom)),n.showingTo>h&&n.showingTo-h<20&&(h=Math.min(u,n.showingTo)),Fo)for(c=fn(Pi(o,un(o,c)));u>h&&Hi(o,un(o,h));)++h;var d=[{from:Math.max(n.showingFrom,o.first),to:Math.min(n.showingTo,u)}];if(d=d[0].from>=d[0].to?[]:C(d,t),Fo)for(var l=0;l<d.length;++l)for(var f,g=d[l];f=zi(un(o,g.to-1));){var v=f.find().from.line;if(!(v>g.from)){d.splice(l--,1);break}g.to=v}for(var y=0,l=0;l<d.length;++l){var g=d[l];g.from<c&&(g.from=c),g.to>h&&(g.to=h),g.from>=g.to?d.splice(l--,1):y+=g.to-g.from}if(y==h-c&&c==n.showingFrom&&h==n.showingTo)return void x(e);d.sort(function(e,t){return e.from-t.from});var b=document.activeElement;.7*(h-c)>y&&(n.lineDiv.style.display="none"),T(e,c,h,d,a),n.lineDiv.style.display="",document.activeElement!=b&&b.offsetHeight&&b.focus();var k=c!=n.showingFrom||h!=n.showingTo||n.lastSizeC!=n.wrapper.clientHeight;k&&(n.lastSizeC=n.wrapper.clientHeight),n.showingFrom=c,n.showingTo=h,N(e,100);for(var $,S=n.lineDiv.offsetTop,L=n.lineDiv.firstChild;L;L=L.nextSibling)if(L.lineObj){if(vo){var _=L.offsetTop+L.offsetHeight;$=_-S,S=_}else{var M=io(L);$=M.bottom-M.top}var E=L.lineObj.height-$;if(2>$&&($=K(n)),E>.001||-.001>E){dn(L.lineObj,$);var D=L.lineObj.widgets;if(D)for(var l=0;l<D.length;++l)D[l].height=D[l].node.offsetHeight}}return x(e),p(n,o,i).to>h&&w(e,[],i),!0}}function x(e){var t=e.display.viewOffset=gn(e,un(e.doc,e.display.showingFrom));e.display.mover.style.top=t+"px"}function C(e,t){for(var i=0,n=t.length||0;n>i;++i){for(var o=t[i],r=[],s=o.diff||0,a=0,l=e.length;l>a;++a){var u=e[a];o.to<=u.from&&o.diff?r.push({from:u.from+s,to:u.to+s}):o.to<=u.from||o.from>=u.to?r.push(u):(o.from>u.from&&r.push({from:u.from,to:o.from}),o.to<u.to&&r.push({from:o.to+s,to:u.to+s}))}e=r}return e}function k(e){for(var t=e.display,i={},n={},o=t.gutters.firstChild,r=0;o;o=o.nextSibling,++r)i[e.options.gutters[r]]=o.offsetLeft,n[e.options.gutters[r]]=o.offsetWidth;return{fixedPos:y(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function T(e,t,i,n,o){function r(t){var i=t.nextSibling;return bo&&Eo&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),i}var s=k(e),a=e.display,l=e.options.lineNumbers;n.length||bo&&e.display.currentWheelTarget||Zn(a.lineDiv);var u=a.lineDiv,c=u.firstChild,h=n.shift(),d=t;for(e.doc.iter(t,i,function(t){if(h&&h.to==d&&(h=n.shift()),Hi(e.doc,t)){if(0!=t.height&&dn(t,0),t.widgets&&c.previousSibling)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].showIfHidden){var a=c.previousSibling;if(/pre/i.test(a.nodeName)){var f=Qn("div",null,null,"position: relative");a.parentNode.replaceChild(f,a),f.appendChild(a),a=f}var p=a.appendChild(Qn("div",[t.widgets[i].node],"CodeMirror-linewidget"));S(t.widgets[i],p,a,s)}}else if(h&&h.from<=d&&h.to>d){for(;c.lineObj!=t;)c=r(c);l&&d>=o&&c.lineNumber&&to(c.lineNumber,v(e.options,d)),c=c.nextSibling}else{if(t.widgets)for(var g,m=0,y=c;y&&20>m;++m,y=y.nextSibling)if(y.lineObj==t&&/div/i.test(y.nodeName)){g=y;break}var b=$(e,t,d,s,g);if(b!=g)u.insertBefore(b,c);else{for(;c!=g;)c=r(c);c=c.nextSibling}b.lineObj=t}++d});c;)c=r(c)}function $(e,t,i,n,o){var r,s=Ki(e,t),a=t.gutterMarkers,l=e.display;if(!(e.options.lineNumbers||a||t.bgClass||t.wrapClass||t.widgets))return s;if(o){o.alignable=null;for(var u,c=!0,h=0,d=o.firstChild;d;d=u)if(u=d.nextSibling,/\bCodeMirror-linewidget\b/.test(d.className)){for(var f=0,p=!0;f<t.widgets.length;++f){var g=t.widgets[f],m=!1;if(g.above||(m=p,p=!1),g.node==d.firstChild){S(g,d,o,n),++h,m&&o.insertBefore(s,d);break}}if(f==t.widgets.length){c=!1;break}}else o.removeChild(d);c&&h==t.widgets.length&&(r=o,o.className=t.wrapClass||"")}if(r||(r=Qn("div",null,t.wrapClass,"position: relative"),r.appendChild(s)),t.bgClass&&r.insertBefore(Qn("div",null,t.bgClass+" CodeMirror-linebackground"),r.firstChild),e.options.lineNumbers||a){var y=r.insertBefore(Qn("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),r.firstChild);if(e.options.fixedGutter&&(r.alignable||(r.alignable=[])).push(y),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(r.lineNumber=y.appendChild(Qn("div",v(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.lineNumInnerWidth+"px"))),a)for(var b=0;b<e.options.gutters.length;++b){var w=e.options.gutters[b],x=a.hasOwnProperty(w)&&a[w];x&&y.appendChild(Qn("div",[x],"CodeMirror-gutter-elt","left: "+n.gutterLeft[w]+"px; width: "+n.gutterWidth[w]+"px"))}}if(vo&&(r.style.zIndex=2),t.widgets&&r!=o)for(var f=0,C=t.widgets;f<C.length;++f){var g=C[f],k=Qn("div",[g.node],"CodeMirror-linewidget");S(g,k,r,n),g.above?r.insertBefore(k,e.options.lineNumbers&&0!=t.height?y:s):r.appendChild(k),On(g,"redraw")}return r}function S(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function L(e){var t=e.display,i=jt(e.doc.sel.from,e.doc.sel.to);i||e.options.showCursorWhenSelecting?_(e):t.cursor.style.display=t.otherCursor.style.display="none",i?t.selectionDiv.style.display="none":M(e);var n=X(e,e.doc.sel.head,"div"),o=io(t.wrapper),r=io(t.lineDiv);t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+r.top-o.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+r.left-o.left))+"px"}function _(e){var t=e.display,i=X(e,e.doc.sel.head,"div");t.cursor.style.left=i.left+"px",t.cursor.style.top=i.top+"px",t.cursor.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",t.cursor.style.display="",i.other?(t.otherCursor.style.display="",t.otherCursor.style.left=i.other.left+"px",t.otherCursor.style.top=i.other.top+"px",t.otherCursor.style.height=.85*(i.other.bottom-i.other.top)+"px"):t.otherCursor.style.display="none"}function M(e){function t(e,t,i,n){0>t&&(t=0),s.appendChild(Qn("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?a-e:i)+"px; height: "+(n-t)+"px"))}function i(i,n,r,s){function u(t){return U(e,Rt(i,t),"div",c)}var c=un(o,i),h=c.text.length,d=s?1/0:-1/0;return ro(mn(c),n||0,null==r?h:r,function(e,i,o){var c=u("rtl"==o?i-1:e),f=u("rtl"==o?e:i-1),p=c.left,g=f.right;f.top-c.top>3&&(t(p,c.top,null,c.bottom),p=l,c.bottom<f.top&&t(p,c.bottom,null,f.top)),null==r&&i==h&&(g=a),null==n&&0==e&&(p=l),d=s?Math.min(f.top,d):Math.max(f.bottom,d),l+1>p&&(p=l),t(p,f.top,g-p,f.bottom)}),d}var n=e.display,o=e.doc,r=e.doc.sel,s=document.createDocumentFragment(),a=n.lineSpace.offsetWidth,l=O(e.display);if(r.from.line==r.to.line)i(r.from.line,r.from.ch,r.to.ch);else{for(var u,c,h=un(o,r.from.line),d=h,f=[r.from.line,r.from.ch];u=zi(d);){var p=u.find();if(f.push(p.from.ch,p.to.line,p.to.ch),p.to.line==r.to.line){f.push(r.to.ch),c=!0;break}d=un(o,p.to.line)}if(c)for(var g=0;g<f.length;g+=3)i(f[g],f[g+1],f[g+2]);else{var m,v,y=un(o,r.to.line);m=r.from.ch?i(r.from.line,r.from.ch,null,!1):gn(e,h)-n.viewOffset,v=r.to.ch?i(r.to.line,Ai(y)?null:0,r.to.ch,!0):gn(e,y)-n.viewOffset,v>m&&t(l,m,null,v)}}eo(n.selectionDiv,s),n.selectionDiv.style.display=""}function E(e){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){t.cursor.offsetHeight&&(t.cursor.style.visibility=t.otherCursor.style.visibility=(i=!i)?"":"hidden")},e.options.cursorBlinkRate)}function N(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.showingTo&&e.state.highlight.set(t,Yn(D,e))}function D(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.showingTo)){var i,n=+new Date+e.options.workTime,o=fi(t.mode,z(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.showingTo+500),function(s){if(t.frontier>=e.display.showingFrom){var a=s.styles;s.styles=Xi(e,s,o);for(var l=!a||a.length!=s.styles.length,u=0;!l&&u<a.length;++u)l=a[u]!=s.styles[u];l&&(i&&i.end==t.frontier?i.end++:r.push(i={start:t.frontier,end:t.frontier+1})),s.stateAfter=fi(t.mode,o)}else Yi(e,s,o),s.stateAfter=t.frontier%5==0?fi(t.mode,o):null;return++t.frontier,+new Date>n?(N(e,e.options.workDelay),!0):void 0}),r.length&&tt(e,function(){for(var e=0;e<r.length;++e)ot(this,r[e].start,r[e].end)})()}}function A(e,t){for(var i,n,o=e.doc,r=t,s=t-100;r>s;--r){if(r<=o.first)return o.first;var a=un(o,r-1);if(a.stateAfter)return r;var l=Rn(a.text,null,e.options.tabSize);(null==n||i>l)&&(n=r-1,i=l)}return n}function z(e,t){var i=e.doc,n=e.display;if(!i.mode.startState)return!0;var o=A(e,t),r=o>i.first&&un(i,o-1).stateAfter;return r=r?fi(i.mode,r):pi(i.mode),i.iter(o,t,function(s){Yi(e,s,r);var a=o==t-1||o%5==0||o>=n.showingFrom&&o<n.showingTo;s.stateAfter=a?fi(i.mode,r):null,++o}),r}function P(e){return e.lineSpace.offsetTop}function H(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function O(e){var t=eo(e.measure,Qn("pre",null,null,"text-align: left")).appendChild(Qn("span","x"));return t.offsetLeft}function W(e,t,i,n){var o=-1;n=n||I(e,t);for(var r=i;;r+=o){var s=n[r];if(s)break;0>o&&0==r&&(o=1)}return{left:i>r?s.right:s.left,right:r>i?s.left:s.right,top:s.top,bottom:s.bottom}}function F(e,t){for(var i=e.display.measureLineCache,n=0;n<i.length;++n){var o=i[n];if(o.text==t.text&&o.markedSpans==t.markedSpans&&e.display.scroller.clientWidth==o.width&&o.classes==t.textClass+"|"+t.bgClass+"|"+t.wrapClass)return o.measure}}function I(e,t){var i=F(e,t);if(!i){i=R(e,t);var n=e.display.measureLineCache,o={text:t.text,width:e.display.scroller.clientWidth,markedSpans:t.markedSpans,measure:i,classes:t.textClass+"|"+t.bgClass+"|"+t.wrapClass};16==n.length?n[++e.display.measureLineCachePos%16]=o:n.push(o)}return i}function R(e,t){var i=e.display,n=Gn(t.text.length),o=Ki(e,t,n);if(mo&&!vo&&!e.options.lineWrapping&&o.childNodes.length>100){for(var r=document.createDocumentFragment(),s=10,a=o.childNodes.length,l=0,u=Math.ceil(a/s);u>l;++l){for(var c=Qn("div",null,null,"display: inline-block"),h=0;s>h&&a;++h)c.appendChild(o.firstChild),--a;r.appendChild(c)}o.appendChild(r)}eo(i.measure,o);var d=io(i.lineDiv),f=[],p=Gn(t.text.length),g=o.offsetHeight;yo&&i.measure.first!=o&&eo(i.measure,o);for(var m,l=0;l<n.length;++l)if(m=n[l]){for(var v=io(m),y=Math.max(0,v.top-d.top),b=Math.min(v.bottom-d.top,g),h=0;h<f.length;h+=2){var w=f[h],x=f[h+1];if(!(w>b||y>x)&&(y>=w&&x>=b||w>=y&&b>=x||Math.min(b,x)-Math.max(y,w)>=b-y>>1)){f[h]=Math.min(y,w),f[h+1]=Math.max(b,x);break}}h==f.length&&f.push(y,b);var C=v.right;m.measureRight&&(C=io(m.measureRight).left),p[l]={left:v.left-d.left,right:C-d.left,top:h}}for(var m,l=0;l<p.length;++l)if(m=p[l]){var k=m.top;m.top=f[k],m.bottom=f[k+1]}return p}function j(e,t){var i=!1;if(t.markedSpans)for(var n=0;n<t.markedSpans;++n){var o=t.markedSpans[n];!o.collapsed||null!=o.to&&o.to!=t.text.length||(i=!0)}var r=!i&&F(e,t);if(r)return W(e,t,t.text.length,r).right;var s=Ki(e,t),a=s.appendChild(oo(e.display.measure));return eo(e.display.measure,s),io(a).right-io(e.display.lineDiv).left}function B(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.display.maxLineChanged=!0,e.display.lineNumChars=null}function q(e,t,i,n){if(t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var r=Ri(t.widgets[o]);i.top+=r,i.bottom+=r}if("line"==n)return i;n||(n="local");var s=gn(e,t);if("local"!=n&&(s-=e.display.viewOffset),"page"==n){var a=io(e.display.lineSpace);s+=a.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var l=a.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function V(e,t,i){if("div"==i)return t;var n=t.left,o=t.top;"page"==i&&(n-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,o-=window.pageYOffset||(document.documentElement||document.body).scrollTop);var r=io(e.display.lineSpace);if(n-=r.left,o-=r.top,"local"==i||!i){var s=io(e.display.wrapper);n-=s.left,o-=s.top}return{left:n,top:o}}function U(e,t,i,n){return n||(n=un(e.doc,t.line)),q(e,n,W(e,n,t.ch),i)}function X(e,t,i,n,o){function r(t,r){var s=W(e,n,t,o);return r?s.left=s.right:s.right=s.left,q(e,n,s,i)}n=n||un(e.doc,t.line),o||(o=I(e,n));var s=mn(n),a=t.ch;if(!s)return r(a);for(var l,u,c=s[0].level,h=0;h<s.length;++h){var d,f,p=s[h],g=p.level%2;if(p.from<a&&p.to>a)return r(a,g);var m=g?p.to:p.from,v=g?p.from:p.to;if(m==a)f=h&&p.level<(d=s[h-1]).level?r(d.level%2?d.from:d.to-1,!0):r(g&&p.from!=p.to?a-1:a),g==c?l=f:u=f;else if(v==a){var d=h<s.length-1&&s[h+1];if(!g&&d&&d.from==d.to)continue;f=d&&p.level<d.level?r(d.level%2?d.to-1:d.from):r(g?a:a-1,!0),g==c?l=f:u=f}}return c&&!a&&(u=r(s[0].to-1)),l?(u&&(l.other=u),l):u}function G(e,t,i){var n=new Rt(e,t);return i&&(n.outside=!0),n}function Y(e,t,i){var n=e.doc;if(i+=e.display.viewOffset,0>i)return G(n.first,0,!0);var o=pn(n,i),r=n.first+n.size-1;if(o>r)return G(n.first+n.size-1,un(n,r).text.length,!0);for(0>t&&(t=0);;){var s=un(n,o),a=J(e,s,o,t,i),l=zi(s),u=l&&l.find();if(!(l&&a.ch>=u.from.ch))return a;o=u.to.line}}function J(e,t,i,n,o){function r(n){var o=X(e,Rt(i,n),"line",t,u);return a=!0,s>o.bottom?o.left-l:s<o.top?o.left+l:(a=!1,o.left)}var s=o-gn(e,t),a=!1,l=2*e.display.wrapper.clientWidth,u=I(e,t),c=mn(t),h=t.text.length,d=lo(t),f=uo(t),p=r(d),g=a,m=r(f),v=a;if(n>m)return G(i,f,v);for(;;){if(c?f==d||f==fo(t,d,1):1>=f-d){for(var y=m-n>n-p,b=y?d:f;pr.test(t.text.charAt(b));)++b;var w=G(i,b,y?g:v);return w.after=y,w}var x=Math.ceil(h/2),C=d+x;if(c){C=d;for(var k=0;x>k;++k)C=fo(t,C,1)}var T=r(C);T>n?(f=C,m=T,(v=a)&&(m+=1e3),h-=x):(d=C,p=T,g=a,h=x)}}function K(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ao){Ao=Qn("pre");for(var t=0;49>t;++t)Ao.appendChild(document.createTextNode("x")),Ao.appendChild(Qn("br"));Ao.appendChild(document.createTextNode("x"))}eo(e.measure,Ao);var i=Ao.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),Zn(e.measure),i||1}function Q(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Qn("span","x"),i=Qn("pre",[t]);eo(e.measure,i);var n=t.offsetWidth;return n>2&&(e.cachedCharWidth=n),n||10}function Z(e){e.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Io},ur++||(lr=[])}function et(e){var t=e.curOp,i=e.doc,n=e.display;if(e.curOp=null,t.updateMaxLine&&h(e),n.maxLineChanged&&!e.options.lineWrapping){var o=j(e,n.maxLine);n.sizer.style.minWidth=Math.max(0,o+3+cr)+"px",n.maxLineChanged=!1;var r=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);r<i.scrollLeft&&!t.updateScrollPos&&bt(e,Math.min(n.scroller.scrollLeft,r),!0)}var s,a;if(t.updateScrollPos)s=t.updateScrollPos;else if(t.selectionChanged&&n.scroller.clientHeight){var l=X(e,i.sel.head);s=ni(e,l.left,l.top,l.left,l.bottom)}(t.changes.length||s&&null!=s.scrollTop)&&(a=b(e,t.changes,s&&s.scrollTop),e.display.scroller.offsetHeight&&(e.doc.scrollTop=e.display.scroller.scrollTop)),!a&&t.selectionChanged&&L(e),t.updateScrollPos?(n.scroller.scrollTop=n.scrollbarV.scrollTop=i.scrollTop=s.scrollTop,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=i.scrollLeft=s.scrollLeft,g(e)):s&&ei(e),t.selectionChanged&&E(e),e.state.focused&&t.updateInput&&lt(e,t.userSelChange);var u=t.maybeHiddenMarkers,c=t.maybeUnhiddenMarkers;if(u)for(var d=0;d<u.length;++d)u[d].lines.length||Hn(u[d],"hide");if(c)for(var d=0;d<c.length;++d)c[d].lines.length&&Hn(c[d],"unhide");var f;if(--ur||(f=lr,lr=null),t.textChanged&&Hn(e,"change",e,t.textChanged),t.selectionChanged&&Hn(e,"cursorActivity",e),f)for(var d=0;d<f.length;++d)f[d]()}function tt(e,t){return function(){var i=e||this,n=!i.curOp;n&&Z(i);try{var o=t.apply(i,arguments)}finally{n&&et(i)}return o}}function it(e){return function(){var t,i=this.cm&&!this.cm.curOp;i&&Z(this.cm);try{t=e.apply(this,arguments)}finally{i&&et(this.cm)}return t}}function nt(e,t){var i,n=!e.curOp;n&&Z(e);try{i=t()}finally{n&&et(e)}return i}function ot(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),e.curOp.changes.push({from:t,to:i,diff:n})}function rt(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){at(e),e.state.focused&&rt(e)})}function st(e){function t(){var n=at(e);n||i?(e.display.pollingFast=!1,rt(e)):(i=!0,e.display.poll.set(60,t))}var i=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function at(e){var t=e.display.input,i=e.display.prevInput,n=e.doc,o=n.sel;if(!e.state.focused||wr(t)||ct(e))return!1;var r=t.value;if(r==i&&jt(o.from,o.to))return!1;if(mo&&r&&0===t.selectionStart)return lt(e,!0),!1;var s=!e.curOp;s&&Z(e),o.shift=!1;for(var a=0,l=Math.min(i.length,r.length);l>a&&i[a]==r[a];)++a;var u=o.from,c=o.to;a<i.length?u=Rt(u.line,u.ch-(i.length-a)):e.state.overwrite&&jt(u,c)&&!e.state.pasteIncoming&&(c=Rt(c.line,Math.min(un(n,c.line).text.length,c.ch+(r.length-a))));var h=e.curOp.updateInput;return zt(e.doc,{from:u,to:c,text:br(r.slice(a)),origin:e.state.pasteIncoming?"paste":"+input"},"end"),e.curOp.updateInput=h,r.length>1e3||r.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=r,s&&et(e),e.state.pasteIncoming=!1,!0}function lt(e,t){var i,n,o=e.doc;jt(o.sel.from,o.sel.to)?t&&(e.display.prevInput=e.display.input.value=""):(e.display.prevInput="",i=xr&&(o.sel.to.line-o.sel.from.line>100||(n=e.getSelection()).length>1e3),e.display.input.value=i?"-":n||e.getSelection(),e.state.focused&&qn(e.display.input)),e.display.inaccurateSelection=i}function ut(e){"nocursor"==e.options.readOnly||Mo&&document.activeElement==e.display.input||e.display.input.focus()}function ct(e){return e.options.readOnly||e.doc.cantEdit}function ht(e){function t(){e.state.focused&&setTimeout(Yn(ut,e),0)}function i(){s.cachedCharWidth=s.cachedTextHeight=null,B(e),nt(e,Yn(ot,e))}function n(){for(var e=s.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(n,5e3):Pn(window,"resize",i)}function o(t){e.options.onDragEvent&&e.options.onDragEvent(e,_n(t))||Nn(t)}function r(){s.inaccurateSelection&&(s.prevInput="",s.inaccurateSelection=!1,s.input.value=e.getSelection(),qn(s.input))}var s=e.display;zn(s.scroller,"mousedown",tt(e,pt)),zn(s.scroller,"dblclick",tt(e,Mn)),zn(s.lineSpace,"selectstart",function(e){dt(s,e)||Mn(e)}),Oo||zn(s.scroller,"contextmenu",function(t){Mt(e,t)}),zn(s.scroller,"scroll",function(){s.scroller.clientHeight&&(yt(e,s.scroller.scrollTop),bt(e,s.scroller.scrollLeft,!0),Hn(e,"scroll",e))}),zn(s.scrollbarV,"scroll",function(){s.scroller.clientHeight&&yt(e,s.scrollbarV.scrollTop)}),zn(s.scrollbarH,"scroll",function(){s.scroller.clientHeight&&bt(e,s.scrollbarH.scrollLeft)}),zn(s.scroller,"mousewheel",function(t){wt(e,t)}),zn(s.scroller,"DOMMouseScroll",function(t){wt(e,t)}),zn(s.scrollbarH,"mousedown",t),zn(s.scrollbarV,"mousedown",t),zn(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),zn(window,"resize",i),setTimeout(n,5e3),zn(s.input,"keyup",tt(e,function(t){e.options.onKeyEvent&&e.options.onKeyEvent(e,_n(t))||16==t.keyCode&&(e.doc.sel.shift=!1)})),zn(s.input,"input",Yn(st,e)),zn(s.input,"keydown",tt(e,$t)),zn(s.input,"keypress",tt(e,St)),zn(s.input,"focus",Yn(Lt,e)),zn(s.input,"blur",Yn(_t,e)),e.options.dragDrop&&(zn(s.scroller,"dragstart",function(t){vt(e,t)}),zn(s.scroller,"dragenter",o),zn(s.scroller,"dragover",o),zn(s.scroller,"drop",tt(e,gt))),zn(s.scroller,"paste",function(t){dt(s,t)||(ut(e),st(e))}),zn(s.input,"paste",function(){e.state.pasteIncoming=!0,st(e)}),zn(s.input,"cut",r),zn(s.input,"copy",r),To&&zn(s.sizer,"mouseup",function(){document.activeElement==s.input&&s.input.blur(),ut(e)})}function dt(e,t){for(var i=Dn(t);i!=e.wrapper;i=i.parentNode){if(!i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(i.className)||i.parentNode==e.sizer&&i!=e.mover)return!0}}function ft(e,t,i){var n=e.display;if(!i){var o=Dn(t);if(o==n.scrollbarH||o==n.scrollbarH.firstChild||o==n.scrollbarV||o==n.scrollbarV.firstChild||o==n.scrollbarFiller)return null}var r,s,a=io(n.lineSpace);try{r=t.clientX,s=t.clientY}catch(t){return null}return Y(e,r-a.left,s-a.top)}function pt(e){function t(e){if("single"==c)return void Yt(o.doc,Ut(s,l),e);if(g=Ut(s,g),m=Ut(s,m),"double"==c){var t=ci(un(s,e.line).text,e);Bt(e,g)?Yt(o.doc,t.from,m):Yt(o.doc,g,t.to)}else"triple"==c&&(Bt(e,g)?Yt(o.doc,m,Ut(s,Rt(e.line,0))):Yt(o.doc,g,Ut(s,Rt(e.line+1,0))))}function i(e){var n=++y,a=ft(o,e,!0);if(a)if(jt(a,d)){var l=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;l&&setTimeout(tt(o,function(){y==n&&(r.scroller.scrollTop+=l,i(e))}),50)}else{o.state.focused||Lt(o),d=a,t(a);var u=p(r,s);(a.line>=u.to||a.line<u.from)&&setTimeout(tt(o,function(){y==n&&i(e)}),150)}}function n(e){y=1/0;var i=ft(o,e);i&&t(i),Mn(e),ut(o),Pn(document,"mousemove",b),Pn(document,"mouseup",w)}var o=this,r=o.display,s=o.doc,a=s.sel;if(a.shift=e.shiftKey,dt(r,e))return void(bo||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!mt(o,e)){var l=ft(o,e);switch(An(e)){case 3:return void(Oo&&Mt.call(o,o,e));case 2:return l&&Yt(o.doc,l),setTimeout(Yn(ut,o),20),void Mn(e)}if(!l)return void(Dn(e)==r.scroller&&Mn(e));o.state.focused||Lt(o);var u=+new Date,c="single";if(Po&&Po.time>u-400&&jt(Po.pos,l))c="triple",Mn(e),setTimeout(Yn(ut,o),20),hi(o,l.line);else if(zo&&zo.time>u-400&&jt(zo.pos,l)){c="double",Po={time:u,pos:l},Mn(e);var h=ci(un(s,l.line).text,l);Yt(o.doc,h.from,h.to)}else zo={time:u,pos:l};var d=l;if(o.options.dragDrop&&gr&&!ct(o)&&!jt(a.from,a.to)&&!Bt(l,a.from)&&!Bt(a.to,l)&&"single"==c){var f=tt(o,function(t){bo&&(r.scroller.draggable=!1),o.state.draggingText=!1,Pn(document,"mouseup",f),Pn(r.scroller,"drop",f),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(Mn(t),Yt(o.doc,l),ut(o))});return bo&&(r.scroller.draggable=!0),o.state.draggingText=f,r.scroller.dragDrop&&r.scroller.dragDrop(),zn(document,"mouseup",f),void zn(r.scroller,"drop",f)}Mn(e),"single"==c&&Yt(o.doc,Ut(s,l));var g=a.from,m=a.to,v=io(r.wrapper),y=0,b=tt(o,function(e){mo||An(e)?i(e):n(e)}),w=tt(o,n);zn(document,"mousemove",b),zn(document,"mouseup",w)}}function gt(e){var t=this;if(!(dt(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,_n(e)))){Mn(e);var i=ft(t,e,!0),n=e.dataTransfer.files;if(i&&!ct(t))if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,r=Array(o),s=0,a=function(e,n){var a=new FileReader;a.onload=function(){r[n]=a.result,++s==o&&(i=Ut(t.doc,i),zt(t.doc,{from:i,to:i,text:br(r.join("\n")),origin:"paste"},"around"))},a.readAsText(e)},l=0;o>l;++l)a(n[l],l);else{if(t.state.draggingText&&!Bt(i,t.doc.sel.from)&&!Bt(t.doc.sel.to,i))return t.state.draggingText(e),void setTimeout(Yn(ut,t),20);try{var r=e.dataTransfer.getData("Text");if(r){var u=t.doc.sel.from,c=t.doc.sel.to;Kt(t.doc,i,i),t.state.draggingText&&It(t.doc,"",u,c,"paste"),t.replaceSelection(r,null,"paste"),ut(t),Lt(t)}}catch(e){}}}}function mt(e,t){var i=e.display;try{var n=t.clientX,o=t.clientY}catch(t){return!1}if(n>=Math.floor(io(i.gutters).right))return!1;if(Mn(t),!Fn(e,"gutterClick"))return!0;var r=io(i.lineDiv);if(o>r.bottom)return!0;o-=r.top-i.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var a=i.gutters.childNodes[s];if(a&&io(a).right>=n){var l=pn(e.doc,o),u=e.options.gutters[s];On(e,"gutterClick",e,l,u,t);break}}return!0}function vt(e,t){if(!dt(e.display,t)){var i=e.getSelection();if(t.dataTransfer.setData("Text",i),t.dataTransfer.setDragImage){var n=Qn("img",null,null,"position: fixed; left: 0; top: 0;");Co&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),ko&&(e.display.dragImg?n=e.display.dragImg:(e.display.dragImg=n,n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",e.display.wrapper.appendChild(n))),t.dataTransfer.setDragImage(n,0,0),Co&&n.parentNode.removeChild(n)}}}function yt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,go||b(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),go&&b(e,[]))}function bt(e,t,i){(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,g(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function wt(e,t){var i=t.wheelDeltaX,n=t.wheelDeltaY;if(null==i&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(i=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),n&&Eo&&bo)for(var o=t.target;o!=s;o=o.parentNode)if(o.lineObj){e.display.currentWheelTarget=o;break}var r=e.display,s=r.scroller;if(i&&!go&&!Co&&null!=jo)return n&&yt(e,Math.max(0,Math.min(s.scrollTop+n*jo,s.scrollHeight-s.clientHeight))),bt(e,Math.max(0,Math.min(s.scrollLeft+i*jo,s.scrollWidth-s.clientWidth))),Mn(t),void(r.wheelStartX=null);if(n&&null!=jo){var a=n*jo,l=e.doc.scrollTop,u=l+r.wrapper.clientHeight;0>a?l=Math.max(0,l+a-50):u=Math.min(e.doc.height,u+a+50),b(e,[],{top:l,bottom:u})}20>Ro&&(null==r.wheelStartX?(r.wheelStartX=s.scrollLeft,r.wheelStartY=s.scrollTop,r.wheelDX=i,r.wheelDY=n,setTimeout(function(){if(null!=r.wheelStartX){var e=s.scrollLeft-r.wheelStartX,t=s.scrollTop-r.wheelStartY,i=t&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,i&&(jo=(jo*Ro+i)/(Ro+1),++Ro)}},200)):(r.wheelDX+=i,r.wheelDY+=n))}function xt(e,t,i){if("string"==typeof t&&(t=Zo[t],!t))return!1;e.display.pollingFast&&at(e)&&(e.display.pollingFast=!1);var n=e.doc,o=n.sel.shift,r=!1;try{ct(e)&&(e.state.suppressEdits=!0),i&&(n.sel.shift=!1),r=t(e)!=hr}finally{n.sel.shift=o,e.state.suppressEdits=!1}return r}function Ct(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function kt(e,t){var i=gi(e.options.keyMap),n=i.auto;clearTimeout(Bo),n&&!vi(t)&&(Bo=setTimeout(function(){gi(e.options.keyMap)==i&&(e.options.keyMap=n.call?n.call(null,e):n)},50));var o=yi(t,!0),r=!1;if(!o)return!1;var s=Ct(e);return r=t.shiftKey?mi("Shift-"+o,s,function(t){return xt(e,t,!0)})||mi(o,s,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?xt(e,t):void 0}):mi(o,s,function(t){return xt(e,t)}),"stop"==r&&(r=!1),r&&(Mn(t),E(e),yo&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),r}function Tt(e,t,i){var n=mi("'"+i+"'",Ct(e),function(t){return xt(e,t,!0)});return n&&(Mn(t),E(e)),n}function $t(e){var t=this;if(t.state.focused||Lt(t),mo&&27==e.keyCode&&(e.returnValue=!1),!t.options.onKeyEvent||!t.options.onKeyEvent(t,_n(e))){var i=e.keyCode;t.doc.sel.shift=16==i||e.shiftKey;var n=kt(t,e);Co&&(Vo=n?i:null,!n&&88==i&&!xr&&(Eo?e.metaKey:e.ctrlKey)&&t.replaceSelection(""))}}function St(e){var t=this;if(!t.options.onKeyEvent||!t.options.onKeyEvent(t,_n(e))){var i=e.keyCode,n=e.charCode;if(Co&&i==Vo)return Vo=null,void Mn(e);if(!(Co&&(!e.which||e.which<10)||To)||!kt(t,e)){var o=String.fromCharCode(null==n?i:n);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!ct(this)&&this.doc.mode.electricChars.indexOf(o)>-1&&setTimeout(tt(t,function(){si(t,t.doc.sel.to.line,"smart")}),75),Tt(t,e,o)||st(t)}}}function Lt(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(Hn(e,"focus",e),e.state.focused=!0,-1==e.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(e.display.wrapper.className+=" CodeMirror-focused"),lt(e,!0)),rt(e),E(e))}function _t(e){e.state.focused&&(Hn(e,"blur",e),e.state.focused=!1,e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.doc.sel.shift=!1)},150)}function Mt(e,t){function i(){if(n.inputDiv.style.position="relative",n.input.style.cssText=a,yo&&(n.scrollbarV.scrollTop=n.scroller.scrollTop=s),rt(e),null!=n.input.selectionStart&&(!mo||yo)){clearTimeout(qo);var t=n.input.value=" "+(jt(o.from,o.to)?"":n.input.value),i=0;n.prevInput=" ",n.input.selectionStart=1,n.input.selectionEnd=t.length;var r=function(){" "==n.prevInput&&0==n.input.selectionStart?tt(e,Zo.selectAll)(e):i++<10?qo=setTimeout(r,500):lt(e)};qo=setTimeout(r,200)}}var n=e.display,o=e.doc.sel;if(!dt(n,t)){var r=ft(e,t),s=n.scroller.scrollTop;if(r&&!Co){(jt(o.from,o.to)||Bt(r,o.from)||!Bt(r,o.to))&&tt(e,Kt)(e.doc,r,r);var a=n.input.style.cssText;if(n.inputDiv.style.position="absolute",n.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",ut(e),lt(e,!0),jt(o.from,o.to)&&(n.input.value=n.prevInput=" "),Oo){Nn(t);var l=function(){Pn(window,"mouseup",l),setTimeout(i,20)};zn(window,"mouseup",l)}else setTimeout(i,50)}}}function Et(e){return Rt(e.from.line+e.text.length-1,Bn(e.text).length+(1==e.text.length?e.from.ch:0))}function Nt(e,t,i){if(!Bt(t.from,i))return Ut(e,i);var n=t.text.length-1-(t.to.line-t.from.line);if(i.line>t.to.line+n){var o=i.line-n,r=e.first+e.size-1;return o>r?Rt(r,un(e,r).text.length):Xt(i,un(e,o).text.length)}if(i.line==t.to.line+n)return Xt(i,Bn(t.text).length+(1==t.text.length?t.from.ch:0)+un(e,t.to.line).text.length-t.to.ch);var s=i.line-t.from.line;return Xt(i,t.text[s].length+(s?0:t.from.ch))}function Dt(e,t,i){if(i&&"object"==typeof i)return{anchor:Nt(e,t,i.anchor),head:Nt(e,t,i.head)};if("start"==i)return{anchor:t.from,head:t.from};var n=Et(t);if("around"==i)return{anchor:t.from,head:n};if("end"==i)return{anchor:n,head:n};var o=function(e){if(Bt(e,t.from))return e;if(!Bt(t.to,e))return n;var i=e.line+t.text.length-(t.to.line-t.from.line)-1,o=e.ch;return e.line==t.to.line&&(o+=n.ch-t.to.ch),Rt(i,o)};return{anchor:o(e.sel.anchor),head:o(e.sel.head)}}function At(e,t){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,update:function(t,i,n,o){t&&(this.from=Ut(e,t)),i&&(this.to=Ut(e,i)),n&&(this.text=n),void 0!==o&&(this.origin=o)},cancel:function(){this.canceled=!0}};return Hn(e,"beforeChange",e,i),e.cm&&Hn(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function zt(e,t,i,n){if(e.cm){if(!e.cm.curOp)return tt(e.cm,zt)(e,t,i,n);if(e.cm.state.suppressEdits)return}if(!(Fn(e,"beforeChange")||e.cm&&Fn(e.cm,"beforeChange"))||(t=At(e,t))){var o=Wo&&!n&&Ni(e,t.from,t.to);if(o){for(var r=o.length-1;r>=1;--r)Pt(e,{from:o[r].from,to:o[r].to,text:[""]});o.length&&Pt(e,{from:o[0].from,to:o[0].to,text:t.text},i)}else Pt(e,t,i)}}function Pt(e,t,i){var n=Dt(e,t,i);wn(e,t,n,e.cm?e.cm.curOp.id:0/0),Wt(e,t,n,Mi(e,t));var o=[];an(e,function(e,i){i||-1!=Vn(o,e.history)||(Sn(e.history,t),o.push(e.history)),Wt(e,t,null,Mi(e,t))})}function Ht(e,t){if(!e.cm||!e.cm.state.suppressEdits){var i=e.history,n=("undo"==t?i.done:i.undone).pop();if(n){i.dirtyCounter+="undo"==t?-1:1;var o={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore};("undo"==t?i.undone:i.done).push(o);for(var r=n.changes.length-1;r>=0;--r){var s=n.changes[r];s.origin=t,o.changes.push(bn(e,s));var a=r?Dt(e,s,null):{anchor:n.anchorBefore,head:n.headBefore};Wt(e,s,a,Ei(e,s));var l=[];an(e,function(e,t){t||-1!=Vn(l,e.history)||(Sn(e.history,s),l.push(e.history)),Wt(e,s,null,Ei(e,s))})}}}}function Ot(e,t){function i(e){return Rt(e.line+t,e.ch)}e.first+=t,e.cm&&ot(e.cm,e.first,e.first,t),e.sel.head=i(e.sel.head),e.sel.anchor=i(e.sel.anchor),e.sel.from=i(e.sel.from),e.sel.to=i(e.sel.to)}function Wt(e,t,i,n){if(e.cm&&!e.cm.curOp)return tt(e.cm,Wt)(e,t,i,n);
if(t.to.line<e.first)return void Ot(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Ot(e,o),t={from:Rt(e.first,0),to:Rt(t.to.line+o,t.to.ch),text:[Bn(t.text)],origin:t.origin}}var r=e.lastLine();t.to.line>r&&(t={from:t.from,to:Rt(r,un(e,r).text.length),text:[t.text[0]],origin:t.origin}),t.removed=cn(e,t.from,t.to),i||(i=Dt(e,t,null)),e.cm?Ft(e.cm,t,n,i):on(e,t,n,i)}}function Ft(e,t,i,n){var r=e.doc,s=e.display,a=t.from,l=t.to,u=!1,h=a.line;e.options.lineWrapping||(h=fn(Pi(r,un(r,a.line))),r.iter(h,l.line+1,function(e){return e==s.maxLine?(u=!0,!0):void 0})),on(r,t,i,n,o(e)),e.options.lineWrapping||(r.iter(h,a.line+t.text.length,function(e){var t=c(r,e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,u=!1)}),u&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),N(e,400);var d=t.text.length-(l.line-a.line)-1;if(ot(e,a.line,l.line+1,d),Fn(e,"change")){var f={from:a,to:l,text:t.text,removed:t.removed,origin:t.origin};if(e.curOp.textChanged){for(var p=e.curOp.textChanged;p.next;p=p.next);p.next=f}else e.curOp.textChanged=f}}function It(e,t,i,n,o){if(n||(n=i),Bt(n,i)){var r=n;n=i,i=r}"string"==typeof t&&(t=br(t)),zt(e,{from:i,to:n,text:t,origin:o},null)}function Rt(e,t){return this instanceof Rt?(this.line=e,void(this.ch=t)):new Rt(e,t)}function jt(e,t){return e.line==t.line&&e.ch==t.ch}function Bt(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function qt(e){return Rt(e.line,e.ch)}function Vt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ut(e,t){if(t.line<e.first)return Rt(e.first,0);var i=e.first+e.size-1;return t.line>i?Rt(i,un(e,i).text.length):Xt(t,un(e,t.line).text.length)}function Xt(e,t){var i=e.ch;return null==i||i>t?Rt(e.line,t):0>i?Rt(e.line,0):e}function Gt(e,t){return t>=e.first&&t<e.first+e.size}function Yt(e,t,i,n){if(e.sel.shift||e.sel.extend){var o=e.sel.anchor;if(i){var r=Bt(t,o);r!=Bt(i,o)?(o=t,t=i):r!=Bt(t,i)&&(t=i)}Kt(e,o,t,n)}else Kt(e,t,i||t,n);e.cm&&(e.cm.curOp.userSelChange=!0)}function Jt(e,t,i){var n={anchor:t,head:i};return Hn(e,"beforeSelectionChange",e,n),e.cm&&Hn(e.cm,"beforeSelectionChange",e.cm,n),n.anchor=Ut(e,n.anchor),n.head=Ut(e,n.head),n}function Kt(e,t,i,n,o){if(!o&&Fn(e,"beforeSelectionChange")||e.cm&&Fn(e.cm,"beforeSelectionChange")){var r=Jt(e,t,i);i=r.head,t=r.anchor}var s=e.sel;if(s.goalColumn=null,(o||!jt(t,s.anchor))&&(t=Zt(e,t,n,"push"!=o)),(o||!jt(i,s.head))&&(i=Zt(e,i,n,"push"!=o)),!jt(s.anchor,t)||!jt(s.head,i)){s.anchor=t,s.head=i;var a=Bt(i,t);s.from=a?i:t,s.to=a?t:i,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0),On(e,"cursorActivity",e)}}function Qt(e){Kt(e.doc,e.doc.sel.from,e.doc.sel.to,null,"push")}function Zt(e,t,i,n){var o=!1,r=t,s=i||1;e.cantEdit=!1;e:for(;;){var a=un(e,r.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var u=a.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=r.ch:u.from<r.ch))&&(null==u.to||(c.inclusiveRight?u.to>=r.ch:u.to>r.ch))){if(n&&(Hn(c,"beforeCursorEnter"),c.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!c.atomic)continue;var h=c.find()[0>s?"from":"to"];if(jt(h,r)&&(h.ch+=s,h.ch<0?h=h.line>e.first?Ut(e,Rt(h.line-1)):null:h.ch>a.text.length&&(h=h.line<e.first+e.size-1?Rt(h.line+1,0):null),!h)){if(o)return n?(e.cantEdit=!0,Rt(e.first,0)):Zt(e,t,i,!0);o=!0,h=t,s=-s}r=h;continue e}}return r}}function ei(e){var t=ti(e,e.doc.sel.head);if(e.state.focused){var i=e.display,n=io(i.sizer),o=null,r=P(e.display);if(t.top+r+n.top<0?o=!0:t.bottom+r+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Lo){var s="none"==i.cursor.style.display;s&&(i.cursor.style.display="",i.cursor.style.left=t.left+"px",i.cursor.style.top=t.top-i.viewOffset+"px"),i.cursor.scrollIntoView(o),s&&(i.cursor.style.display="none")}}}function ti(e,t,i){for(null==i&&(i=0);;){var n=!1,o=X(e,t),r=ni(e,o.left,o.top-i,o.left,o.bottom+i),s=e.doc.scrollTop,a=e.doc.scrollLeft;if(null!=r.scrollTop&&(yt(e,r.scrollTop),Math.abs(e.doc.scrollTop-s)>1&&(n=!0)),null!=r.scrollLeft&&(bt(e,r.scrollLeft),Math.abs(e.doc.scrollLeft-a)>1&&(n=!0)),!n)return o}}function ii(e,t,i,n,o){var r=ni(e,t,i,n,o);null!=r.scrollTop&&yt(e,r.scrollTop),null!=r.scrollLeft&&bt(e,r.scrollLeft)}function ni(e,t,i,n,o){var r=e.display,s=P(r);i+=s,o+=s;var a=r.scroller.clientHeight-cr,l=r.scroller.scrollTop,u={},c=e.doc.height+H(r),h=s+10>i,d=o+s>c-10;l>i?u.scrollTop=h?0:Math.max(0,i):o>l+a&&(u.scrollTop=(d?c:o)-a);var f=r.scroller.clientWidth-cr,p=r.scroller.scrollLeft;t+=r.gutters.offsetWidth,n+=r.gutters.offsetWidth;var g=r.gutters.offsetWidth,m=g+10>t;return p+g>t||m?(m&&(t=0),u.scrollLeft=Math.max(0,t-10-g)):n>f+p-3&&(u.scrollLeft=n+10-f),u}function oi(e,t,i){e.curOp.updateScrollPos={scrollLeft:t,scrollTop:i}}function ri(e,t,i){var n=e.curOp.updateScrollPos||(e.curOp.updateScrollPos={scrollLeft:e.doc.scrollLeft,scrollTop:e.doc.scrollTop}),o=e.display.scroller;n.scrollTop=Math.max(0,Math.min(o.scrollHeight-o.clientHeight,n.scrollTop+i)),n.scrollLeft=Math.max(0,Math.min(o.scrollWidth-o.clientWidth,n.scrollLeft+t))}function si(e,t,i,n){var o=e.doc;if(i||(i="add"),"smart"==i)if(e.doc.mode.indent)var r=z(e,t);else i="prev";var s,a=e.options.tabSize,l=un(o,t),u=Rn(l.text,null,a),c=l.text.match(/^\s*/)[0];if("smart"==i&&(s=e.doc.mode.indent(r,l.text.slice(c.length),l.text),s==hr)){if(!n)return;i="prev"}"prev"==i?s=t>o.first?Rn(un(o,t-1).text,null,a):0:"add"==i?s=u+e.options.indentUnit:"subtract"==i&&(s=u-e.options.indentUnit),s=Math.max(0,s);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(s/a);f;--f)d+=a,h+="	";s>d&&(h+=jn(s-d)),h!=c&&It(e.doc,h,Rt(t,0),Rt(t,c.length),"+input"),l.stateAfter=null}function ai(e,t,i){var n=t,o=t,r=e.doc;return"number"==typeof t?o=un(r,Vt(r,t)):n=fn(t),null==n?null:i(o,n)?(ot(e,n,n+1),o):null}function li(e,t,i,n,o){function r(){var t=a+i;return t<e.first||t>=e.first+e.size?c=!1:(a=t,u=un(e,t))}function s(e){var t=(o?fo:po)(u,l,i,!0);if(null==t){if(e||!r())return c=!1;l=o?(0>i?uo:lo)(u):0>i?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,u=un(e,a),c=!0;if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,f=!0;!(0>i)||s(!f);f=!1){var p=u.text.charAt(l)||"\n",g=Jn(p)?"w":d?/\s/.test(p)?null:"p":null;if(h&&h!=g){0>i&&(i=1,s());break}if(g&&(h=g),i>0&&!s(!f))break}var m=Zt(e,Rt(a,l),i,!0);return c||(m.hitSide=!0),m}function ui(e,t,i,n){var o,r=e.doc,s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=t.top+i*(a-(0>i?1.5:.5)*K(e.display))}else"line"==n&&(o=i>0?t.bottom+3:t.top-3);for(;;){var l=Y(e,s,o);if(!l.outside)break;if(0>i?0>=o:o>=r.height){l.hitSide=!0;break}o+=5*i}return l}function ci(e,t){var i=t.ch,n=t.ch;if(e){t.after===!1||n==e.length?--i:++n;for(var o=e.charAt(i),r=Jn(o)?Jn:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Jn(e)};i>0&&r(e.charAt(i-1));)--i;for(;n<e.length&&r(e.charAt(n));)++n}return{from:Rt(t.line,i),to:Rt(t.line,n)}}function hi(e,t){Yt(e.doc,Rt(t,0),Ut(e.doc,Rt(t+1,0)))}function di(t,i,n,o){e.defaults[t]=i,n&&(Uo[t]=o?function(e,t,i){i!=Go&&n(e,t,i)}:n)}function fi(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i}function pi(e,t,i){return e.startState?e.startState(t,i):!0}function gi(e){return"string"==typeof e?er[e]:e}function mi(e,t,i){function n(t){t=gi(t);var o=t[e];if(o===!1)return"stop";if(null!=o&&i(o))return!0;if(t.nofallthrough)return"stop";var r=t.fallthrough;if(null==r)return!1;if("[object Array]"!=Object.prototype.toString.call(r))return n(r);for(var s=0,a=r.length;a>s;++s){var l=n(r[s]);if(l)return l}return!1}for(var o=0;o<t.length;++o){var r=n(t[o]);if(r)return r}}function vi(e){var t=Cr[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function yi(e,t){var i=Cr[e.keyCode];return null==i||e.altGraphKey?!1:(e.altKey&&(i="Alt-"+i),(Ho?e.metaKey:e.ctrlKey)&&(i="Ctrl-"+i),(Ho?e.ctrlKey:e.metaKey)&&(i="Cmd-"+i),!t&&e.shiftKey&&(i="Shift-"+i),i)}function bi(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0}function wi(e,t){this.lines=[],this.type=t,this.doc=e}function xi(e,t,i,n,o){if(n&&n.shared)return ki(e,t,i,n,o);if(e.cm&&!e.cm.curOp)return tt(e.cm,xi)(e,t,i,n,o);var r=new wi(e,o);if("range"==o&&!Bt(t,i))return r;n&&Xn(n,r),r.replacedWith&&(r.collapsed=!0,r.replacedWith=Qn("span",[r.replacedWith],"CodeMirror-widget")),r.collapsed&&(Fo=!0);var s,a,l,u=t.line,c=0,h=e.cm;if(e.iter(u,i.line+1,function(n){h&&r.collapsed&&!h.options.lineWrapping&&Pi(e,n)==h.display.maxLine&&(l=!0);var o={from:null,to:null,marker:r};c+=n.text.length,u==t.line&&(o.from=t.ch,c-=t.ch),u==i.line&&(o.to=i.ch,c-=n.text.length-i.ch),r.collapsed&&(u==i.line&&(a=Di(n,i.ch)),u==t.line?s=Di(n,t.ch):dn(n,0)),Si(n,o),++u}),r.collapsed&&e.iter(t.line,i.line+1,function(t){Hi(e,t)&&dn(t,0)}),r.clearOnEnter&&zn(r,"beforeCursorEnter",function(){r.clear()}),r.readOnly&&(Wo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),r.collapsed){if(s!=a)throw new Error("Inserting collapsed marker overlapping an existing one");r.size=c,r.atomic=!0}return h&&(l&&(h.curOp.updateMaxLine=!0),(r.className||r.startStyle||r.endStyle||r.collapsed)&&ot(h,t.line,i.line+1),r.atomic&&Qt(h)),r}function Ci(e,t){this.markers=e,this.primary=t;for(var i=0,n=this;i<e.length;++i)e[i].parent=this,zn(e[i],"clear",function(){n.clear()})}function ki(e,t,i,n,o){n=Xn(n),n.shared=!1;var r=[xi(e,t,i,n,o)],s=r[0],a=n.replacedWith;return an(e,function(e){a&&(n.replacedWith=a.cloneNode(!0)),r.push(xi(e,Ut(e,t),Ut(e,i),n,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Bn(r)}),new Ci(r,s)}function Ti(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function $i(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function Si(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Li(e,t,i){if(e)for(var n,o=0;o<e.length;++o){var r=e[o],s=r.marker,a=null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t);if(a||"bookmark"==s.type&&r.from==t&&(!i||!r.marker.insertLeft)){var l=null==r.to||(s.inclusiveRight?r.to>=t:r.to>t);(n||(n=[])).push({from:r.from,to:l?null:r.to,marker:s})}}return n}function _i(e,t,i){if(e)for(var n,o=0;o<e.length;++o){var r=e[o],s=r.marker,a=null==r.to||(s.inclusiveRight?r.to>=t:r.to>t);if(a||"bookmark"==s.type&&r.from==t&&(!i||r.marker.insertLeft)){var l=null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t);(n||(n=[])).push({from:l?null:r.from-t,to:null==r.to?null:r.to-t,marker:s})}}return n}function Mi(e,t){var i=Gt(e,t.from.line)&&un(e,t.from.line).markedSpans,n=Gt(e,t.to.line)&&un(e,t.to.line).markedSpans;if(!i&&!n)return null;var o=t.from.ch,r=t.to.ch,s=jt(t.from,t.to),a=Li(i,o,s),l=_i(n,r,s),u=1==t.text.length,c=Bn(t.text).length+(u?o:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var f=Ti(l,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=o}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=c),null==d.from){var f=Ti(a,d.marker);f||(d.from=c,u&&(a||(a=[])).push(d))}else d.from+=c,u&&(a||(a=[])).push(d)}var p=[a];if(!u){var g,m=t.text.length-2;if(m>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(g||(g=[])).push({from:null,to:null,marker:a[h].marker});for(var h=0;m>h;++h)p.push(g);p.push(l)}return p}function Ei(e,t){var i=Cn(e,t),n=Mi(e,t);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var r=i[o],s=n[o];if(r&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<r.length;++u)if(r[u].marker==l.marker)continue e;r.push(l)}else s&&(i[o]=s)}return i}function Ni(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=Vn(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var o=[{from:t,to:i}],r=0;r<n.length;++r)for(var s=n[r],a=s.find(),l=0;l<o.length;++l){var u=o[l];if(!Bt(u.to,a.from)&&!Bt(a.to,u.from)){var c=[l,1];(Bt(u.from,a.from)||!s.inclusiveLeft&&jt(u.from,a.from))&&c.push({from:u.from,to:a.from}),(Bt(a.to,u.to)||!s.inclusiveRight&&jt(u.to,a.to))&&c.push({from:a.to,to:u.to}),o.splice.apply(o,c),l+=c.length-1}}return o}function Di(e,t){var i,n=Fo&&e.markedSpans;if(n)for(var o,r=0;r<n.length;++r)o=n[r],o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!i||i.width<o.marker.width)&&(i=o.marker);return i}function Ai(e){return Di(e,-1)}function zi(e){return Di(e,e.text.length+1)}function Pi(e,t){for(var i;i=Ai(t);)t=un(e,i.find().from.line);return t}function Hi(e,t){var i=Fo&&t.markedSpans;if(i)for(var n,o=0;o<i.length;++o)if(n=i[o],n.marker.collapsed){if(null==n.from)return!0;if(0==n.from&&n.marker.inclusiveLeft&&Oi(e,t,n))return!0}}function Oi(e,t,i){if(null==i.to){var n=i.marker.find().to,o=un(e,n.line);return Oi(e,o,Ti(o.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r,s=0;s<t.markedSpans.length;++s)if(r=t.markedSpans[s],r.marker.collapsed&&r.from==i.to&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&Oi(e,t,r))return!0}function Wi(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Fi(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Ii(e){return function(){var t=!this.cm.curOp;t&&Z(this.cm);try{var i=e.apply(this,arguments)}finally{t&&et(this.cm)}return i}}function Ri(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||eo(e.cm.display.measure,Qn("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function ji(e,t,i,n){var o=new tr(e,i,n);return o.noHScroll&&(e.display.alignWidgets=!0),ai(e,t,function(t){if((t.widgets||(t.widgets=[])).push(o),o.line=t,!Hi(e.doc,t)||o.showIfHidden){var i=gn(e,t)<e.display.scroller.scrollTop;dn(t,t.height+Ri(o)),i&&ri(e,0,o.height)}return!0}),o}function Bi(e,t,i){var n={text:e};return Fi(n,t),n.height=i?i(n):1,n}function qi(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Wi(e),Fi(e,i);var o=n?n(e):1;o!=e.height&&dn(e,o)}function Vi(e){e.parent=null,Wi(e)}function Ui(e,t,i,n,o){var r=i.flattenSpans;null==r&&(r=e.options.flattenSpans);var s="",a=null,l=new bi(t,e.options.tabSize);for(""==t&&i.blankLine&&i.blankLine(n);!l.eol();){var u=i.token(l,n);l.pos>5e3&&(r=!1,l.pos=Math.min(t.length,l.start+5e4),u=null);var c=l.current();l.start=l.pos,r&&a==u?s+=c:(s&&o(s,a),s=c,a=u)}s&&o(s,a)}function Xi(e,t,i){var n=[e.state.modeGen];Ui(e,t.text,e.doc.mode,i,function(e,t){n.push(e,t)});for(var o=0;o<e.state.overlays.length;++o){var r=e.state.overlays[o],s=1;Ui(e,t.text,r.mode,!0,function(e,t){for(var i=s,o=e.length;o;){var a=n[s],l=a.length;o>=l?o-=l:(n.splice(s,1,a.slice(0,o),n[s+1],a.slice(o)),o=0),s+=2}if(t)if(r.opaque)n.splice(i,s-i,e,t),s=i+2;else for(;s>i;i+=2){var a=n[i+1];n[i+1]=a?a+" "+t:t}})}return n}function Gi(e,t){return t.styles&&t.styles[0]==e.state.modeGen||(t.styles=Xi(e,t,t.stateAfter=z(e,fn(t)))),t.styles}function Yi(e,t,i){var n=e.doc.mode,o=new bi(t.text,e.options.tabSize);for(""==t.text&&n.blankLine&&n.blankLine(i);!o.eol()&&o.pos<=5e3;)n.token(o,i),o.start=o.pos}function Ji(e){return e?ir[e]||(ir[e]="cm-"+e.replace(/ +/g," cm-")):null}function Ki(e,t,i){for(var n,o,r,s=t,a=!0;n=Ai(s);)a=!1,s=un(e.doc,n.find().from.line),o||(o=s);var l={pre:Qn("pre"),col:0,pos:0,display:!i,measure:null,addedOne:!1,cm:e};s.textClass&&(l.pre.className=s.textClass);do{l.measure=s==t&&i,l.pos=0,l.addToken=l.measure?Zi:Qi,(mo||bo)&&e.getOption("lineWrapping")&&(l.addToken=en(l.addToken)),i&&r&&s!=t&&!l.addedOne&&(i[0]=l.pre.appendChild(oo(e.display.measure)),l.addedOne=!0);var u=nn(s,l,Gi(e,s));r=s==o,u&&(s=un(e.doc,u.to.line),a=!1)}while(u);i&&!l.addedOne&&(i[0]=l.pre.appendChild(a?Qn("span","\xa0"):oo(e.display.measure))),l.pre.firstChild||Hi(e.doc,t)||l.pre.appendChild(document.createTextNode("\xa0"));var c;if(i&&mo&&(c=mn(s))){var h=c.length-1;c[h].from==c[h].to&&--h;var d=c[h],f=c[h-1];if(d.from+1==d.to&&f&&d.level<f.level){var p=i[l.pos-1];p&&p.parentNode.insertBefore(p.measureRight=oo(e.display.measure),p.nextSibling)}}return Hn(e,"renderLine",e,t,l.pre),l.pre}function Qi(e,t,i,n,o){if(t){if(nr.test(t))for(var r=document.createDocumentFragment(),s=0;;){nr.lastIndex=s;var a=nr.exec(t),l=a?a.index-s:t.length-s;if(l&&(r.appendChild(document.createTextNode(t.slice(s,s+l))),e.col+=l),!a)break;if(s+=l+1,"	"==a[0]){var u=e.cm.options.tabSize,c=u-e.col%u;r.appendChild(Qn("span",jn(c),"cm-tab")),e.col+=c}else{var h=Qn("span","\u2022","cm-invalidchar");h.title="\\u"+a[0].charCodeAt(0).toString(16),r.appendChild(h),e.col+=1}}else{e.col+=t.length;var r=document.createTextNode(t)}if(i||n||o||e.measure){var d=i||"";return n&&(d+=n),o&&(d+=o),e.pre.appendChild(Qn("span",[r],d))}e.pre.appendChild(r)}}function Zi(e,t,i,n,o){for(var r=e.cm.options.lineWrapping,s=0;s<t.length;++s){var a=t.charAt(s),l=0==s;a>="\ud800"&&"\udbff">a&&s<t.length-1?(a=t.slice(s,s+2),++s):s&&r&&mr.test(t.slice(s-1,s+1))&&e.pre.appendChild(Qn("wbr"));var u=e.measure[e.pos]=Qi(e,a,i,l&&n,s==t.length-1&&o);mo&&r&&" "==a&&s&&!/\s/.test(t.charAt(s-1))&&s<t.length-1&&!/\s/.test(t.charAt(s+1))&&(u.style.whiteSpace="normal"),e.pos+=a.length}t.length&&(e.addedOne=!0)}function en(e){function t(e){for(var t=" ",i=0;i<e.length-2;++i)t+=i%2?" ":"\xa0";return t+=" "}return function(i,n,o,r,s){return e(i,n.replace(/ {3,}/,t),o,r,s)}}function tn(e,t,i){i&&(e.display||(i=i.cloneNode(!0)),e.pre.appendChild(i),e.measure&&t&&(e.measure[e.pos]=i,e.addedOne=!0)),e.pos+=t}function nn(e,t,i){var n=e.markedSpans;if(n)for(var o,r,s,a,l,u=e.text,c=u.length,h=0,d=1,f="",p=0;;){if(p==h){r=s=a="",l=null,p=1/0;for(var g=null,m=0;m<n.length;++m){var v=n[m],y=v.marker;v.from<=h&&(null==v.to||v.to>h)?(null!=v.to&&p>v.to&&(p=v.to,s=""),y.className&&(r+=" "+y.className),y.startStyle&&v.from==h&&(a+=" "+y.startStyle),y.endStyle&&v.to==p&&(s+=" "+y.endStyle),y.collapsed&&(!l||l.marker.width<y.width)&&(l=v)):v.from>h&&p>v.from&&(p=v.from),"bookmark"==y.type&&v.from==h&&y.replacedWith&&(g=y.replacedWith)}if(l&&(l.from||0)==h&&(tn(t,(null==l.to?c:l.to)-h,null!=l.from&&l.marker.replacedWith),null==l.to))return l.marker.find();g&&!l&&tn(t,0,g)}if(h>=c)break;for(var b=Math.min(c,p);;){if(f){var w=h+f.length;if(!l){var x=w>b?f.slice(0,b-h):f;t.addToken(t,x,o?o+r:r,a,h+x.length==p?s:"")}if(w>=b){f=f.slice(b-h),h=b;break}h=w,a=""}f=i[d++],o=Ji(i[d++])}}else for(var d=1;d<i.length;d+=2)t.addToken(t,i[d],Ji(i[d+1]))}function on(e,t,i,n,o){function r(e){return i?i[e]:null}function s(e,i,n){qi(e,i,n,o),On(e,"change",e,t)}var a=t.from,l=t.to,u=t.text,c=un(e,a.line),h=un(e,l.line),d=Bn(u),f=r(u.length-1),p=l.line-a.line;if(0==a.ch&&0==l.ch&&""==d){for(var g=0,m=u.length-1,v=[];m>g;++g)v.push(Bi(u[g],r(g),o));s(h,h.text,f),p&&e.remove(a.line,p),v.length&&e.insert(a.line,v)}else if(c==h)if(1==u.length)s(c,c.text.slice(0,a.ch)+d+c.text.slice(l.ch),f);else{for(var v=[],g=1,m=u.length-1;m>g;++g)v.push(Bi(u[g],r(g),o));v.push(Bi(d+c.text.slice(l.ch),f,o)),s(c,c.text.slice(0,a.ch)+u[0],r(0)),e.insert(a.line+1,v)}else if(1==u.length)s(c,c.text.slice(0,a.ch)+u[0]+h.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{s(c,c.text.slice(0,a.ch)+u[0],r(0)),s(h,d+h.text.slice(l.ch),f);for(var g=1,m=u.length-1,v=[];m>g;++g)v.push(Bi(u[g],r(g),o));p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,v)}On(e,"change",e,t),Kt(e,n.anchor,n.head,null,!0)}function rn(e){this.lines=e,this.parent=null;for(var t=0,i=e.length,n=0;i>t;++t)e[t].parent=this,n+=e[t].height;this.height=n}function sn(e){this.children=e;for(var t=0,i=0,n=0,o=e.length;o>n;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}function an(e,t,i){function n(e,o,r){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=o){var l=r&&a.sharedHist;(!i||l)&&(t(a.doc,l),n(a.doc,e,l))}}}n(e,null,!0)}function ln(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,r(e),i(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,ot(e)}function un(e,t){for(t-=e.first;!e.lines;)for(var i=0;;++i){var n=e.children[i],o=n.chunkSize();if(o>t){e=n;break}t-=o}return e.lines[t]}function cn(e,t,i){var n=[],o=t.line;return e.iter(t.line,i.line+1,function(e){var r=e.text;o==i.line&&(r=r.slice(0,i.ch)),o==t.line&&(r=r.slice(t.ch)),n.push(r),++o}),n}function hn(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function dn(e,t){for(var i=t-e.height,n=e;n;n=n.parent)n.height+=i}function fn(e){if(null==e.parent)return null;for(var t=e.parent,i=Vn(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function pn(e,t){var i=e.first;e:do{for(var n=0,o=e.children.length;o>n;++n){var r=e.children[n],s=r.height;if(s>t){e=r;continue e}t-=s,i+=r.chunkSize()}return i}while(!e.lines);for(var n=0,o=e.lines.length;o>n;++n){var a=e.lines[n],l=a.height;if(l>t)break;t-=l}return i+n}function gn(e,t){t=Pi(e.doc,t);for(var i=0,n=t.parent,o=0;o<n.lines.length;++o){var r=n.lines[o];if(r==t)break;i+=r.height}for(var s=n.parent;s;n=s,s=n.parent)for(var o=0;o<s.children.length;++o){var a=s.children[o];if(a==n)break;i+=a.height}return i}function mn(e){var t=e.order;return null==t&&(t=e.order=kr(e.text)),t}function vn(){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function yn(e,t,i,n){var o=t["spans_"+e.id],r=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((o||(o=t["spans_"+e.id]={}))[r]=i.markedSpans),++r})}function bn(e,t){var i={from:t.from,to:Et(t),text:cn(e,t.from,t.to)};return yn(e,i,t.from.line,t.to.line+1),an(e,function(e){yn(e,i,t.from.line,t.to.line+1)},!0),i}function wn(e,t,i,n){var o=e.history;o.undone.length=0;var r=+new Date,s=Bn(o.done);if(s&&(o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastTime>r-600||"*"==t.origin.charAt(0)))){var a=Bn(s.changes);jt(t.from,t.to)&&jt(t.from,a.to)?a.to=Et(t):s.changes.push(bn(e,t)),s.anchorAfter=i.anchor,s.headAfter=i.head}else{for(s={changes:[bn(e,t)],anchorBefore:e.sel.anchor,headBefore:e.sel.head,anchorAfter:i.anchor,headAfter:i.head},o.done.push(s);o.done.length>o.undoDepth;)o.done.shift();o.dirtyCounter<0?o.dirtyCounter=0/0:o.dirtyCounter++}o.lastTime=r,o.lastOp=n,o.lastOrigin=t.origin}function xn(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Cn(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=0,o=[];n<t.text.length;++n)o.push(xn(i[n]));return o}function kn(e,t){for(var i=0,n=[];i<e.length;++i){var o=e[i],r=o.changes,s=[];n.push({changes:s,anchorBefore:o.anchorBefore,headBefore:o.headBefore,anchorAfter:o.anchorAfter,headAfter:o.headAfter});for(var a=0;a<r.length;++a){var l,u=r[a];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var c in u)(l=c.match(/^spans_(\d+)$/))&&Vn(t,Number(l[1]))>-1&&(Bn(s)[c]=u[c],delete u[c])}}return n}function Tn(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function $n(e,t,i,n){for(var o=0;o<e.length;++o){for(var r=e[o],s=!0,a=0;a<r.changes.length;++a){var l=r.changes[a];if(r.copied||(l.from=qt(l.from),l.to=qt(l.to)),i<l.from.line)l.from.line+=n,l.to.line+=n;else if(t<=l.to.line){s=!1;break}}r.copied||(r.anchorBefore=qt(r.anchorBefore),r.headBefore=qt(r.headBefore),r.anchorAfter=qt(r.anchorAfter),r.readAfter=qt(r.headAfter),r.copied=!0),s?(Tn(r.anchorBefore),Tn(r.headBefore),Tn(r.anchorAfter),Tn(r.headAfter)):(e.splice(0,o+1),o=0)}}function Sn(e,t){var i=t.from.line,n=t.to.line,o=t.text.length-(n-i)-1;$n(e.done,i,n,o),$n(e.undone,i,n,o)}function Ln(){Nn(this)}function _n(e){return e.stop||(e.stop=Ln),e}function Mn(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function En(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Nn(e){Mn(e),En(e)}function Dn(e){return e.target||e.srcElement}function An(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Eo&&e.ctrlKey&&1==t&&(t=3),t}function zn(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={}),o=n[t]||(n[t]=[]);o.push(i)}}function Pn(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var o=0;o<n.length;++o)if(n[o]==i){n.splice(o,1);break}}}function Hn(e,t){var i=e._handlers&&e._handlers[t];if(i)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)}function On(e,t){function i(e){return function(){e.apply(null,o)}}var n=e._handlers&&e._handlers[t];if(n){var o=Array.prototype.slice.call(arguments,2);lr||(++ur,lr=[],setTimeout(Wn,0));for(var r=0;r<n.length;++r)lr.push(i(n[r]))}}function Wn(){--ur;var e=lr;lr=null;for(var t=0;t<e.length;++t)e[t]()}function Fn(e,t){var i=e._handlers&&e._handlers[t];return i&&i.length>0}function In(){this.id=null}function Rn(e,t,i,n,o){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var r=n||0,s=o||0;t>r;++r)"	"==e.charAt(r)?s+=i-s%i:++s;return s}function jn(e){for(;dr.length<=e;)dr.push(Bn(dr)+" ");return dr[e]}function Bn(e){return e[e.length-1]}function qn(e){_o?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function Vn(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;++i)if(e[i]==t)return i;return-1}function Un(e,t){function i(){}i.prototype=e;var n=new i;return t&&Xn(t,n),n}function Xn(e,t){t||(t={});for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Gn(e){for(var t=[],i=0;e>i;++i)t.push(void 0);return t}function Yn(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Jn(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||fr.test(e))}function Kn(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Qn(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)to(o,t);else if(t)for(var r=0;r<t.length;++r)o.appendChild(t[r]);return o}function Zn(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function eo(e,t){return Zn(e).appendChild(t)}function to(e,t){yo?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function io(e){return e.getBoundingClientRect()}function no(e){if(null!=vr)return vr;var t=Qn("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return eo(e,t),t.offsetWidth&&(vr=t.offsetHeight-t.clientHeight),vr||0}function oo(e){if(null==yr){var t=Qn("span","\u200b");eo(e,Qn("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(yr=t.offsetWidth<=1&&t.offsetHeight>2&&!vo)}return yr?Qn("span","\u200b"):Qn("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function ro(e,t,i,n){if(!e)return n(t,i,"ltr");for(var o=0;o<e.length;++o){var r=e[o];(r.from<i&&r.to>t||t==i&&r.to==t)&&n(Math.max(r.from,t),Math.min(r.to,i),1==r.level?"rtl":"ltr")}}function so(e){return e.level%2?e.to:e.from}function ao(e){return e.level%2?e.from:e.to}function lo(e){var t=mn(e);return t?so(t[0]):0}function uo(e){var t=mn(e);return t?ao(Bn(t)):e.text.length}function co(e,t){var i=un(e.doc,t),n=Pi(e.doc,i);n!=i&&(t=fn(n));var o=mn(n),r=o?o[0].level%2?uo(n):lo(n):0;return Rt(t,r)}function ho(e,t){for(var i,n;i=zi(n=un(e.doc,t));)t=i.find().to.line;var o=mn(n),r=o?o[0].level%2?lo(n):uo(n):n.text.length;return Rt(t,r)}function fo(e,t,i,n){var o=mn(e);if(!o)return po(e,t,i,n);for(var r=n?function(t,i){do t+=i;while(t>0&&pr.test(e.text.charAt(t)));return t}:function(e,t){return e+t},s=o[0].level,a=0;a<o.length;++a){var l=o[a],u=l.level%2==s;if(l.from<t&&l.to>t||u&&(l.from==t||l.to==t))break}for(var c=r(t,l.level%2?-i:i);null!=c;)if(l.level%2==s){if(!(c<l.from||c>l.to))break;l=o[a+=i],c=l&&(i>0==l.level%2?r(l.to,-1):r(l.from,1))}else if(c==so(l))l=o[--a],c=l&&ao(l);else{if(c!=ao(l))break;l=o[++a],c=l&&so(l)}return 0>c||c>e.text.length?null:c}function po(e,t,i,n){var o=t+i;if(n)for(;o>0&&pr.test(e.text.charAt(o));)o+=i;return 0>o||o>e.text.length?null:o}var go=/gecko\/\d/i.test(navigator.userAgent),mo=/MSIE \d/.test(navigator.userAgent),vo=mo&&(null==document.documentMode||document.documentMode<8),yo=mo&&(null==document.documentMode||document.documentMode<9),bo=/WebKit\//.test(navigator.userAgent),wo=bo&&/Qt\/\d+\.\d+/.test(navigator.userAgent),xo=/Chrome\//.test(navigator.userAgent),Co=/Opera\//.test(navigator.userAgent),ko=/Apple Computer/.test(navigator.vendor),To=/KHTML\//.test(navigator.userAgent),$o=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),So=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Lo=/PhantomJS/.test(navigator.userAgent),_o=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Mo=_o||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Eo=_o||/Mac/.test(navigator.platform),No=/windows/i.test(navigator.platform),Do=Co&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Do&&(Do=Number(Do[1]));var Ao,zo,Po,Ho=Eo&&(wo||Co&&(null==Do||12.11>Do)),Oo=go||mo&&!yo,Wo=!1,Fo=!1,Io=0,Ro=0,jo=null;mo?jo=-.53:go?jo=15:xo?jo=-.7:ko&&(jo=-1/3);var Bo,qo,Vo=null;e.Pos=Rt,e.prototype={focus:function(){window.focus(),ut(this),Lt(this),st(this)},setOption:function(e,t){var i=this.options,n=i[e];(i[e]!=t||"mode"==e)&&(i[e]=t,Uo.hasOwnProperty(e)&&tt(this,Uo[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(("string"==typeof e?t[i].name:t[i])==e)return t.splice(i,1),!0},addOverlay:tt(null,function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:i&&i.opaque}),this.state.modeGen++,ot(this)}),removeOverlay:tt(null,function(e){for(var t=this.state.overlays,i=0;i<t.length;++i)if(t[i].modeSpec==e)return t.splice(i,1),this.state.modeGen++,void ot(this)}),indentLine:tt(null,function(e,t,i){"string"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Gt(this.doc,e)&&si(this,e,t,i)}),indentSelection:tt(null,function(e){var t=this.doc.sel;if(jt(t.from,t.to))return si(this,t.from.line,e);for(var i=t.to.line-(t.to.ch?0:1),n=t.from.line;i>=n;++n)si(this,n,e)}),getTokenAt:function(e){var t=this.doc;e=Ut(t,e);for(var i=z(this,e.line),n=this.doc.mode,o=un(t,e.line),r=new bi(o.text,this.options.tabSize);r.pos<e.ch&&!r.eol();){r.start=r.pos;var s=n.token(r,i)}return{start:r.start,end:r.pos,string:r.current(),className:s||null,type:s||null,state:i}},getStateAfter:function(e){var t=this.doc;return e=Vt(t,null==e?t.first+t.size-1:e),z(this,e+1)},cursorCoords:function(e,t){var i,n=this.doc.sel;return i=null==e?n.head:"object"==typeof e?Ut(this.doc,e):e?n.from:n.to,X(this,i,t||"page")},charCoords:function(e,t){return U(this,Ut(this.doc,e),t||"page")},coordsChar:function(e,t){return e=V(this,e,t||"page"),Y(this,e.left,e.top)},defaultTextHeight:function(){return K(this.display)},defaultCharWidth:function(){return Q(this.display)},setGutterMarker:tt(null,function(e,t,i){return ai(this,e,function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&Kn(n)&&(e.gutterMarkers=null),!0})}),clearGutter:tt(null,function(e){var t=this,i=t.doc,n=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&(i.gutterMarkers[e]=null,ot(t,n,n+1),Kn(i.gutterMarkers)&&(i.gutterMarkers=null)),++n})}),addLineClass:tt(null,function(e,t,i){return ai(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[n]){if(new RegExp("\\b"+i+"\\b").test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:tt(null,function(e,t,i){return ai(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",o=e[n];if(!o)return!1;if(null==i)e[n]=null;else{var r=o.replace(new RegExp("^"+i+"\\b\\s*|\\s*\\b"+i+"\\b"),"");if(r==o)return!1;e[n]=r||null}return!0})}),addLineWidget:tt(null,function(e,t,i){return ji(this,e,t,i)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!Gt(this.doc,e))return null;var t=e;if(e=un(this.doc,e),!e)return null}else{var t=fn(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}
},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,i,n,o){var r=this.display;e=X(this,Ut(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",r.sizer.appendChild(t),"over"==n)s=e.top;else if("above"==n||"near"==n){var l=Math.max(r.wrapper.clientHeight,this.doc.height),u=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=s+P(r)+"px",t.style.left=t.style.right="","right"==o?(a=r.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(r.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),i&&ii(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:tt(null,$t),execCommand:function(e){return Zo[e](this)},findPosH:function(e,t,i,n){var o=1;0>t&&(o=-1,t=-t);for(var r=0,s=Ut(this.doc,e);t>r&&(s=li(this.doc,s,o,i,n),!s.hitSide);++r);return s},moveH:tt(null,function(e,t){var i,n=this.doc.sel;i=n.shift||n.extend||jt(n.from,n.to)?li(this.doc,n.head,e,t,this.options.rtlMoveVisually):0>e?n.from:n.to,Yt(this.doc,i,i,e)}),deleteH:tt(null,function(e,t){var i=this.doc.sel;jt(i.from,i.to)?It(this.doc,"",i.from,li(this.doc,i.head,e,t,!1),"+delete"):It(this.doc,"",i.from,i.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(e,t,i,n){var o=1,r=n;0>t&&(o=-1,t=-t);for(var s=0,a=Ut(this.doc,e);t>s;++s){var l=X(this,a,"div");if(null==r?r=l.left:l.left=r,a=ui(this,l,o,i),a.hitSide)break}return a},moveV:tt(null,function(e,t){var i=this.doc.sel,n=X(this,i.head,"div");null!=i.goalColumn&&(n.left=i.goalColumn);var o=ui(this,n,e,t);"page"==t&&ri(this,0,U(this,o,"div").top-n.top),Yt(this.doc,o,o,e),i.goalColumn=n.left}),toggleOverwrite:function(){(this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},hasFocus:function(){return this.state.focused},scrollTo:tt(null,function(e,t){oi(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller,t=cr;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:function(e,t){"number"==typeof e&&(e=Rt(e,0)),e&&null==e.line?ii(this,e.left,e.top-t,e.right,e.bottom+t):(e=e?Ut(this.doc,e):this.doc.sel.head,ti(this,e,t))},setSize:function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.refresh()},on:function(e,t){zn(this,e,t)},off:function(e,t){Pn(this,e,t)},operation:function(e){return nt(this,e)},refresh:tt(null,function(){B(this),oi(this,this.doc.scrollLeft,this.doc.scrollTop),ot(this)}),swapDoc:tt(null,function(e){var t=this.doc;return t.cm=null,ln(this,e),B(this),oi(this,e.scrollLeft,e.scrollTop),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var Uo=e.optionHandlers={},Xo=e.defaults={},Go=e.Init={toString:function(){return"CodeMirror.Init"}};di("value","",function(e,t){e.setValue(t)},!0),di("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),di("indentUnit",2,i,!0),di("indentWithTabs",!1),di("smartIndent",!0),di("tabSize",4,function(e){i(e),B(e),ot(e)},!0),di("electricChars",!0),di("rtlMoveVisually",!No),di("theme","default",function(e){a(e),l(e)},!0),di("keyMap","default",s),di("extraKeys",null),di("onKeyEvent",null),di("onDragEvent",null),di("lineWrapping",!1,n,!0),di("gutters",[],function(e){d(e.options),l(e)},!0),di("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?y(e.display)+"px":"0",e.refresh()},!0),di("lineNumbers",!1,function(e){d(e.options),l(e)},!0),di("firstLineNumber",1,l,!0),di("lineNumberFormatter",function(e){return e},l,!0),di("showCursorWhenSelecting",!1,L,!0),di("readOnly",!1,function(e,t){"nocursor"==t?(_t(e),e.display.input.blur()):t||lt(e,!0)}),di("dragDrop",!0),di("cursorBlinkRate",530),di("cursorHeight",1),di("workTime",100),di("workDelay",100),di("flattenSpans",!0),di("pollInterval",100),di("undoDepth",40,function(e,t){e.doc.history.undoDepth=t}),di("viewportMargin",10,function(e){e.refresh()},!0),di("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),di("autofocus",null);var Yo=e.modes={},Jo=e.mimeModes={};e.defineMode=function(t,i){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){i.dependencies=[];for(var n=2;n<arguments.length;++n)i.dependencies.push(arguments[n])}Yo[t]=i},e.defineMIME=function(e,t){Jo[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Jo.hasOwnProperty(t))t=Jo[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,i){i=e.resolveMode(i);var n=Yo[i.name];if(!n)return e.getMode(t,"text/plain");var o=n(t,i);if(Ko.hasOwnProperty(i.name)){var r=Ko[i.name];for(var s in r)r.hasOwnProperty(s)&&(o.hasOwnProperty(s)&&(o["_"+s]=o[s]),o[s]=r[s])}return o.name=i.name,o},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Ko=e.modeExtensions={};e.extendMode=function(e,t){var i=Ko.hasOwnProperty(e)?Ko[e]:Ko[e]={};Xn(t,i)},e.defineExtension=function(t,i){e.prototype[t]=i},e.defineOption=di;var Qo=[];e.defineInitHook=function(e){Qo.push(e)},e.copyState=fi,e.startState=pi,e.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);t=i.state,e=i.mode}return i||{mode:e,state:t}};var Zo=e.commands={selectAll:function(e){e.setSelection(Rt(e.firstLine(),0),Rt(e.lastLine()))},killLine:function(e){var t=e.getCursor(!0),i=e.getCursor(!1),n=!jt(t,i);n||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,n?i:Rt(t.line),"+delete"):e.replaceRange("",t,Rt(t.line+1,0),"+delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",Rt(t,0),Rt(t),"+delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection(Rt(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Rt(e.lastLine()))},goLineStart:function(e){e.extendSelection(co(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),i=co(e,t.line),n=e.getLineHandle(i.line),o=mn(n);if(o&&0!=o[0].level)e.extendSelection(i);else{var r=Math.max(0,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=r&&t.ch;e.extendSelection(Rt(i.line,s?0:r))}},goLineEnd:function(e){e.extendSelection(ho(e,e.getCursor().line))},goLineRight:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div"))},goLineLeft:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:0,top:t},"div"))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","+input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","+input")},transposeChars:function(e){var t=e.getCursor(),i=e.getLine(t.line);t.ch>0&&t.ch<i.length-1&&e.replaceRange(i.charAt(t.ch)+i.charAt(t.ch-1),Rt(t.line,t.ch-1),Rt(t.line,t.ch+1))},newlineAndIndent:function(e){tt(e,function(){e.replaceSelection("\n","end","+input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},er=e.keyMap={};er.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},er.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},er.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},er["default"]=Eo?er.macDefault:er.pcDefault,er.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.lookupKey=mi,e.isModifierKey=vi,e.keyName=yi,e.fromTextArea=function(t,i){function n(){t.value=u.getValue()}if(i||(i={}),i.value=t.value,!i.tabindex&&t.tabindex&&(i.tabindex=t.tabindex),!i.placeholder&&t.placeholder&&(i.placeholder=t.placeholder),null==i.autofocus){var o=document.body;try{o=document.activeElement}catch(r){}i.autofocus=o==t||null!=t.getAttribute("autofocus")&&o==document.body}if(t.form&&(zn(t.form,"submit",n),!i.leaveSubmitMethodAlone)){var s=t.form,a=s.submit;try{var l=s.submit=function(){n(),s.submit=a,s.submit(),s.submit=l}}catch(r){}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},i);return u.save=n,u.getTextArea=function(){return t},u.toTextArea=function(){n(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(Pn(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=a))},u},bi.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else var i=t&&(e.test?e.test(t):e(t));return i?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Rn(this.string,null,this.tabSize)},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var o=function(e){return i?e.toLowerCase():e},r=this.string.substr(this.pos,e.length);return o(r)==o(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=bi,e.TextMarker=wi,wi.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;t&&Z(e);for(var i=null,n=null,o=0;o<this.lines.length;++o){var r=this.lines[o],s=Ti(r.markedSpans,this);null!=s.to&&(n=fn(r)),r.markedSpans=$i(r.markedSpans,s),null!=s.from?i=fn(r):this.collapsed&&!Hi(this.doc,r)&&e&&dn(r,K(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var a=Pi(e.doc,this.lines[o]),l=c(e.doc,a);l>e.display.maxLineLength&&(e.display.maxLine=a,e.display.maxLineLength=l,e.display.maxLineChanged=!0)}null!=i&&e&&ot(e,i,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Qt(e)),t&&et(e),On(this,"clear")}},wi.prototype.find=function(){for(var e,t,i=0;i<this.lines.length;++i){var n=this.lines[i],o=Ti(n.markedSpans,this);if(null!=o.from||null!=o.to){var r=fn(n);null!=o.from&&(e=Rt(r,o.from)),null!=o.to&&(t=Rt(r,o.to))}}return"bookmark"==this.type?e:e&&{from:e,to:t}},wi.prototype.getOptions=function(e){var t=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,replacedWith:e?t&&t.cloneNode(!0):t,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}},wi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Vn(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wi.prototype.detachLine=function(e){if(this.lines.splice(Vn(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},e.SharedTextMarker=Ci,Ci.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();On(this,"clear")}},Ci.prototype.find=function(){return this.primary.find()},Ci.prototype.getOptions=function(e){var t=this.primary.getOptions(e);return t.shared=!0,t};var tr=e.LineWidget=function(e,t,i){for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.cm=e,this.node=t};tr.prototype.clear=Ii(function(){var e=this.line.widgets,t=fn(this.line);if(null!=t&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(this.line.widgets=null),dn(this.line,Math.max(0,this.line.height-Ri(this))),ot(this.cm,t,t+1)}}),tr.prototype.changed=Ii(function(){var e=this.height;this.height=null;var t=Ri(this)-e;if(t){dn(this.line,this.line.height+t);var i=fn(this.line);ot(this.cm,i,i+1)}});var ir={},nr=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;rn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;n>i;++i){var o=this.lines[i];this.height-=o.height,Vi(o),On(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0,o=t.length;o>n;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;n>e;++e)if(i(this.lines[e]))return!0}},sn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(o>e){var r=Math.min(t,o-e),s=n.height;if(n.removeInner(e,r),this.height-=s-n.height,o==r&&(this.children.splice(i--,1),n.parent=null),0==(t-=r))break;e=0}else e-=o}if(this.size-t<25){var a=[];this.collapse(a),this.children=[new rn(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0,i=this.children.length;i>t;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0,o=this.children.length;o>n;++n){var r=this.children[n],s=r.chunkSize();if(s>=e){if(r.insertInner(e,t,i),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var a=r.lines.splice(r.lines.length-25,25),l=new rn(a);r.height-=l.height,this.children.splice(n+1,0,l),l.parent=this}this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new sn(t);if(e.parent){e.size-=i.size,e.height-=i.height;var n=Vn(e.parent.children,e);e.parent.children.splice(n+1,0,i)}else{var o=new sn(e.children);o.parent=e,e.children=[o,i],e=o}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0,o=this.children.length;o>n;++n){var r=this.children[n],s=r.chunkSize();if(s>e){var a=Math.min(t,s-e);if(r.iterN(e,a,i))return!0;if(0==(t-=a))break;e=0}else e-=s}}};var or=0,rr=e.Doc=function(e,t,i){if(!(this instanceof rr))return new rr(e,t,i);null==i&&(i=0),sn.call(this,[new rn([Bi("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=vn(),this.frontier=i;var n=Rt(i,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++or,this.modeOption=t,"string"==typeof e&&(e=br(e)),on(this,{from:n,to:n,text:e},null,{head:n,anchor:n})};rr.prototype=Un(sn.prototype,{iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0,o=t.length;o>n;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=hn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:function(e){var t=Rt(this.first,0),i=this.first+this.size-1;zt(this,{from:t,to:Rt(i,un(this,i).text.length),text:br(e),origin:"setValue"},{head:t,anchor:t},!0)},replaceRange:function(e,t,i,n){t=Ut(this,t),i=i?Ut(this,i):t,It(this,e,t,i,n)},getRange:function(e,t,i){var n=cn(this,Ut(this,e),Ut(this,t));return i===!1?n:n.join(i||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},setLine:function(e,t){Gt(this,e)&&It(this,t,Rt(e,0),Ut(this,Rt(e)))},removeLine:function(e){Gt(this,e)&&It(this,"",Rt(e,0),Ut(this,Rt(e+1,0)))},getLineHandle:function(e){return Gt(this,e)?un(this,e):void 0},getLineNumber:function(e){return fn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ut(this,e)},getCursor:function(e){var t,i=this.sel;return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||e===!1?i.to:i.from,qt(t)},somethingSelected:function(){return!jt(this.sel.head,this.sel.anchor)},setCursor:it(function(e,t,i){var n=Ut(this,"number"==typeof e?Rt(e,t||0):e);i?Yt(this,n):Kt(this,n,n)}),setSelection:it(function(e,t){Kt(this,Ut(this,e),Ut(this,t||e))}),extendSelection:it(function(e,t){Yt(this,Ut(this,e),t&&Ut(this,t))}),getSelection:function(e){return this.getRange(this.sel.from,this.sel.to,e)},replaceSelection:function(e,t,i){zt(this,{from:this.sel.from,to:this.sel.to,text:br(e),origin:i},t||"around")},undo:it(function(){Ht(this,"undo")}),redo:it(function(){Ht(this,"redo")}),setExtending:function(e){this.sel.extend=e},historySize:function(){var e=this.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.history=vn()},markClean:function(){this.history.dirtyCounter=0,this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return 0==this.history.dirtyCounter},getHistory:function(){return{done:kn(this.history.done),undone:kn(this.history.undone)}},setHistory:function(e){var t=this.history=vn();t.done=e.done.slice(0),t.undone=e.undone.slice(0)},markText:function(e,t,i){return xi(this,Ut(this,e),Ut(this,t),i,"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft};return e=Ut(this,e),xi(this,e,e,i,"bookmark")},findMarksAt:function(e){e=Ut(this,e);var t=[],i=un(this,e.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first;return this.iter(function(n){var o=n.text.length+1;return o>e?(t=e,!0):(e-=o,void++i)}),Ut(this,Rt(i,t))},indexFromPos:function(e){e=Ut(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new rr(hn(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new rr(hn(this,t,i),e.mode||this.modeOption,t);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=this.linked[i];if(n.doc==t){this.linked.splice(i,1),t.unlinkDoc(this);break}}if(t.history==this.history){var o=[t.id];an(t,function(e){o.push(e.id)},!0),t.history=vn(),t.history.done=kn(this.history.done,o),t.history.undone=kn(this.history.undone,o)}},iterLinkedDocs:function(e){an(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),rr.prototype.eachLine=rr.prototype.iter;var sr="iter insert remove copy getEditor".split(" ");for(var ar in rr.prototype)rr.prototype.hasOwnProperty(ar)&&Vn(sr,ar)<0&&(e.prototype[ar]=function(e){return function(){return e.apply(this.doc,arguments)}}(rr.prototype[ar]));e.e_stop=Nn,e.e_preventDefault=Mn,e.e_stopPropagation=En;var lr,ur=0;e.on=zn,e.off=Pn,e.signal=Hn;var cr=30,hr=e.Pass={toString:function(){return"CodeMirror.Pass"}};In.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=Rn;var dr=[""],fr=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,pr=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;e.replaceGetRect=function(e){io=e};var gr=function(){if(yo)return!1;var e=Qn("div");return"draggable"in e||"dragDrop"in e}(),mr=/^$/;go?mr=/$'/:ko&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?mr=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:bo&&(mr=/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.]|\?[\w~`@#$%\^&*(_=+{[|><]/);var vr,yr,br=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;n>=t;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var r=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),s=r.indexOf("\r");-1!=s?(i.push(r.slice(0,s)),t+=s+1):(i.push(r),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=br;var wr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},xr=function(){var e=Qn("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Cr={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};e.keyNames=Cr,function(){for(var e=0;10>e;e++)Cr[e+48]=String(e);for(var e=65;90>=e;e++)Cr[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Cr[e+111]=Cr[e+63235]="F"+e}();var kr=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?i.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,r=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,l="L";return function(t){if(!n.test(t))return!1;for(var i,u=t.length,c=[],h=0;u>h;++h)c.push(i=e(t.charCodeAt(h)));for(var h=0,d=l;u>h;++h){var i=c[h];"m"==i?c[h]=d:d=i}for(var h=0,f=l;u>h;++h){var i=c[h];"1"==i&&"r"==f?c[h]="n":r.test(i)&&(f=i,"r"==i&&(c[h]="R"))}for(var h=1,d=c[0];u-1>h;++h){var i=c[h];"+"==i&&"1"==d&&"1"==c[h+1]?c[h]="1":","!=i||d!=c[h+1]||"1"!=d&&"n"!=d||(c[h]=d),d=i}for(var h=0;u>h;++h){var i=c[h];if(","==i)c[h]="N";else if("%"==i){for(var p=h+1;u>p&&"%"==c[p];++p);for(var g=h&&"!"==c[h-1]||u-1>p&&"1"==c[p]?"1":"N",m=h;p>m;++m)c[m]=g;h=p-1}}for(var h=0,f=l;u>h;++h){var i=c[h];"L"==f&&"1"==i?c[h]="L":r.test(i)&&(f=i)}for(var h=0;u>h;++h)if(o.test(c[h])){for(var p=h+1;u>p&&o.test(c[p]);++p);for(var v="L"==(h?c[h-1]:l),y="L"==(u-1>p?c[p]:l),g=v||y?"L":"R",m=h;p>m;++m)c[m]=g;h=p-1}for(var b,w=[],h=0;u>h;)if(s.test(c[h])){var x=h;for(++h;u>h&&s.test(c[h]);++h);w.push({from:x,to:h,level:0})}else{var C=h,k=w.length;for(++h;u>h&&"L"!=c[h];++h);for(var m=C;h>m;)if(a.test(c[m])){m>C&&w.splice(k,0,{from:C,to:m,level:1});var T=m;for(++m;h>m&&a.test(c[m]);++m);w.splice(k,0,{from:T,to:m,level:2}),C=m}else++m;h>C&&w.splice(k,0,{from:C,to:h,level:1})}return 1==w[0].level&&(b=t.match(/^\s+/))&&(w[0].from=b[0].length,w.unshift({from:0,to:b[0].length,level:0})),1==Bn(w).level&&(b=t.match(/\s+$/))&&(Bn(w).to-=b[0].length,w.push({from:u-b[0].length,to:u,level:0})),w[0].level!=Bn(w).level&&w.push({from:u,to:u,level:w[0].level}),w}}();return e.version="3.11",e}(),function(){function e(e){for(var t={name:"autoCloseBrackets",Backspace:function(t){if(t.somethingSelected())return CodeMirror.Pass;var i=t.getCursor(),n=t.getLine(i.line);return i.ch&&i.ch<n.length&&e.indexOf(n.slice(i.ch-1,i.ch+1))%2==0?void t.replaceRange("",CodeMirror.Pos(i.line,i.ch-1),CodeMirror.Pos(i.line,i.ch+1)):CodeMirror.Pass}},n=[],o=0;o<e.length;o+=2)(function(e,o){function r(t){var i=t.getSelection();t.replaceSelection(e+i+o)}function s(e){var t=e.getCursor(),i=e.getRange(t,CodeMirror.Pos(t.line,t.ch+1));return i!=o||e.somethingSelected()?CodeMirror.Pass:void e.execCommand("goCharRight")}e!=o&&n.push(o),t["'"+e+"'"]=function(t){if(t.somethingSelected())return r(t);if(e!=o||s(t)==CodeMirror.Pass){var a=t.getCursor(),l=CodeMirror.Pos(a.line,a.ch+1),u=t.getLine(a.line),c=u.charAt(a.ch);return u.length==a.ch||n.indexOf(c)>=0||i.test(c)?void t.replaceSelection(e+o,{head:l,anchor:l}):CodeMirror.Pass}},e!=o&&(t["'"+o+"'"]=s)})(e.charAt(o),e.charAt(o+1));return t}var t="()[]{}''\"\"",i=/\s/;CodeMirror.defineOption("autoCloseBrackets",!1,function(i,n,o){var r=o&&o!=CodeMirror.Init;n&&!r?i.addKeyMap(e("string"==typeof n?n:t)):!n&&r&&i.removeKeyMap("autoCloseBrackets")})}(),function(){function e(e,o){var r=e.getCursor(),s=e.getTokenAt(r),a=CodeMirror.innerMode(e.getMode(),s.state),l=a.state;if("xml"!=a.mode.name)return CodeMirror.Pass;var u=e.getOption("autoCloseTags"),c="html"==a.mode.configuration,h="object"==typeof u&&u.dontCloseTags||c&&i,d="object"==typeof u&&u.indentTags||c&&n;if(">"==o&&l.tagName){var f=l.tagName;s.end>r.ch&&(f=f.slice(0,f.length-s.end+r.ch));var p=f.toLowerCase();if("tag"==s.type&&"closeTag"==l.type||s.string.indexOf("/")>-1||h&&t(h,p)>-1)return CodeMirror.Pass;var g=d&&t(d,p)>-1,m=g?CodeMirror.Pos(r.line+1,0):CodeMirror.Pos(r.line,r.ch+1);return e.replaceSelection(">"+(g?"\n\n":"")+"</"+f+">",{head:m,anchor:m}),void(g&&(e.indentLine(r.line+1),e.indentLine(r.line+2)))}if("/"==o&&"<"==s.string){var f=l.context&&l.context.tagName;return void(f&&e.replaceSelection("/"+f+">","end"))}return CodeMirror.Pass}function t(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;++i)if(e[i]==t)return i;return-1}CodeMirror.defineOption("autoCloseTags",!1,function(t,i,n){if(!i||n!=CodeMirror.Init&&n)!i&&n!=CodeMirror.Init&&n&&t.removeKeyMap("autoCloseTags");else{var o={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(o["'/'"]=function(t){return e(t,"/")}),("object"!=typeof i||i.whenOpening)&&(o["'>'"]=function(t){return e(t,">")}),t.addKeyMap(o)}});var i=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"]}(),function(){function e(e){var t,i=e.getCursor(),n=e.getTokenAt(i),o=CodeMirror.innerMode(e.getMode(),n.state).mode;if("comment"==n.type&&o.blockCommentStart){var r,s=n.string.indexOf(o.blockCommentEnd),a=e.getRange(CodeMirror.Pos(i.line,0),CodeMirror.Pos(i.line,n.end));if(-1!=s&&s==n.string.length-o.blockCommentEnd.length);else if(0==n.string.indexOf(o.blockCommentStart)){if(t=a.slice(0,n.start),!/^\s*$/.test(t)){t="";for(var l=0;l<n.start;++l)t+=" "}}else-1!=(r=a.indexOf(o.blockCommentContinue))&&r+o.blockCommentContinue.length>n.start&&/^\s*$/.test(a.slice(0,r))&&(t=a.slice(0,r))}return null==t?CodeMirror.Pass:void e.replaceSelection("\n"+t+o.blockCommentContinue,"end")}for(var t=["clike","css","javascript"],i=0;i<t.length;++i)CodeMirror.extendMode(t[i],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,function(t,i,n){n&&n!=CodeMirror.Init&&t.removeKeyMap("continueComment");var o={name:"continueComment"};o["string"==typeof i?i:"Enter"]=e,t.addKeyMap(o)})}(),function(){"use strict";var e=/^(\s*)([*+-]|(\d+)\.)(\s*)/,t="*+-";CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(i){var n,o=i.getCursor(),r=i.getStateAfter(o.line).list;if(!r||!(n=i.getLine(o.line).match(e)))return void i.execCommand("newlineAndIndent");var s=n[1],a=n[4],l=t.indexOf(n[2])>=0?n[2]:parseInt(n[3],10)+1+".";i.replaceSelection("\n"+s+l+a,"end")}}(),function(){function e(e){function t(t,i,n){if(t.text){var r=u?0:t.text.length-1,a=u?t.text.length:-1;for(null!=n&&(r=n+c);r!=a;r+=c){var l=t.text.charAt(r);if(f.test(l)&&e.getTokenAt(o(i,r+1)).type==h){var p=s[l];if(">"==p.charAt(1)==u)d.push(l);else{if(d.pop()!=p.charAt(0))return{pos:r,match:!1};if(!d.length)return{pos:r,match:!0}}}}}}var i=e.getCursor(),n=e.getLineHandle(i.line),r=i.ch-1,a=r>=0&&s[n.text.charAt(r)]||s[n.text.charAt(++r)];if(!a)return null;for(var l,u=">"==a.charAt(1),c=u?1:-1,h=e.getTokenAt(o(i.line,r+1)).type,d=[n.text.charAt(r)],f=/[(){}[\]]/,p=i.line,g=u?Math.min(p+100,e.lineCount()):Math.max(-1,p-100);p!=g&&!(l=p==i.line?t(n,p,r):t(e.getLineHandle(p),p));p+=c);return{from:o(i.line,r),to:l&&o(p,l.pos),match:l&&l.match}}function t(t,i){var s=e(t);if(!(!s||t.getLine(s.from.line).length>r||s.to&&t.getLine(s.to.line).length>r)){var a=s.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",l=t.markText(s.from,o(s.from.line,s.from.ch+1),{className:a}),u=s.to&&t.markText(s.to,o(s.to.line,s.to.ch+1),{className:a});n&&t.state.focused&&t.display.input.focus();var c=function(){t.operation(function(){l.clear(),u&&u.clear()})};return i?void setTimeout(c,800):c}}function i(e){e.operation(function(){a&&(a(),a=null),e.somethingSelected()||(a=t(e,!1))})}var n=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=CodeMirror.Pos,r=1e3,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},a=null;
CodeMirror.defineOption("matchBrackets",!1,function(e,t){t?e.on("cursorActivity",i):e.off("cursorActivity",i)}),CodeMirror.defineExtension("matchBrackets",function(){t(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(){return e(this)})}(),CodeMirror.braceRangeFinder=function(e,t){for(var i,n,o=t.line,r=e.getLine(o),s=r.length;;){var a=r.lastIndexOf("{",s);if(a<t.ch)break;if(n=e.getTokenAt(CodeMirror.Pos(o,a+1)).type,!/^(comment|string)/.test(n)){i=a;break}s=a-1}if(!(null==i||r.lastIndexOf("}")>i)){var l,u,c=1,h=e.lineCount();e:for(var d=o+1;h>d;++d)for(var f=e.getLine(d),p=0;;){var g=f.indexOf("{",p),m=f.indexOf("}",p);if(0>g&&(g=f.length),0>m&&(m=f.length),p=Math.min(g,m),p==f.length)break;if(e.getTokenAt(CodeMirror.Pos(d,p+1)).type==n)if(p==g)++c;else if(!--c){l=d,u=p;break e}++p}if(null!=l&&l!=o+1)return{from:CodeMirror.Pos(o,i+1),to:CodeMirror.Pos(l,u)}}},function(){function e(e){e.on("gutterClick",i),e.setOption("gutters",(e.getOption("gutters")||[]).concat([o]))}function t(e){e.rangeCollapseStart=null,e.off("gutterClick",i);for(var t=e.getOption("gutters"),n=0;n<t.length&&t[n]!=o;++n);e.setOption("gutters",t.slice(0,n).concat(t.slice(n+1)))}function i(e,t,i){if(i==o){var r=e.rangeCollapseStart;if(r){var s=e.getLineNumber(r);e.setGutterMarker(r,o,null),e.rangeCollapseStart=null;var a=Math.min(s,t),l=Math.max(s,t);if(a!=l){var u=e.markText(CodeMirror.Pos(a+1,0),{line:l-1},{collapsed:!0,inclusiveLeft:!0,inclusiveRight:!0,clearOnEnter:!0}),c=function(){e.setGutterMarker(h,o,null),e.setGutterMarker(d,o,null),u.clear()},h=e.setGutterMarker(a,o,n(!0,!0,c)),d=e.setGutterMarker(l,o,n(!1,!0,c));return void CodeMirror.on(u,"clear",c)}}e.rangeCollapseStart=e.setGutterMarker(t,o,n(!0,!1))}}function n(e,t,i){var n=document.createElement("div");return n.innerHTML=e?"\u25bc":"\u25b2",t||(n.style.color="red"),n.style.fontSize="85%",n.style.cursor="pointer",i&&CodeMirror.on(n,"mousedown",i),n}CodeMirror.defineOption("collapseRange",!1,function(i,n,o){var r=o&&o!=CodeMirror.Init;n&&!r?e(i):!n&&r&&t(i)});var o="CodeMirror-collapserange"}(),CodeMirror.newFoldFunction=function(e,t){if(null==t&&(t="\u2194"),"string"==typeof t){var i=document.createTextNode(t);t=document.createElement("span"),t.appendChild(i),t.className="CodeMirror-foldmarker"}return function(i,n){"number"==typeof n&&(n=CodeMirror.Pos(n,0));var o=e(i,n);if(o){for(var r=i.findMarksAt(o.from),s=0,a=0;a<r.length;++a)r[a].__isFold&&(++s,r[a].clear());if(!s){var l=t.cloneNode(!0);CodeMirror.on(l,"mousedown",function(){u.clear()});var u=i.markText(o.from,o.to,{replacedWith:l,clearOnEnter:!0,__isFold:!0})}}}},CodeMirror.indentRangeFinder=function(e,t){for(var i=e.getOption("tabSize"),n=e.getLine(t.line),o=CodeMirror.countColumn(n,null,i),r=t.line+1,s=e.lineCount();s>r;++r){var a=e.getLine(r);if(CodeMirror.countColumn(a,null,i)<o&&CodeMirror.countColumn(e.getLine(r-1),null,i)>o)return{from:CodeMirror.Pos(t.line,n.length),to:CodeMirror.Pos(r,a.length)}}},CodeMirror.tagRangeFinder=function(){var e="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=e+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",i=new RegExp("<(/?)(["+e+"]["+t+"]*)","g");return function(e,t){function n(){return a>=e.lastLine()?void 0:(l=0,u=e.getLine(++a),!0)}function o(){for(;;){var e=u.indexOf(">",l);if(-1==e){if(n())continue;return}var t=u.lastIndexOf("/",e),i=t>-1&&/^\s*$/.test(u.slice(t+1,e));return l=e+1,i?"selfClose":"regular"}}function r(){for(;;){i.lastIndex=l;var e=i.exec(u);if(!e){if(n())continue;return}return l=e.index+e[0].length,e}}for(var s,a=t.line,l=t.ch,u=e.getLine(a),c=[];;){var h,d=r();if(!d||a!=t.line||!(h=o()))return;if(!d[1]&&"selfClose"!=h){c.push(d[2]),s=l;break}}for(;;){var h,f=r(),p=a,g=l-(f?f[0].length:0);if(!f||!(h=o()))return;if("selfClose"!=h)if(f[1]){for(var m=c.length-1;m>=0;--m)if(c[m]==f[2]){c.length=m;break}if(!c.length)return{from:CodeMirror.Pos(t.line,s),to:CodeMirror.Pos(p,g)}}else c.push(f[2])}}}(),function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,i,n){return this.jsonMode?/^[\[,{]$/.test(t)||/^}/.test(i):";"==t&&n.lexical&&")"==n.lexical.type?!1:/^[;{}]$/.test(t)&&!/^;/.test(i)}});var e=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;CodeMirror.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(t,i,n,o){var r=!1;return"html"==this.configuration&&(r=o.context?e.test(o.context.tagName):!1),!r&&("tag"==t&&/>$/.test(i)&&o.context||/^</.test(n))}}),CodeMirror.defineExtension("commentRange",function(e,t,i){var n=this,o=CodeMirror.innerMode(n.getMode(),n.getTokenAt(t).state).mode;n.operation(function(){if(e)n.replaceRange(o.commentEnd,i),n.replaceRange(o.commentStart,t),t.line==i.line&&t.ch==i.ch&&n.setCursor(t.line,t.ch+o.commentStart.length);else{var r=n.getRange(t,i),s=r.indexOf(o.commentStart),a=r.lastIndexOf(o.commentEnd);s>-1&&a>-1&&a>s&&(r=r.substr(0,s)+r.substring(s+o.commentStart.length,a)+r.substr(a+o.commentEnd.length)),n.replaceRange(r,t,i)}})}),CodeMirror.defineExtension("autoIndentRange",function(e,t){var i=this;this.operation(function(){for(var n=e.line;n<=t.line;n++)i.indentLine(n,"smart")})}),CodeMirror.defineExtension("autoFormatRange",function(e,t){function i(){l+="\n",c=!0,++u}for(var n=this,o=n.getMode(),r=n.getRange(e,t).split("\n"),s=CodeMirror.copyState(o,n.getTokenAt(e).state),a=n.getOption("tabSize"),l="",u=0,c=0==e.ch,h=0;h<r.length;++h){for(var d=new CodeMirror.StringStream(r[h],a);!d.eol();){var f=CodeMirror.innerMode(o,s),p=o.token(d,s),g=d.current();d.start=d.pos,(!c||/\S/.test(g))&&(l+=g,c=!1),!c&&f.mode.newlineAfterToken&&f.mode.newlineAfterToken(p,g,d.string.slice(d.pos)||r[h+1]||"",f.state)&&i()}!d.pos&&o.blankLine&&o.blankLine(s),!c&&h<r.length-1&&i()}n.operation(function(){n.replaceRange(l,e,t);for(var i=e.line+1,o=e.line+u;o>=i;++i)n.indentLine(i,"smart");n.setSelection(e,n.getCursor(!1))})})}(),function(){function e(e){this.minChars="object"==typeof e&&e.minChars||n,this.style="object"==typeof e&&e.style||o,this.overlay=null}function t(e){e.operation(function(){var t=e._matchHighlightState;if(t.overlay&&(e.removeOverlay(t.overlay),t.overlay=null),e.somethingSelected()){var n=e.getSelection().replace(/^\s+|\s+$/g,"");n.length<t.minChars||e.addOverlay(t.overlay=i(n,t.style))}})}function i(e,t){return{token:function(i){return i.match(e)?t:(i.next(),void(i.skipTo(e.charAt(0))||i.skipToEnd()))}}}var n=2,o="matchhighlight";CodeMirror.defineOption("highlightSelectionMatches",!1,function(i,n,o){var r=o&&o!=CodeMirror.Init;if(n&&!r)i._matchHighlightState=new e(n),i.on("cursorActivity",t);else if(!n&&r){var s=i._matchHighlightState.overlay;s&&i.removeOverlay(s),i._matchHighlightState=null,i.off("cursorActivity",t)}})}(),function(){function e(e){return"string"==typeof e?{token:function(t){return t.match(e)?"searching":(t.next(),void(t.skipTo(e.charAt(0))||t.skipToEnd()))}}:{token:function(t){if(t.match(e))return"searching";for(;!t.eol()&&(t.next(),!t.match(e,!1)););}}}function t(){this.posFrom=this.posTo=this.query=null,this.overlay=null}function i(e){return e._searchState||(e._searchState=new t)}function n(e,t,i){return e.getSearchCursor(t,i,"string"==typeof t&&t==t.toLowerCase())}function o(e,t,i,n){e.openDialog?e.openDialog(t,n):n(prompt(i,""))}function r(e,t,i,n){e.openConfirm?e.openConfirm(t,n):confirm(i)&&n[0]()}function s(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);return t?new RegExp(t[1],-1==t[2].indexOf("i")?"":"i"):e}function a(t,n){var r=i(t);return r.query?l(t,n):void o(t,h,"Search for:",function(i){t.operation(function(){i&&!r.query&&(r.query=s(i),t.removeOverlay(r.overlay),r.overlay=e(i),t.addOverlay(r.overlay),r.posFrom=r.posTo=t.getCursor(),l(t,n))})})}function l(e,t){e.operation(function(){var o=i(e),r=n(e,o.query,t?o.posFrom:o.posTo);(r.find(t)||(r=n(e,o.query,t?CodeMirror.Pos(e.lastLine()):CodeMirror.Pos(e.firstLine(),0)),r.find(t)))&&(e.setSelection(r.from(),r.to()),o.posFrom=r.from(),o.posTo=r.to())})}function u(e){e.operation(function(){var t=i(e);t.query&&(t.query=null,e.removeOverlay(t.overlay))})}function c(e,t){o(e,d,"Replace:",function(i){i&&(i=s(i),o(e,f,"Replace with:",function(o){if(t)e.operation(function(){for(var t=n(e,i);t.findNext();)if("string"!=typeof i){var r=e.getRange(t.from(),t.to()).match(i);t.replace(o.replace(/\$(\d)/,function(e,t){return r[t]}))}else t.replace(o)});else{u(e);var s=n(e,i,e.getCursor()),a=function(){var t,o=s.from();!(t=s.findNext())&&(s=n(e,i),!(t=s.findNext())||o&&s.from().line==o.line&&s.from().ch==o.ch)||(e.setSelection(s.from(),s.to()),r(e,p,"Replace?",[function(){l(t)},a]))},l=function(e){s.replace("string"==typeof i?o:o.replace(/\$(\d)/,function(t,i){return e[i]})),a()};a()}}))})}var h='Search: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',d='Replace: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',f='With: <input type="text" style="width: 10em"/>',p="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(e){u(e),a(e)},CodeMirror.commands.findNext=a,CodeMirror.commands.findPrev=function(e){a(e,!0)},CodeMirror.commands.clearSearch=u,CodeMirror.commands.replace=c,CodeMirror.commands.replaceAll=function(e){c(e,!0)}}(),function(){function e(e,i,n,o){if(this.atOccurrence=!1,this.cm=e,null==o&&"string"==typeof i&&(o=!1),n=n?e.clipPos(n):t(0,0),this.pos={from:n,to:n},"string"!=typeof i)i.global||(i=new RegExp(i.source,i.ignoreCase?"ig":"g")),this.matches=function(n,o){if(n){i.lastIndex=0;for(var r,s,a=e.getLine(o.line).slice(0,o.ch),l=0;;){i.lastIndex=l;var u=i.exec(a);if(!u)break;r=u,s=r.index,l=r.index+1}}else{i.lastIndex=o.ch;var a=e.getLine(o.line),r=i.exec(a),s=r&&r.index}return r&&r[0]?{from:t(o.line,s),to:t(o.line,s+r[0].length),match:r}:void 0};else{o&&(i=i.toLowerCase());var r=o?function(e){return e.toLowerCase()}:function(e){return e},s=i.split("\n");this.matches=1==s.length?i.length?function(n,o){var s,a=r(e.getLine(o.line)),l=i.length;return(n?o.ch>=l&&-1!=(s=a.lastIndexOf(i,o.ch-l)):-1!=(s=a.indexOf(i,o.ch)))?{from:t(o.line,s),to:t(o.line,s+l)}:void 0}:function(){}:function(i,n){var o=n.line,a=i?s.length-1:0,l=s[a],u=r(e.getLine(o)),c=i?u.indexOf(l)+l.length:u.lastIndexOf(l);if(!(i?c>=n.ch||c!=l.length:c<=n.ch||c!=u.length-l.length))for(;;){if(i?!o:o==e.lineCount()-1)return;if(u=r(e.getLine(o+=i?-1:1)),l=s[i?--a:++a],!(a>0&&a<s.length-1)){var h=i?u.lastIndexOf(l):u.indexOf(l)+l.length;if(i?h!=u.length-l.length:h!=l.length)return;var d=t(n.line,c),f=t(o,h);return{from:i?f:d,to:i?d:f}}if(u!=l)return}}}}var t=CodeMirror.Pos;e.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function i(e){var i=t(e,0);return n.pos={from:i,to:i},n.atOccurrence=!1,!1}for(var n=this,o=this.cm.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,o))return this.pos.from&&this.pos.to||console.log(this.matches,this.pos),this.atOccurrence=!0,this.pos.match||!0;if(e){if(!o.line)return i(0);o=t(o.line-1,this.cm.getLine(o.line-1).length)}else{var r=this.cm.lineCount();if(o.line==r-1)return i(r);o=t(o.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(e){if(this.atOccurrence){var i=CodeMirror.splitLines(e);this.cm.replaceRange(i,this.pos.from,this.pos.to),this.pos.to=t(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},CodeMirror.defineExtension("getSearchCursor",function(t,i,n){return new e(this,t,i,n)})}(),function(){"use strict";function e(e){"_activeLine"in e&&(e.removeLineClass(e._activeLine,"wrap",i),e.removeLineClass(e._activeLine,"background",n))}function t(t){var o=t.getLineHandle(t.getCursor().line);t._activeLine!=o&&(e(t),t.addLineClass(o,"wrap",i),t.addLineClass(o,"background",n),t._activeLine=o)}var i="CodeMirror-activeline",n="CodeMirror-activeline-background";CodeMirror.defineOption("styleActiveLine",!1,function(i,n,o){var r=o&&o!=CodeMirror.Init;n&&!r?(t(i),i.on("cursorActivity",t)):!n&&r&&(i.off("cursorActivity",t),e(i),delete i._activeLine)})}(),function(){"use strict";function e(e){e._selectionMark&&e._selectionMark.clear()}function t(t){e(t),t._selectionMark=t.somethingSelected()?t.markText(t.getCursor("start"),t.getCursor("end"),{className:"CodeMirror-selectedtext"}):null}CodeMirror.defineOption("styleSelectedText",!1,function(i,n,o){var r=o&&o!=CodeMirror.Init;n&&!r?(t(i),i.on("cursorActivity",t)):!n&&r&&(i.off("cursorActivity",t),e(i),delete i._selectionMark)})}(),CodeMirror.defineMode("xml",function(e,t){function i(e,t){function i(i){return t.tokenize=i,i(e,t)}var o=e.next();if("<"==o){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?i(r("atom","]]>")):null:e.match("--")?i(r("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(s(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=r("meta","?>"),"meta";var a=e.eat("/");b="";for(var l;l=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)b+=l;return b?(w=a?"closeTag":"openTag",t.tokenize=n,"tag"):"error"}if("&"==o){var u;return u=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),u?"atom":"error"}return e.eatWhile(/[^&<]/),null}function n(e,t){var n=e.next();return">"==n||"/"==n&&e.eat(">")?(t.tokenize=i,w=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(w="equals",null):/[\'\"]/.test(n)?(t.tokenize=o(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function o(e){return function(t,i){for(;!t.eol();)if(t.next()==e){i.tokenize=n;break}return"string"}}function r(e,t){return function(n,o){for(;!n.eol();){if(n.match(t)){o.tokenize=i;break}n.next()}return e}}function s(e){return function(t,n){for(var o;null!=(o=t.next());){if("<"==o)return n.tokenize=s(e+1),n.tokenize(t,n);if(">"==o){if(1==e){n.tokenize=i;break}return n.tokenize=s(e-1),n.tokenize(t,n)}}return"meta"}}function a(){for(var e=arguments.length-1;e>=0;e--)x.cc.push(arguments[e])}function l(){return a.apply(null,arguments),!0}function u(e,t){var i=S.doNotIndent.hasOwnProperty(e)||x.context&&x.context.noIndent;x.context={prev:x.context,tagName:e,indent:x.indented,startOfLine:t,noIndent:i}}function c(){x.context&&(x.context=x.context.prev)}function h(e){if("openTag"==e)return x.tagName=b,x.tagStart=C.column(),l(g,d(x.startOfLine));if("closeTag"==e){var t=!1;return x.context?x.context.tagName!=b&&(S.implicitlyClosed.hasOwnProperty(x.context.tagName.toLowerCase())&&c(),t=!x.context||x.context.tagName!=b):t=!0,t&&(k="error"),l(f(t))}return l()}function d(e){return function(t){var i=x.tagName;return x.tagName=x.tagStart=null,"selfcloseTag"==t||"endTag"==t&&S.autoSelfClosers.hasOwnProperty(i.toLowerCase())?(p(i.toLowerCase()),l()):"endTag"==t?(p(i.toLowerCase()),u(i,e),l()):l()}}function f(e){return function(t){return e&&(k="error"),"endTag"==t?(c(),l()):(k="error",l(arguments.callee))}}function p(e){for(var t;;){if(!x.context)return;if(t=x.context.tagName.toLowerCase(),!S.contextGrabbers.hasOwnProperty(t)||!S.contextGrabbers[t].hasOwnProperty(e))return;c()}}function g(e){return"word"==e?(k="attribute",l(m,g)):"endTag"==e||"selfcloseTag"==e?a():(k="error",l(g))}function m(e){return"equals"==e?l(v,g):(S.allowMissing?"word"==e&&(k="attribute"):k="error","endTag"==e||"selfcloseTag"==e?a():l())}function v(e){return"string"==e?l(y):"word"==e&&S.allowUnquoted?(k="string",l()):(k="error","endTag"==e||"selfCloseTag"==e?a():l())}function y(e){return"string"==e?l(y):a()}var b,w,x,C,k,T=e.indentUnit,$=t.multilineTagIndentFactor||1,S=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},L=t.alignCDATA;return{startState:function(){return{tokenize:i,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;k=w=b=null;var i=t.tokenize(e,t);if(t.type=w,(i||w)&&"comment"!=i)for(x=t,C=e;;){var n=t.cc.pop()||h;if(n(w||i))break}return t.startOfLine=!1,k||i},indent:function(e,t,o){var r=e.context;if(e.tokenize!=n&&e.tokenize!=i||r&&r.noIndent)return o?o.match(/^(\s*)/)[0].length:0;if(e.tagName)return e.tagStart+T*$;if(L&&/<!\[CDATA\[/.test(t))return 0;for(r&&/^<\//.test(t)&&(r=r.prev);r&&!r.startOfLine;)r=r.prev;return r?r.indent+T:0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),window.Juxta||(window.Juxta={}),window.Juxta.VisualizationCtl||(window.Juxta.VisualizationCtl={}),$(function(){var e=function(){$("#heatmap-button").addClass("pressed"),$("#sbs-button").removeClass("pressed"),$("#export-ps-button").removeClass("pressed"),$("#vm-button").removeClass("pressed");var e=$("#curr-base-witness-id").text(),t=$("#ajax-base-url").text(),i=$("#active-set-id").text();if(isSideBySide()){var n=getSideBySideScrollPercent();window.parent.showWaitPopup(!0,"Visualizing"),window.location=e.length>0?t+i+"/heatmap?base="+e+"&top="+n:t+i+"/heatmap?top="+n}else window.parent.showWaitPopup(!0,"Visualizing"),window.location=e.length>0?t+i+"/heatmap?base="+e:t+i+"/heatmap"},t=function(){$("#heatmap-button").removeClass("pressed"),$("#sbs-button").removeClass("pressed"),$("#export-ps-button").removeClass("pressed"),$("#vm-button").addClass("pressed");var e=$("#curr-base-witness-id").text(),t=$("#active-set-id").text(),i=$("#ajax-base-url").text();showWaitPopup(!0),window.location=i+t+"/vm?base="+e},i=function(){$("#sbs-button").removeClass("pressed"),$("#heatmap-button").removeClass("pressed"),$("#export-ps-button").addClass("pressed"),$("#vm-button").removeClass("pressed");var e=$("#curr-base-witness-id").text(),t=$("#ajax-base-url").text(),i=$("#active-set-id").text();window.parent.showWaitPopup(!0),$.ajax({url:"/sets/"+i+"/collator",type:"GET",async:!1,success:function(n){if(n.filterPunctuation===!0||n.filterCase===!0||"INCLUDE_ALL"!==n.hyphenationFilter){var o="The collation settings for this comparison set are incompatible with TEI parallel segmentation.";o+=" This may cause unexpected and inaccurate output.<br/><br/>For best results, click the settings icon ",o+="<img src='/assets/settings2.png' style='vertical-align:middle'/>",o+=" and ensure that punctuation and capitalization are not ignored, and that all hyphens are included.",o+="<br/><br/>Continue with export?",window.parent.showYesNoPopup("Warning",o,function(){window.location=t+i+"/export?base="+e})}else window.location=t+i+"/export?base="+e},error:function(){window.location=t+i+"/export?base="+e}})},n=function(){$("#sbs-button").addClass("pressed"),$("#heatmap-button").removeClass("pressed"),$("#export-ps-button").removeClass("pressed"),$("#vm-button").removeClass("pressed");var e=$("#active-set-id").text(),t=$("#ajax-base-url").text(),i=$("#curr-base-witness-id").text(),n="docs="+i+",",o=i;if(isHeatmap()){$(".witness").each(function(e,t){var n=$(t).attr("id").substring(8);return i!==n?(o=n,!1):void 0}),n+=o;var r=getHeatmapScrollPercent();window.parent.showWaitPopup(!0,"Visualizing"),window.location=t+e+"/sidebyside?"+n+"&top="+r}else n+="*",window.parent.showWaitPopup(!0,"Visualizing"),window.location=t+e+"/sidebyside?"+n};window.Juxta.VisualizationCtl.setNewBaseWitness=function(e){window.parent.showWaitPopup(!0,"Visualizing");var t=$(e).attr("id").substring("witness-".length);if($(e).hasClass("hidden-witness"))Juxta.Heatmap.toggleVisibility($("#toggle-"+t));else{var i=$("#active-set-id").text(),n=$("#ajax-base-url").text()+i+"/heatmap?base="+t+"&top="+getHeatmapScrollPercent();window.location=n}},window.Juxta.VisualizationCtl.changeSideBySideWitness=function(){var e="";$(".witness-option").each(function(){$(this).hasClass("sbs-wit-selected")&&(e=$(this).attr("id").substring("sel-sbs-wit-".length))}),$(".witnesses-popup").css("visibility","hidden");var t="",i="";"left"===$("#side").text()?(t=e,i=$("#right-witness-id").text()):(t=$("#left-witness-id").text(),i=e);var n=document.URL,o=$("#right-witness-text").scrollTop();Juxta.SideBySide.isLocked()===!1&&(o=$("#left-witness-text").scrollTop());var r=n.indexOf("&top=");if(r>-1){var s=n.indexOf("&",r+1);n=-1===s?n.substring(0,r)+"&top="+o:n.substring(0,r)+"&top="+o+n.substring(s)}else n=n+"&top="+o;var a=n.indexOf("?docs"),l=n.indexOf("&",a+1);n=-1===l?n.substring(0,a)+"?docs="+t+","+i:n.substring(0,a)+"?docs="+t+","+i+n.substring(l),window.location=n};var o=function(){var e="position: absolute;left: 3px;color: #999;margin-top: 1px;font-size: 0.85em;",t=CodeMirror.newFoldFunction(CodeMirror.tagRangeFinder,"<div style='"+e+"'>&#x25bc;</div>%N%"),i=CodeMirror.fromTextArea($("#export-editor")[0],{theme:"eclipse",mode:"xml",lineNumbers:!0,indentUnit:3,smartIndent:!0,lineWrapping:!0,tabSize:3,readOnly:!0,onGutterClick:function(e,i){t(e,i)}});$("#export-editor").data("codeMirror",i);var n=$(window).height();$(".CodeMirror").css("border","1px solid #A8A8A8"),$("#page_scroller").css("overflow-y","hidden");var o=n-$("#main-title-bar").outerHeight()-34;$(".CodeMirror").height(o),$(".CodeMirror-scroll").height(o),$("#export-download").on("click",function(){var e=$("#curr-base-witness-id").text(),t=$("#active-set-id").text();window.parent.downloadItem("sets",t+"/export?base="+e)})},r=function(e,t){var i="/sets/"+$("#active-set-id").text()+"/edition?token="+e+"&format="+t+"&title="+$("#edition-title").val(),n=(new Date).getTime();window.location=i+"&cookie_token="+n,window.parent.waitForCookie("editionDownloadToken",n)};return window.Juxta.VisualizationCtl.initialize=function(){if($("#edition-builder-dialog").dialog({autoOpen:!1,width:500,resizable:!1,modal:!0,buttons:{Cancel:function(){$(this).dialog("close")},"Create Edition":function(){showWaitPopup(!0);var e=$("input[name='edition-format']:checked").val(),t={};t.title=$("#edition-title").val(),t.lineFrequency=$("#edition-numbering").val(),t.numberBlankLines=$(".number-blanks").is(":checked"),t.witnesses=[];var i=null;$(".eb-witness").each(function(){i={},i.name=$(this).find(".eb-witness-title").text(),i.base=$(this).find(".edition-radio-btn").is(":checked"),i.include=$(this).find(".edition-check-box").is(":checked"),i.siglum=$(this).find(".siglum").val(),i.id=$(this).attr("id").substring("eb-witness-".length),t.witnesses.push(i)}),$.ajax({url:"/sets/"+$("#active-set-id").text()+"/edition",type:"POST",data:t,success:function(t){awaitTask(t.taskId,function(){r(t.token,e)},function(e){window.parent.showMessagePopup("Edition Builder Failed",e),hideWaitPopup()},!1)}}),$(this).dialog("close")}}}),"error"===$("#visualization-type").text())return $("#export-ps-button").addClass("view-icon-disabled"),$("#heatmap-button").addClass("view-icon-disabled"),$("#sbs-button").addClass("view-icon-disabled"),$("#histogram-button").addClass("view-icon-disabled"),$("#edition-button").addClass("view-icon-disabled"),void $("#vm-button").addClass("view-icon-disabled");$("#edition-button").on("click",function(){$("#edition-title").val($("#title").text()),$("#edition-numbering").val("5"),$.ajax({url:"/sets/"+$("#active-set-id").text()+"/edition_info",type:"GET",success:function(e){$("#edition-wit-scroller").empty(),$("#edition-wit-scroller").append(e),$("#edition-title").val($("#hidden-ed-title").text()),$("#edition-numbering").val($("#hidden-line-frequency").text()),$(".number-blanks").attr("checked","true"==$("#hidden-number-blanks").text()),$("#edition-builder-dialog").dialog("open")}})}),$("#export-ps-button").on("click",function(){i()}),$("#sbs-button").on("click",function(){n()}),$("#heatmap-button").on("click",function(){e()}),$("#vm-button").on("click",function(){t()});var s=$("#visualize-task-id").text();if(s.length>0)return!1;if(Juxta.Histogram.init(),isHeatmap()){var a=$("#curr-base-witness-id").text();0===a.length&&$("#curr-base-witness-id").text($("#baseId").text()),$("#heatmap-button").css("cursor","default"),$("#heatmap-button").addClass("pressed"),$("#heatmap-button").off(),$("#heatmap-scroller").addClass("scroller")}else isSideBySide()?($("#sbs-button").css("cursor","default"),$("#sbs-button").off(),$("#sbs-button").addClass("pressed"),$(".witness-text").addClass("scroller")):"export"===$("#visualization-type").text()?($("#export-ps-button").addClass("pressed"),$("#histogram-button").addClass("view-icon-disabled"),$("#histogram-button").off(),o()):hideWaitPopup()},!0});var viewWitnessMetadata=function(e){$("#witness-src-row").hide(),$("#witness-description").val(e.description),$("#witness-author").val(e.author),$("#witness-author").addClass("no-focus"),$("#witness-author").attr("readonly","readonly"),$("#witness-source").val(e.source),$("#witness-source").addClass("no-focus"),$("#witness-source").attr("readonly","readonly"),$("#witness-date").val(e.date),$("#witness-date").addClass("no-focus"),$("#witness-date").attr("readonly","readonly"),$("#witness-notes-div").hide(),$("#witness-title-row").hide(),$(".required-metadata").hide(),$("#witness-add-date").text(e.date_created),$("#witness-last-mod-date").text(e.date_modified),$("#wit-date-created-row").show(),$("#wit-date-mod-row").show(),$("#wit-set-usage-row").hide(),$("#witness-description").attr("readonly","readonly"),$("#witness-description").addClass("no-focus"),$("#witness-metadata-dialog").dialog("open")},openWitnessMetadataPopup=function(e,t,i){var n=function(e){var t={};return t.sourceId=$("#witness-src-id").text(),t.title=$("#witness-title").val(),t.description=$("#witness-description").val(),t.source=$("#witness-source").val(),t.author=$("#witness-author").val(),t.date=$("#witness-date").val(),t.notes=$("#witness-notes").val(),0===t.title.length?($("#witness-metadata-msg").text("A title is required"),void $("#witness-metadata-msg").show()):($("#witness-metadata-dialog").dialog("close"),void e(t))};if($("#witness-metadata-dialog").find("input").val(""),$("#witness-src-id").text(e.sourceId),$("#witness-src-file").text(e.sourceFile),null===e.sourceId?$("#witness-src-row").hide():$("#witness-src-row").show(),$("#witness-description").val(e.description),$("#witness-title").val(e.title),$("#witness-author").val(e.author),$("#witness-source").val(e.source),$("#witness-date").val(e.date),$("#witness-notes").val(e.notes),-1===t.indexOf("Prepare")){$("#witness-add-date").text(e.date_created),$("#witness-last-mod-date").text(e.date_modified);var o="";$.each(e.usage,function(e,t){if("COMPARISON_SET"===t.type)o.length>0&&(o+=", "),o=o+'"'+t.name+'"';else{var i=$("#row-source-"+t.id).find("p").text();$("#witness-src-file").text(i)}}),$("#witness-set-usage").text(o),$("#wit-date-created-row").show(),$("#wit-date-mod-row").show(),$("#wit-set-usage-row").show()}else $("#wit-date-created-row").hide(),$("#wit-date-mod-row").hide(),$("#wit-set-usage-row").hide();$("#witness-metadata-dialog").dialog("option","buttons",[{text:"Cancel",click:function(){$(this).dialog("close")}},{text:t,click:function(){n(i)}}]),$("#witness-metadata-dialog").off("keyup"),$("#witness-metadata-dialog").on("keyup",function(e){e.keyCode===$.ui.keyCode.ENTER&&n(i)}),$("#witness-metadata-dialog").dialog("open")},viewComparisonSetMetadata=function(e){$("#set-title-row").hide(),$("#set-description").val(e.description),$("#set-description").attr("readonly","readonly"),$("#set-description").addClass("no-focus"),$("#set-notes").hide(),$("#metadata label").each(function(){var e=$(this).attr("for");-1===e.indexOf("description")&&$(this).hide()}),$("#set-add-date").text(e.date_created),$("#set-last-mod-date").text(e.date_modified),$("#set-owner-div").show(),$("#set-owner").text(e.owner),$(".required-metadata").hide(),$("#set-metadata-dialog").dialog("open"),$("#set-description").blur()},openComparisonSetMetadataPopup=function(e,t,i,n){var o=function(e){var t={};return t.title=$("#set-title").val(),t.description=$("#set-description").val(),t.notes=$("#set-notes").val(),t.witnesses=$("#witness-id-list").val(),0===t.title.length?($("#set-msg").text("A title is required"),void $("#set-msg").show()):($("#set-metadata-dialog").dialog("close"),e(t),void(t.witnesses.length>0&&allLinkClicked($("#sel-all-witnesses"))))};if($("#set-metadata-dialog").find("input").val(""),$("#set-title").val(e.title),$("#set-owner").text(e.owner),$("#set-description").val(e.description),$("#set-notes").val(e.notes),$("#witness-id-list").val(e.witnesses),"Create"!==t){var r="";$.each(e.usage,function(e,t){"WITNESS"===t.type&&(r.length>0&&(r+=", "),r+=t.name)}),$("#set-witnesses").text(r),$("#set-add-date").text(e.date_created),$("#set-last-mod-date").text(e.date_modified),$("#set-date-created-row").show(),$("#set-date-mod-row").show(),$("#set-wit-div").show(),$("#set-owner-div").hide()}else $("#set-date-created-row").hide(),$("#set-date-mod-row").hide(),$("#set-wit-div").hide(),$("#set-owner-div").hide();var s=[{text:"Cancel",click:function(){$(this).dialog("close")}},{text:t,click:function(){o(i)}}];"undefined"!=typeof n&&s.push({text:"Create and Collate",click:function(){o(n)}}),$("#set-metadata-dialog").dialog("option","buttons",s),$("#set-metadata-dialog").off("keyup"),$("#set-metadata-dialog").on("keyup",function(e){e.keyCode===$.ui.keyCode.ENTER&&o(i)}),$("#set-metadata-dialog").dialog("open")},initMetadataPopups=function(){$("#witness-metadata-dialog").dialog({autoOpen:!1,width:350,resizable:!1,modal:!0,open:function(){$("#witness-metadata-msg").hide(),blurPopupButtons()}}),$("#set-metadata-dialog").dialog({autoOpen:!1,width:350,resizable:!1,modal:!0,open:function(){$("#set-msg").hide()}})};$(function(){var e=function(){var e;if($("#condensed").exists()===!1||$("#condensed").exists()&&"false"===$("#condensed").text()?e=$(window).height()-$("#main-title-bar").outerHeight(!0)-$("#share-footer").outerHeight(!0)-14:(e=$(window).height(),$("#page_scroller").css("padding","0"),$(".header").css("border-radius","0"),$(".header").css("-mox-border-radius","0"),$(".header").css("-webkit-border-radius","0")),$("#page_scroller").exists()){$("#page_scroller").height(e),$("#juxta-ws-content").height()<e&&$("#page_scroller").css("overflow-y","hidden");var t=document.getElementById("page_scroller");t.scrollWidth<=t.clientWidth&&$("#page_scroller").css("overflow-x","hidden")}"vmachine"==$("#visualization-type").text()&&($("#page_scroller").css("overflow-x","auto"),$("#page_scroller").css("overflow-y","auto"),$("#page_scroller").css("padding","0"),$("#page_scroller").height($("#page_scroller").height()+10)),$("#controls").css("margin-top","20px"),$("#title").css("margin-top","10px")},t=function(){if($("body").on("wait-requested",function(e,t){t="undefined"!=typeof t?t:null,null!=t?showWaitPopupWithMessage(t,!1):showWaitPopup(!0,"Visualizing")}),$("body").on("wait-completed",function(){hideWaitPopup()}),$("body").on("sbs-alignments-calculated",function(){Juxta.SideBySide.syncDocuments($("#scroll-top").text())}),initMetadataPopups(),e(),$("#message-popup").exists()&&$("#message-popup").dialog({autoOpen:!1,width:400,resizable:!1,modal:!0,open:function(){$(".ui-button").each(function(){$(this).blur()})},buttons:{OK:function(){$(this).dialog("close")}}}),$("#edit-metadata").on("click",function(){"witness"===$("#visualization-type").text()?$.getJSON("/witnesses/"+$("#hidden-item-id").text()+"/metadata?usage",function(e){viewWitnessMetadata(e)}):$.getJSON("/sets/"+$("#hidden-item-id").text()+"/metadata?usage",function(e){viewComparisonSetMetadata(e)
})}),"witness"===$("#visualization-type").text())return $("#juxta-ws-content").css("font-family","'Times New Roman', Times, serif"),window.Juxta.Search.initShared($("#juxta-ws-content")),void hideWaitPopup();if($("#setId").text($("#public-key").text()),Juxta.VisualizationCtl.initialize()===!1){var t=$("#hidden-share-workspace").text();return void awaitTask($("#visualize-task-id").text(),function(){window.location.reload(!0)},function(e){showMessagePopup("Visualization Failed",e),hideWaitPopup()},!0,t)}if("vmachine"===$("#visualization-type").text())return $("#histogram-button").addClass("view-icon-disabled"),$("#histogram-button").off(),$("#vm-button").addClass("pressed"),void hideWaitPopup();if($("#page_scroller").children().length>0)if(isHeatmap()){Juxta.Heatmap.initialize(),window.Juxta.Search.initShared($("#heatmap-text"));var i=$.parseJSON($("#share-params").text());if("false"===i.breaks&&$("#pb-button").trigger("click"),"false"===i.notes&&$("#notes-button").trigger("click"),"true"===i.revisions&&$("#revisions-button").trigger("click"),"false"===$("#condensed").text())$(".witness").off(),$(".witness").on("click",function(){var e=$(this).attr("id").substring(8),t=$("#setId").text(),i=$(".heatmap-scroller").scrollTop(),n=$("#ajax-base-url").text()+t+"/heatmap?base="+e+"&top="+i;showWaitPopup(!0,"Visualizing"),window.location=n}),$("#heatmap-text").on("diff-requested",function(){showWaitPopup()}),$("#heatmap-text").on("diff-request-complete",function(){hideWaitPopup()});else{$("body").css("background-color","#999"),$("body").css("padding","3px"),$("body").css("outline","1px solid black"),$("#main_container").css("outline","1px solid black"),$("#page_scroller").height($("#page_scroller").height()-6),$("#heatmap-scroller").height($("#heatmap-scroller").height()-6),$("#condensed-heatmap-footer").css("text-align","center");var n='<a class="juxta-button condensed" style="float:left" id="histogram-button">Show Histogram</a>';$(n).insertAfter("#condensed-list-button"),$("#condensed-list-button").text("Change Base View"),Juxta.Histogram.condensedMode(),$("#base-ok-button").off(),$("#base-ok-button").on("click",function(){var e="";$(".witness-option").each(function(){"selected"===$(this).attr("selected")&&(e=$(this).attr("id"))});var t=$("#ajax-base-url").text()+$("#setId").text()+"/heatmap?base="+e;showWaitPopup(!0,"Visualizing"),window.location=t}),$("#full-size-link").on("click",function(){var e=$.parseJSON($("#share-params").text()).full,t="/shares/"+e;window.open(t)})}$(".box-title").css("cursor","pointer"),$(".box-title").on("click",function(e){e.stopPropagation();var t=$(this).text().substring(2),i=$(".witness").filter(function(){return $(this).text()===t}).attr("id").substring("witness-".length),n=$("#setId").text(),o=$("#ajax-base-url").text(),r=$("#baseId").text(),s=$("#heatmap-text .active").offset().top-$(".heatmap-scroller").offset().top,a=getHeatmapScrollPercent();showWaitPopup(!0,"Visualizing"),window.location=o+n+"/sidebyside?docs="+r+","+i+"&top="+a+"&tgt="+s});var o=$("#scroll-top").text(),r=$(".heatmap-scroller")[0].scrollHeight,s=o*r;$(".heatmap-scroller").scrollTop(s),hideWaitPopup()}else isSideBySide()?(Juxta.SideBySide.initialize(),window.Juxta.Search.initShared($(".witness-text")),$("#sbs-ok-button").off(),$("#sbs-ok-button").on("click",function(){showWaitPopup(!0,"Visualizing"),Juxta.VisualizationCtl.changeSideBySideWitness()})):($("#share-controls").hide(),$("share-footer").hide());else $("#shared-header").css("text-align","center"),$("share-footer").hide();"true"===$("#open-histogram").text()&&setTimeout(function(){window.Juxta.Histogram.autoOpen()},1e3)};showWaitPopup(!0,"Visualizing"),$("body").on("sidebyside-loaded",function(){t()}),$(window).resize(function(){e()})});